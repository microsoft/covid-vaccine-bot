{"version":3,"sources":["intl lazy /^/.//.*/.json$/ groupOptions: {} namespace object","actions/authActions.ts","actions/intlActions.ts","actions/repoActions.ts","store/localStorage.ts","store/store.ts","mutators/authMutators.ts","config.ts","utils/textUtils.ts","selectors/intlSelectors.ts","utils/dataUtils.ts","mutators/repoMutators.ts","components/Dashboard.tsx","components/Footer.tsx","components/DeleteLocationForm.tsx","selectors/locationSelectors.ts","components/LocationForm.tsx","components/PhaseForm.tsx","selectors/phaseSelectors.ts","components/PhaseQualifierForm.tsx","components/LocationsPhases.tsx","components/LocationsRegions.tsx","components/LocationsStates.tsx","components/Locations.tsx","components/Login.tsx","components/AddQualiferForm.tsx","selectors/qualifierSelectors.ts","components/QualifierPanel.tsx","selectors/changesSelectors.ts","components/Review.tsx","components/Translate.tsx","components/UnAuthorized.tsx","components/UserAccessExpirationForm.tsx","components/App.tsx","services/loginUserService.ts","services/repoServices.ts","orchestrators/authOrchestrators.ts","orchestrators/repoOrchestrators.ts","mutators/intlMutators.ts","orchestrators/intlOrchestrators.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","loginUser","action","reLoginUser","setAppLanguage","language","createPR","fileData","getRepoFileData","initializeGitData","loadPR","prNumber","loadBranch","branch","saveContinue","LOCAL_STORE_KEY","loadState","serializedState","localStorage","getItem","JSON","parse","err","console","warn","clearState","removeItem","initialStore","isAuthenticated","isAuthorized","accessToken","undefined","username","email","userDisplayName","branches","issues","repoFileData","initRepoFileData","globalFileData","initGlobalFileData","mainBranch","currentLanguage","toggleQualifier","isEditable","pendingChanges","isDataRefreshing","prChanges","userWorkingBranch","userWorkingBranches","userAccessExpired","isDataStale","isSavingCommits","localization","defaultLanguage","committedDeletes","getAppStore","createStore","localState","getAppState","store","getRootStore","get","autorun","state","local","stringify","setItem","saveState","setUserAccessToken","mutatorAction","setUserAuthData","data","setUserAccessExpired","setUserNoAccess","logoutUser","window","location","reload","configs","languageKeys","toProperCase","text","res","replace","toLowerCase","letter","toUpperCase","startsWith","formatId","trim","getLanguageKeys","split","getLanguageOptions","excludeLanguage","key","getLanguageDisplayText","filter","l","languageCode","Intl","DisplayNames","type","of","utf8_to_b64","str","btoa","unescape","encodeURIComponent","b64_to_utf8","decodeURIComponent","escape","atob","createCSVDataString","contentObj","forEach","push","getLanguageKeysWithSMSVoice","contentKeys","result","join","rowValues","lang","StringFormat","args","toString","match","index","getText","isHtml","insertStrings","length","ReactHtmlParser","convertCSVDataToObj","csvData","returnObj","row","stringLabel","find","x","stringId","k","endsWith","setIsDataRefreshing","setIsDataStale","setPendingChanges","setSavingCommitsFlag","setBranchList","name","setUserWorkingBranches","setIssuesList","callback","setLoadedPRData","prData","loadedPRData","deletedFiles","commits","c","commit","message","last_commit","pop","setUserWorkingBranch","clearLoadedPRData","setRepoFileData","customStrings","cdcStateNames","cdcStateLinks","setInitRepoFileData","setCurrentLanguage","updateLocationList","locationData","isRegion","selectedState","newLocObj","locationName","details","info","content","metadata","code_alpha","code_numeric","regionType","path","sha","url","strings","vaccination","activePhase","links","eligibility","eligibilityPlan","eligibility_plan","providers","workflow","scheduling","schedulingPhone","scheduling_phone","createLocationDataObj","noPhaseLabel","schedulingPhoneKey","schedulingPhoneDesc","schedulingPhoneDescKey","description","regions","stringsContentObj","deleteLocation","updateLocationData","prevItem","regionObj","value","modifyStateStrings","locationKey","item","moreInfoContent","newStringsObj","infoKey","regionInfo","regionVaccinationObj","phases","copyPhaseData","phase","groupId","qualifications","qualification","question","qualifierId","moreInfoText","affectedPhase","affectedQualifier","newObj","oldObj","currPhaseObj","qual","moreInfoUrl","modifyMoreInfoLinks","updateQualifier","oldId","addQualifier","removeQualifier","removeIndex","findIndex","splice","removePhase","phaseId","addPhase","label","duplicatePhase","phaseSource","nextPhaseId","newItem","newContentKey","RegExp","updatePhase","setActivePhase","updateGlobalQualifiers","qualifierKey","isNew","qualifierKeyBank","qualifier","i","customStringKeys","qKey","tagKey","includes","substr","translateLocationName","toKey","to","sms","voice","translateQualifier","translateMisc","category","parent","recursiveFindAndReplace","saveObj","region","updateStrings","stringsList","observer","useState","prList","setPRList","issueList","setIssueList","useBoolean","hideDialog","toggleHideDialog","toggle","noteKeys","setNoteKeys","useEffect","tempPRList","tempIssueList","requestUpdate","Date","updated_at","isScrappedIssue","labels","some","pull_request","title","author","user","login","update","toLocaleString","toggleCallout","useCallback","tempItems","indexOf","prColumns","fieldName","minWidth","isResizable","onRender","column","body","FontIcon","className","number","iconName","onClick","Callout","onDismiss","target","gapSpace","setInitialFocus","role","directionalHint","ariaLabel","disabled","href","html_url","rel","issueColumns","userWorkingBranchColumns","parseInt","refreshData","onRefreshDataClick","ProgressIndicator","DetailsList","items","columns","setKey","layoutMode","DetailsListLayoutMode","justified","ariaLabelForSelectionColumn","ariaLabelForSelectAllCheckbox","checkButtonAriaLabel","checkboxVisibility","style","textAlign","Dialog","hidden","dialogContentProps","DialogType","normal","closeButtonAriaLabel","modalProps","isBlocking","DialogFooter","PrimaryButton","DefaultButton","display","flexDirection","process","Link","memo","children","cursor","marginLeft","marginRight","alignContent","open","props","onSubmit","onCancel","getCustomStrings","keyFilter","customStringsList","entries","setInitialData","getStrings","selectedRegion","returnVal","getRegionCustomStrings","getStateCustomStrings","vacInfo","formData","setFormData","fieldChanges","useRef","regionTypeOptions","baseTitle","formTitle","handleRegionChange","_ev","current","handleTextChange","ev","onNoLabelChange","checked","canSubmit","TextField","onChange","Dropdown","selectedKey","placeholder","options","Checkbox","duplicate","keyId","isActive","hasError","setHasError","isDuplicate","disableSubmit","onGetErrorMessage","getPhaseQualifierItems","getPhaseQualifierItemsByKey","qualifierList","sort","a","b","getExactCustomStrings","rowItems","onRowItemRemove","onRowItemTextChange","onRowItemQualifierChange","groupKey","phaseTagItems","phaseQualifiers","tagKeys","tagList","getPhaseTagItems","phaseQualifierItems","filteredQualifierItems","setFilteredQualifierItems","overrideIconFlag","moreInfoKey","regionPhases","currPhase","currQualification","setMoreInfoText","getPhaseMoreInfoUrl","setMoreInfoUrl","changedItem","getPhaseMoreInfoTextByKey","onTagChange","_event","option","q","onQualifierChange","onMoreInfoTextChange","onMoreInfoUrlChange","pointerEvents","visibility","defaultSelectedKey","styles","root","width","IconButton","iconProps","menuIcon","margin","menuProps","isBeakVisible","DirectionalHint","rightTopEdge","aria-label","multiline","autoAdjustHeight","resizable","padding","onBlur","phaseList","setPhaseList","groupToggleState","selectedModalFormItem","isDuplaceModalOpen","openDuplicateModal","setTrue","dismissDuplicateModal","setFalse","onDuplicateSubmit","onDuplicatePhaseClick","tempPhaseList","currentStateObj","phaseObj","isCollapsed","isActivePhase","tempPhaseObj","count","phaseItems","String","onRemoveRowItem","group","newItemIndex","onChangeRowItemText","currentItem","initItem","calcInfoKey","onChangeRowItemQualifier","idx","toggleGroup","onToggleCollapse","color","groupItem","marginTop","onAddQualifierClick","Modal","isOpen","isModeless","isDarkOverlay","filteredRegionsList","setFilteredRegionsList","stateRegionsFullList","selectedPhaseItem","setSelectedPhaseItem","isLocationModalOpen","openLocationModal","dismissLocationModal","isDeleteLocationModalOpen","openDeleteLocationModal","dismissDeleteLocationModal","isPhaseModalOpen","openPhaseModal","dismissPhaseModal","onNavigateBack","subLocationsColumns","loc","phaseColumns","maxWidth","phaseItemList","setPhaseItemList","selectedStateObj","tempList","valObj","newList","setInitialPhaseItems","selectedPhase","onLocationFormSubmit","onDeleteLocationFormSubmit","onLocationFormOpen","onPhaseFormOpen","onLocationDeleteFormOpen","onRenderItemColumn","_index","fieldContent","onRegionFilter","onItemInvoked","SearchBox","selectionPreservedOnEmptyClick","phaseData","onSelectedItem","filteredStateList","setFilteredStateList","stateRepoFullList","selectedLocationItem","locationColumns","col","nextFilteredStateList","stateId","stateNames","stateLabel","onStateFilter","openSelection","setSelectedState","tagsOptions","globalQualifiersList","replaceAll","getGlobalQualifierValidationTexts","isAddingTag","setIsAddingTag","handleTagChange","newQualifier","newQualifierText","isTagDuplicate","newTag","newTagKey","createNewTag","validateOnLoad","qualifierGroup","setQualifierGroup","qualifierGroupItems","setQualifierGroupItems","isAddQualifierModalOpen","openAddQualifierModal","dismissAddQualifierModal","formItem","groupKeys","questionItemKeys","tempQualifierGroup","tempQualifierGroupItems","questionGroupKey","groupIdx","obj","startIndex","onAddQualifierFormOpen","addQualifierSubmit","setTimeout","tag","groups","groupProps","showEmptyGroups","compact","isHeaderVisible","getChanges","changesList","locationUpdates","globalUpdates","isEqual","delete","addChanges","showDashboard","changesColumns","setChangesList","setLocationUpdates","setGlobalUpdates","showLoading","setShowLoading","errorMessage","setErrorMessage","initData","prTitle","prDetails","setInitialFormData","handleSubmit","resp","error","MessageBar","messageBarType","MessageBarType","dismissButtonAriaLabel","rows","filterDropdownStyles","dropdown","border","fontSize","backgroundColor","caretDown","dropdownOptionText","languageOptions","translationFilter","miscFilter","locationFullList","qualifierFullList","miscFullList","stateSpecificOptions","mainLanguage","toLanguage","fileUploadRef","createRef","locationList","setLocationList","setQualifierList","miscList","setMiscList","translationFilterState","setTranslationFilterState","miscFilterState","setMiscFilterState","miscStateSpecFilterState","setMiscStateSpecFilterState","locations","qualifiers","misc","isSectionCollapse","setSectionCollapse","buildTranslationsLists","tempMiscList","stateLinks","stateLinkLabel","translateToValue","translateToValue_SMS","translateToValue_Voice","translateLinkToValue","translateLinkToValue_SMS","translateLinkToValue_Voice","fromKey","from","_to","_sms","_voice","tempQualifierList","stateStrings","aKey","bKey","concat","tempMiscStateSpecificList","tempKeys","onCollapseSection","handleLocationTextChange","rowItem","change","handleQualifierTextChange","handleMiscTextChange","updateLocationTranslation","hasUpdate","updateQualifierTranslation","updateMiscTranslation","onLanguageChange","onTranslationFilterChange","onMiscFilterChange","selectedMiscStateOptionKey","filteredList","onMiscStateSpecificFilterChange","onReaderLoadData","readerEvent","searchForStrings","elem","resultObj","assign","htmlFor","ref","files","file","reader","FileReader","onload","readAsText","stringsObj","stringData","Blob","csvUrl","URL","createObjectURL","click","val","Math","ceil","isPanelOpen","showPanel","hidePanel","isPersonaMenuOpen","showPersonaMenu","hidePersonaMenu","branchWasSaved","setBranchWasSaved","isAccessExpiration","showAccessExpirationModal","hideAccessExpirationModal","setSelectedKey","personaComponent","onbeforeunload","togglePanel","headerText","onAccessExpirationFormSubmit","renderRepoMessageBar","isMultiline","committer","renderSaveContinueMessageBar","actions","Spinner","ariaLive","labelPosition","MessageBarButton","exact","icon","rootHovered","rootPressed","selectors","Persona","size","PersonaSize","size32","hidePersonaDetails","ContextualMenu","onItemClick","Pivot","onLinkClick","PivotItem","itemKey","firebaseApp","firebase","initializeApp","apiKey","authDomain","loginUserService","authResp","provider","auth","GithubAuthProvider","addScope","signInWithPopup","response","oauthCreds","credential","displayName","additionalUserInfo","githubRepoOwner","githubRepoName","createPath","pathInput","head","tail","gitFetch","headers","json","_options","apiUrl","fetch","method","Authorization","ok","status","log","getContent","token","createWorkingBranch","branchName","commitChanges","branchLastCommitSha","updateObj","query","globalResp","locationResp","skipFetch","locationObj","infoQuery","vacQuery","stringQuery","regionKeys","regInfoQuery","regVacQuery","repoServices","command","extraData","now","Accept","userPrs","allBranches","usersBranches","pr","prs","all","populatedPRs","loadPRResponse","commitResp","dataFolderObj","policyFolderGitUrl","folder","git_url","loadPolicyFolderResponse","stateData","tree","element","lastInstance","lastIndexOf","filePath","substring","fileName","fileType","fileObj","localizationFolderGitUrl","localizationResponse","customStringsData","cdcStateNamesData","cdcStateLinksData","customStringsDataParse","cdcStateNamesDataParse","cdcStateLinksDataParse","prFormData","base","prResp","orchestrator","accessResp","handleError","nextWorkingBranches","changes","setLocalization","setDefaultLanguage","isEmpty","config","rtl","isRtlLang","initializeIcons","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.69f44bac.chunk.js","sourcesContent":["var map = {\n\t\"./en-us.json\": [\n\t\t284,\n\t\t3\n\t],\n\t\"./es-us.json\": [\n\t\t285,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 149;\nmodule.exports = webpackAsyncContext;","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { action } from 'satcheljs'\n\nexport const loginUser = action('loginUser')\nexport const reLoginUser = action('reLoginUser')\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { action } from 'satcheljs'\n\nexport const setAppLanguage = action('setAppLanguage', (language: string) => ({\n\tlanguage,\n}))\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { action } from 'satcheljs'\n\nexport const createPR = action('createPR', (fileData: any) => ({\n\tfileData,\n}))\n\nexport const getRepoFileData = action('getRepoFileData')\n\nexport const initializeGitData = action('initializeGitData')\n\nexport const loadPR = action('loadPR', (prNumber: any) => ({\n\tprNumber,\n}))\n\nexport const loadBranch = action('loadBranch', (branch: any) => ({\n\tbranch,\n}))\n\nexport const saveContinue = action('saveContinue')\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { AppState } from './schema/AppState'\n\nexport const LOCAL_STORE_KEY = 'dataComposer'\n\nexport const loadState = (): AppState | undefined => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem(LOCAL_STORE_KEY)\n\n\t\tif (!serializedState) return undefined\n\n\t\treturn JSON.parse(serializedState)\n\t} catch (err) {\n\t\tconsole.warn('Error loading state', err)\n\t\tclearState()\n\t\treturn undefined\n\t}\n}\n\nexport const saveState = (state: any): void => {\n\ttry {\n\t\tconst local = loadState()\n\t\tconst serializedState = JSON.stringify({\n\t\t\t...local,\n\t\t\t...state,\n\t\t})\n\n\t\tlocalStorage.setItem(LOCAL_STORE_KEY, serializedState)\n\t} catch (err) {\n\t\tconsole.warn('Error saving state', err)\n\t\tclearState()\n\t}\n}\n\nexport const clearState = (): void => {\n\tlocalStorage.removeItem(LOCAL_STORE_KEY)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { autorun } from 'mobx'\nimport { createStore, getRootStore } from 'satcheljs'\nimport { loadState, saveState } from './localStorage'\nimport { AppState } from './schema/AppState'\n\nexport const initialStore = {\n\tisAuthenticated: false,\n\tisAuthorized: true,\n\taccessToken: undefined,\n\tusername: undefined,\n\temail: undefined,\n\tuserDisplayName: undefined,\n\tbranches: undefined,\n\tissues: [],\n\trepoFileData: undefined,\n\tinitRepoFileData: undefined,\n\tglobalFileData: undefined,\n\tinitGlobalFileData: undefined,\n\tmainBranch: undefined,\n\tcurrentLanguage: 'en-us',\n\ttoggleQualifier: false,\n\tisEditable: true,\n\tpendingChanges: false,\n\tisDataRefreshing: false,\n\tprChanges: undefined,\n\tuserWorkingBranch: undefined,\n\tuserWorkingBranches: [],\n\tuserAccessExpired: false,\n\tisDataStale: false,\n\tisSavingCommits: false,\n\tlocalization: {},\n\tdefaultLanguage: {},\n\tcommittedDeletes: []\n}\n\nexport const getAppState = (): AppState => {\n\tconst localState = loadState()\n\n\treturn {\n\t\t...initialStore,\n\t\t...localState,\n\t}\n}\n\nexport const getAppStore = createStore<AppState>('appState', getAppState())\n\nconst store = getRootStore().get('appState')\n\nautorun(() => {\n\tif (store.accessToken)\n\t\tsaveState({\n\t\t\taccessToken: store.accessToken,\n\t\t\tisAuthorized: store.isAuthorized,\n\t\t\tisAuthenticated: store.isAuthenticated,\n\t\t\tuserDisplayName: store.userDisplayName,\n\t\t\tusername: store.username,\n\t\t\temail: store.email,\n\t\t\tuserAccessExpired: store.userAccessExpired,\n\t\t\tlocalization: store.localization,\n\t\t\tcurrentLanguage: store.currentLanguage,\n\t\t})\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { mutatorAction } from 'satcheljs'\nimport { clearState } from '../store/localStorage'\nimport { AppState } from '../store/schema/AppState'\nimport { getAppStore } from '../store/store'\n\nexport const setUserAccessToken = mutatorAction(\n\t'setUserAccessToken',\n\t(accessToken?: any) => {\n\t\tconst store = getAppStore()\n\t\tstore.accessToken = accessToken\n\t}\n)\n\nexport const setUserAuthData = mutatorAction(\n\t'setUserAuthData',\n\t(data: AppState | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.accessToken = data.accessToken\n\t\t\tstore.email = data.email\n\t\t\tstore.isAuthenticated = data.isAuthenticated\n\t\t\tstore.userDisplayName = data.userDisplayName\n\t\t\tstore.username = data.username\n\t\t}\n\t}\n)\n\nexport const setUserAccessExpired = mutatorAction('setUserAccessExpired', (userAccessExpired: boolean) => {\n\tconst store = getAppStore()\n\tstore.userAccessExpired = userAccessExpired\n})\n\nexport const setUserNoAccess = mutatorAction('setUserNoAccess', () => {\n\tconst store = getAppStore()\n\tstore.isAuthorized = false\n})\n\nexport const logoutUser = mutatorAction('logoutUser', () => {\n\tclearState()\n\n\twindow.location.reload()\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nconst configs = {\n\tlanguageKeys:\n\t\t'en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th',\n\tdefaultLanguage: 'en-us',\n}\n\nexport default configs\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport configs from '../config'\n\nexport const toProperCase = (text: string): string => {\n\tconst res = text\n\t\t.replace(/_/g, ' ')\n\t\t.toLowerCase()\n\t\t.replace(/\\b[a-z](?=[a-z]{2})/g, function (letter) {\n\t\t\treturn letter.toUpperCase()\n\t\t})\n\n\tif (res.startsWith('us ')) {\n\t\treturn res.replace('us ', 'US ')\n\t}\n\n\tif (res.startsWith('st. ')) {\n\t\treturn res.replace('st. ', 'St. ')\n\t}\n\treturn res\n}\n\nexport const formatId = (text: string): string => {\n\treturn text\n\t\t?.trim()\n\t\t.replace(/[^a-z0-9\\s]/gi, '')\n\t\t.replace(/\\s+/g, '_')\n\t\t.toLowerCase()\n}\n\nexport const getLanguageKeys = (): string[] => {\n\treturn configs.languageKeys.split(',')\n}\n\nexport const getLanguageOptions = (excludeLanguage?: string): any[] => {\n\treturn getLanguageKeys()\n\t\t.map((key) => {\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\ttext: getLanguageDisplayText(key, key),\n\t\t\t}\n\t\t})\n\t\t.filter((l) => l.key !== excludeLanguage)\n}\n\nexport const getLanguageDisplayText = (\n\tcurrentLanguage: string,\n\tlanguageCode: string\n): string => {\n\t// @ts-expect-error DisplayNames not on Intl\n\tconst languageName = new Intl.DisplayNames([currentLanguage], {\n\t\ttype: 'language',\n\t})\n\treturn languageName.of(languageCode)\n}\n\nexport const utf8_to_b64 = (str: string): string => {\n\treturn btoa(unescape(encodeURIComponent(str)))\n}\n\nexport const b64_to_utf8 = (str: string): string => {\n\treturn decodeURIComponent(escape(atob(str)))\n}\n\nexport const getLanguageKeysWithSMSVoice = (): string[] => {\n\tconst languageKeys: any[] = []\n\tgetLanguageKeys().forEach((l) => {\n\t\tlanguageKeys.push(l)\n\t\tlanguageKeys.push(`${l}-sms`)\n\t\tlanguageKeys.push(`${l}-voice`)\n\t})\n\treturn languageKeys\n}\n\nexport const createCSVDataString = (contentObj: any): string => {\n\tconst languageKeys = getLanguageKeysWithSMSVoice()\n\tconst contentKeys = Object.keys(contentObj)\n\n\tlet result = 'String ID,' + languageKeys.join(',') + '\\n'\n\n\tfor (const key of contentKeys) {\n\t\tconst rowValues = [key]\n\t\tlanguageKeys.forEach((lang: string) => {\n\t\t\tif (contentObj[key][lang]) {\n\t\t\t\trowValues.push(`\"${contentObj[key][lang].replace(/\"/g, '\"\"')}\"`)\n\t\t\t} else {\n\t\t\t\trowValues.push('')\n\t\t\t}\n\t\t})\n\n\t\tresult += rowValues.join(',') + '\\n'\n\t}\n\treturn result\n}\n\n/**\n *\n * @param str String to inject arguments into\n * @param args Arguments to inject into string\n * @returns string with arguments injected\n */\nexport const StringFormat = (str: string, ...args: string[]): string => {\n\treturn str.toString().replace(/{(\\d+)}/g, (match, index) => args[index] || '')\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { get } from 'lodash'\nimport { ReactNode } from 'react'\nimport ReactHtmlParser from 'react-html-parser'\n\nimport { getAppStore } from '../store/store'\nimport { StringFormat } from '../utils/textUtils'\n\n/**\n *\n * @param key translation json key\n * @param isHtml true if getText parses translation string to html\n * @param insertStrings array of strings to inject into translation\n * @returns string or html\n */\nexport function getText(\n\tkey: string,\n\tisHtml: true,\n\t...insertStrings: any[]\n): ReactNode\nexport function getText(key: string): string\nexport function getText(\n\tkey: string,\n\tisHtml?: true,\n\t...insertStrings: any[]\n): any {\n\tconst { localization, defaultLanguage } = getAppStore()\n\n\tlet res =\n\t\tget(localization, key) ?? get(defaultLanguage, key) ?? `NO COPY FOR ${key}`\n\n\tif (!isHtml) return res.toString()\n\n\tif (insertStrings.length)\n\t\tres = ReactHtmlParser(StringFormat(res, ...insertStrings))\n\telse res = ReactHtmlParser(res)\n\n\treturn res\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nexport const convertCSVDataToObj = (csvData: any): any => {\n\tconst returnObj: any = {}\n\n\tcsvData.forEach((row: any) => {\n\t\tconst stringLabel: string = Object.keys(row).find(\n\t\t\t(x) => x.trim() === 'String ID'\n\t\t) as string\n\t\tconst stringId: string = row[stringLabel]\n\n\t\tdelete row[stringLabel]\n\t\tObject.keys(row).forEach((k) => {\n\t\t\tif (!k.endsWith('sms') || !k.endsWith('voice')) {\n\t\t\t\t!(`${k}-sms` in row) && (row[`${k}-sms`] = '')\n\t\t\t\t!(`${k}-voice` in row) && (row[`${k}-voice`] = '')\n\t\t\t}\n\t\t})\n\n\t\treturnObj[stringId.toLowerCase()] = row\n\t})\n\n\treturn returnObj\n}\n\nexport const createLocationDataObj = (locationData: any): any => {\n\tconst locationName = locationData.details\n\t\t.replace(/[^a-z0-9\\s]/gi, '')\n\t\t.replace(/\\s/g, '_')\n\t\t.toLowerCase()\n\treturn {\n\t\tinfo: {\n\t\t\tcontent: {\n\t\t\t\tid: locationName,\n\t\t\t\tmetadata: {\n\t\t\t\t\tcode_alpha: locationName,\n\t\t\t\t\tcode_numeric: 0,\n\t\t\t\t},\n\t\t\t\tname: locationData.details,\n\t\t\t\ttype: locationData.regionType,\n\t\t\t},\n\t\t\tname: 'info.json',\n\t\t\tpath: `${locationName}/info.json`,\n\t\t\tsha: '',\n\t\t\ttype: 'info',\n\t\t\turl: '',\n\t\t},\n\t\tstrings: { content: {} },\n\t\tvaccination: {\n\t\t\tcontent: {\n\t\t\t\tactivePhase: '',\n\t\t\t\tlinks: {\n\t\t\t\t\t...(locationData?.eligibility !== '' && {\n\t\t\t\t\t\teligibility: {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.eligibilityPlan !== '' && {\n\t\t\t\t\t\teligibility_plan: {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.info !== '' && {\n\t\t\t\t\t\tinfo: {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${locationName}/state_link`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.providers !== '' && {\n\t\t\t\t\t\tproviders: {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.workflow !== '' && {\n\t\t\t\t\t\tworkflow: {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.scheduling !== '' && {\n\t\t\t\t\t\tscheduling: {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.schedulingPhone !== '' && {\n\t\t\t\t\t\tscheduling_phone: {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: locationData.schedulingPhone,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t},\n\t\t\tname: 'vaccination.json',\n\t\t\tpath: `${locationName}/vaccination.json`,\n\t\t\tsha: '',\n\t\t\ttype: 'vaccination',\n\t\t\turl: '',\n\t\t},\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { mutatorAction } from 'satcheljs'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\nimport { createLocationDataObj } from '../utils/dataUtils'\nimport { formatId } from '../utils/textUtils'\n\nexport const setIsDataRefreshing = mutatorAction(\n\t'setIsDataRefreshing',\n\t(isDataRefreshing: boolean) => {\n\t\tconst store = getAppStore()\n\t\tstore.isDataRefreshing = isDataRefreshing\n\t}\n)\n\nexport const setIsDataStale = mutatorAction(\n\t'isDataStale',\n\t(isDataStale: boolean) => {\n\t\tconst store = getAppStore()\n\t\tstore.isDataStale = isDataStale\n\t}\n)\n\nexport const setPendingChanges = mutatorAction(\n\t'setPendingChanges',\n\t(pendingChanges: boolean) => {\n\t\tconst store = getAppStore()\n\t\tstore.pendingChanges = pendingChanges\n\t}\n)\n\nexport const setSavingCommitsFlag = mutatorAction(\n\t'setSavingCommitsFlag',\n\t(data: boolean) => {\n\t\tconst store = getAppStore()\n\t\tstore.isSavingCommits = data\n\t}\n)\n\nexport const setGlobalAndRepoChanges = mutatorAction(\n\t'setGlobalAndRepoChanges',\n\t() => {\n\t\tconst store = getAppStore()\n\t\tstore.initGlobalFileData = store.globalFileData\n\t\tstore.initRepoFileData = store.repoFileData\n\t}\n)\n\nexport const setBranchList = mutatorAction(\n\t'setBranchList',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.branches = data\n\t\t\tconst mainBranch = data.find((branch) => branch.name === 'main')\n\t\t\tstore.mainBranch = mainBranch\n\t\t}\n\t}\n)\n\nexport const setUserWorkingBranches = mutatorAction(\n\t'setUserWorkingBranches',\n\t(userWorkingBranches: any[] | undefined) => {\n\t\tif (userWorkingBranches) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.userWorkingBranches = userWorkingBranches\n\t\t}\n\t}\n)\n\nexport const setIssuesList = mutatorAction(\n\t'setIssuesList',\n\t(data: any[] | undefined, callback?: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.issues = data\n\n\t\t\tif (callback) {\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setLoadedPRData = mutatorAction(\n\t'setLoadedPRData',\n\t(prData: any | undefined) => {\n\t\tconst store = getAppStore()\n\t\tif (prData) {\n\t\t\tstore.loadedPRData = prData.data\n\t\t\tconst deletedFiles = prData.commits.filter((c:any) => c.commit.message.startsWith('deleted')).map((c:any) => c.commit.message.replace('deleted ',''))\n\t\t\tstore.committedDeletes = deletedFiles\n\t\t\tstore.prChanges = {\n\t\t\t\tlast_commit: prData?.commits ? [...prData.commits].pop() : undefined,\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setUserWorkingBranch = mutatorAction(\n\t'setUserWorkingBranch',\n\t(data: any | undefined) => {\n\t\tconst store = getAppStore()\n\t\tstore.userWorkingBranch = data\n\t}\n)\n\nexport const clearLoadedPRData = mutatorAction('clearLoadedPRData', () => {\n\tconst store = getAppStore()\n\tstore.pendingChanges = false\n\tstore.prChanges = undefined\n\tstore.loadedPRData = undefined\n})\n\nexport const setRepoFileData = mutatorAction(\n\t'setRepoFileData',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.repoFileData = data[0]\n\t\t\tstore.globalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setInitRepoFileData = mutatorAction(\n\t'setInitRepoFileData',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.repoFileData = data[0]\n\t\t\tstore.initRepoFileData = data[0]\n\t\t\tstore.globalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t\tstore.initGlobalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setCurrentLanguage = mutatorAction(\n\t'setCurrentLanguage',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.currentLanguage = data.key\n\t\t}\n\t}\n)\nexport const updateLocationList = mutatorAction(\n\t'updateLocationList',\n\t(locationData: any, isRegion: boolean, selectedState?: any) => {\n\t\tif (locationData) {\n\t\t\tconst store = getAppStore()\n\t\t\tconst newLocObj = createLocationDataObj(locationData)\n\t\t\tstore.pendingChanges = true\n\n\t\t\tif (!isRegion) {\n\t\t\t\tstore.globalFileData.cdcStateNames.content[\n\t\t\t\t\t`cdc/${newLocObj.info.content.id}/state_name`\n\t\t\t\t] = {\n\t\t\t\t\t...store.globalFileData.cdcStateNames.content[\n\t\t\t\t\t\t`cdc/${newLocObj.info.content.id}/state_name`\n\t\t\t\t\t],\n\t\t\t\t\t[store.currentLanguage]: locationData.details,\n\t\t\t\t}\n\n\t\t\t\tnewLocObj.strings.path = `${newLocObj.info.content.id}/${newLocObj.info.content.id}.csv`\n\n\t\t\t\tif ('noPhaseLabel' in newLocObj.vaccination.content) {\n\t\t\t\t\tnewLocObj.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tnewLocObj.vaccination.content = {\n\t\t\t\t\t\t...newLocObj.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst stringsContentObj: any = {}\n\t\t\t\tif (locationData.schedulingPhone !== '') {\n\t\t\t\t\tconst schedulingPhoneKey: string = `c19.link/scheduling.phone.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tstringsContentObj[schedulingPhoneKey] = {\n\t\t\t\t\t\t...stringsContentObj[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.text = schedulingPhoneKey\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhoneDesc !== '') {\n\t\t\t\t\tconst schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tstringsContentObj[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...stringsContentObj[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\n\t\t\t\tnewLocObj.strings.content = stringsContentObj\n\n\t\t\t\tstore.repoFileData[newLocObj.info.content.id] = newLocObj\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t} else {\n\t\t\t\tconst location = store.repoFileData[selectedState.key]\n\t\t\t\tnewLocObj.info.path = `${selectedState.key}/regions/${newLocObj.info.path}`\n\t\t\t\tnewLocObj.vaccination.path = `${selectedState.key}/regions/${newLocObj.vaccination.path}`\n\n\t\t\t\tif ('noPhaseLabel' in newLocObj.vaccination.content) {\n\t\t\t\t\tnewLocObj.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tnewLocObj.vaccination.content = {\n\t\t\t\t\t\t...newLocObj.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData.info !== '') {\n\t\t\t\t\tnewLocObj.vaccination.content.links.info.text = `cdc/${location.info.content.id}/state_link` //`c19.link/info.${newLocObj.info.content.id}`.toLowerCase()\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhone !== '') {\n\t\t\t\t\tconst schedulingPhoneKey: string = `c19.link/scheduling.phone.${location.info.content.metadata.code_alpha}.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.text = schedulingPhoneKey\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhoneDesc !== '') {\n\t\t\t\t\tconst schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${location.info.content.metadata.code_alpha}.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\n\t\t\t\tif (location.regions) {\n\t\t\t\t\tlocation.regions[newLocObj.info.content.id] = newLocObj\n\t\t\t\t} else {\n\t\t\t\t\tlocation.regions = {\n\t\t\t\t\t\t[newLocObj.info.content.id]: newLocObj,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const deleteLocation = mutatorAction(\n\t'deleteLocation',\n\t(locationData: any, isRegion?: boolean, selectedState?: any) => {\n\t\tconst store = getAppStore()\n\t\tstore.pendingChanges = true\n\n\t\tif (isRegion && selectedState){\n\t\t\tdelete store.repoFileData[selectedState.key]?.regions?.[locationData.key]\n\t\t}\n\t\telse {\n\t\t\tdelete store.repoFileData[locationData.key]\n\t\t\tdelete store.globalFileData.cdcStateLinks.content[`cdc/${locationData.key}/state_link`]\n\t\t\tdelete store.globalFileData.cdcStateNames.content[`cdc/${locationData.key}/state_name`]\n\t\t}\n\n\t\tstore.repoFileData = { ...store.repoFileData }\n\t}\n)\n\nexport const updateLocationData = mutatorAction(\n\t'updateLocationData',\n\t(\n\t\tlocationData: any,\n\t\tisRegion: boolean,\n\t\tprevItem: any,\n\t\tselectedState?: any\n\t) => {\n\t\tif (locationData) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.pendingChanges = true\n\t\t\tif (!isRegion) {\n\t\t\t\tconst location = store.repoFileData[prevItem.key]\n\n\t\t\t\tstore.globalFileData.cdcStateNames.content[\n\t\t\t\t\t`cdc/${prevItem.key}/state_name`\n\t\t\t\t] = {\n\t\t\t\t\t...store.globalFileData.cdcStateNames.content[\n\t\t\t\t\t\t`cdc/${prevItem.key}/state_name`\n\t\t\t\t\t],\n\t\t\t\t\t[store.currentLanguage]: locationData.details,\n\t\t\t\t}\n\n\t\t\t\tlocation.info.content.name = locationData.details\n\t\t\t\tconst schedulingPhoneKey = `c19.link/scheduling.phone.${prevItem.value.info.content.metadata.code_alpha}`.toLowerCase()\n\n\t\t\t\tif ('noPhaseLabel' in location.vaccination.content) {\n\t\t\t\t\tlocation.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tlocation.vaccination.content = {\n\t\t\t\t\t\t...location.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibility !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.eligibility) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibility.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.eligibility\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibilityPlan !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.eligibility_plan) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibilityPlan.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.eligibility_plan\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.info !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.info) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.info.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.info.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.info = {\n\t\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\t\ttext: `cdc/${prevItem.key}/state_link`,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.info = {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${prevItem.key}/state_link`,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.info\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.providers !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.providers) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.providers.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.providers.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.providers = {\n\t\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.providers = {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.providers\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.workflow !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.workflow) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.workflow.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.workflow.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.workflow\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.scheduling !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.scheduling) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.scheduling.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.scheduling\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tif (location.vaccination.content.links.scheduling_phone) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone.url.toLowerCase() !==\n\t\t\t\t\t\t\t`tel:${locationData.schedulingPhone}`.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone &&\n\t\t\t\t\tlocationData.schedulingPhoneDesc !== ''\n\t\t\t\t) {\n\t\t\t\t\tlet schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${prevItem.value.info.content.metadata.code_alpha}`.toLowerCase()\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t.description\n\t\t\t\t\t) {\n\t\t\t\t\t\tschedulingPhoneDescKey =\n\t\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t\t.description\n\t\t\t\t\t}\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst location = store.repoFileData[selectedState.key]\n\t\t\t\tconst regionObj = location.regions[prevItem.key]\n\t\t\t\tregionObj.info.content.name = locationData.details\n\n\t\t\t\tif ('noPhaseLabel' in regionObj.vaccination.content) {\n\t\t\t\t\tregionObj.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tregionObj.vaccination.content = {\n\t\t\t\t\t\t...regionObj.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst schedulingPhoneKey = `c19.link/scheduling.phone.${location.info.content.metadata.code_alpha}.${regionObj.info.content.id}`.toLowerCase()\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibility !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.eligibility) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibility.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.eligibility\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibilityPlan !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.eligibility_plan) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibilityPlan.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.eligibility_plan\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.info !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.info) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.info.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.info.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.info = {\n\t\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\t\ttext: `cdc/${location.info.content.id}/state_link`,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.info = {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${location.info.content.id}/state_link`,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.info\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.providers !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.providers) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.providers.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.providers.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.providers = {\n\t\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.providers = {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.providers\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.workflow !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.workflow) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.workflow.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.workflow.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.workflow\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.scheduling !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.scheduling) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.scheduling.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.scheduling\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tif (regionObj.vaccination.content.links.scheduling_phone) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone.url.toLowerCase() !==\n\t\t\t\t\t\t\t`tel:${locationData.schedulingPhone}`.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone &&\n\t\t\t\t\tlocationData.schedulingPhoneDesc !== ''\n\t\t\t\t) {\n\t\t\t\t\tlet schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${location.info.content.metadata.code_alpha}.${regionObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t.description\n\t\t\t\t\t) {\n\t\t\t\t\t\tschedulingPhoneDescKey =\n\t\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t\t.description\n\t\t\t\t\t}\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\t\t\t}\n\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t}\n\t}\n)\n\nexport const modifyStateStrings = mutatorAction(\n\t'modifyStateStrings',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (!data.item.moreInfoContent) {\n\t\t\t\t\tdelete location.strings.content[data.infoKey]\n\t\t\t\t} else {\n\t\t\t\t\tconst newStringsObj: any = {}\n\t\t\t\t\tnewStringsObj[store.currentLanguage] = data.item.moreInfoContent\n\t\t\t\t\tlocation.strings.content[data.infoKey] = newStringsObj\n\t\t\t\t}\n\n\t\t\t\tif (!data.regionInfo) {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\tif (data.item.moreInfoContent) {\n\t\t\t\t\t\t\taffectedQualifier.moreInfoText = data.infoKey\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdelete affectedQualifier.moreInfoText\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t\t\tmoreInfoText: data.infoKey,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedQualifier.moreInfoText = data.infoKey\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nconst copyPhaseData = (newObj: any, oldObj: any) => {\n\tnewObj.content['phases'] = []\n\toldObj.content.phases.forEach((phase: any) => {\n\t\tconst currPhaseObj: any = {}\n\t\tcurrPhaseObj['id'] = phase.id\n\t\tcurrPhaseObj['qualifications'] = []\n\t\tphase.qualifications.forEach((qual: any) => {\n\t\t\tcurrPhaseObj.qualifications.push({\n\t\t\t\tquestion: qual.question.toLowerCase(),\n\t\t\t\tmoreInfoText: qual.moreInfoText\n\t\t\t\t\t?.replace(/[^a-z0-9._/\\s]/gi, '')\n\t\t\t\t\t.replace(/\\s/g, '_')\n\t\t\t\t\t.toLowerCase(),\n\t\t\t\tmoreInfoUrl: qual.moreInfoUrl,\n\t\t\t})\n\t\t})\n\n\t\tnewObj.content.phases.push(currPhaseObj)\n\t})\n}\n\nexport const modifyMoreInfoLinks = mutatorAction(\n\t'modifyMoreInfoLinks',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tif (affectedPhase) {\n\t\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\t\taffectedQualifier.moreInfoUrl = data.item.moreInfoUrl\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.moreInfoUrl = data.item.moreInfoUrl\n\t\t\t\t\t} else {\n\t\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t\t\tmoreInfoUrl: data.item.moreInfoUrl,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateQualifier = mutatorAction(\n\t'updateQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() === data.oldId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.question = data.item.qualifierId.toLowerCase()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() === data.oldId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.question = data.item.qualifierId.toLowerCase()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\nexport const addQualifier = mutatorAction(\n\t'addQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\nexport const removeQualifier = mutatorAction(\n\t'removeQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst removeIndex = affectedPhase.qualifications.findIndex(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\taffectedPhase.qualifications.splice(removeIndex, 1)\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst removeIndex = affectedPhase.qualifications.findIndex(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\taffectedPhase.qualifications.splice(removeIndex, 1)\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\nexport const removePhase = mutatorAction(\n\t'removePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst removeIndex = regionVaccinationObj.content.phases.findIndex(\n\t\t\t\t\t\t(phase: any) => phase.id === data.phaseId\n\t\t\t\t\t)\n\n\t\t\t\t\tregionVaccinationObj.content.phases.splice(removeIndex, 1)\n\t\t\t\t} else {\n\t\t\t\t\tconst removeIndex = location.vaccination.content.phases.findIndex(\n\t\t\t\t\t\t(phase: any) => phase.id === data.phaseId\n\t\t\t\t\t)\n\n\t\t\t\t\tlocation.vaccination.content.phases.splice(removeIndex, 1)\n\t\t\t\t}\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const addPhase = mutatorAction('addPhase', (data: any | undefined) => {\n\tif (data) {\n\t\tconst store = getAppStore()\n\t\tif (store?.repoFileData) {\n\t\t\tstore.pendingChanges = true\n\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\tconst phaseId = formatId(data.item.name)\n\n\t\t\tconst emptyQualifications: any = []\n\n\t\t\tif (!location.vaccination.content.phases) {\n\t\t\t\tlocation.vaccination.content.phases = []\n\t\t\t}\n\n\t\t\tlocation.vaccination.content.phases.push({\n\t\t\t\tid: phaseId,\n\t\t\t\tlabel: data.item.name,\n\t\t\t\tqualifications: emptyQualifications,\n\t\t\t})\n\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t}\n\t}\n})\n\nexport const duplicatePhase = mutatorAction(\n\t'duplicatePhase',\n\t(\n\t\tdata:\n\t\t\t| {\n\t\t\t\t\tname: string\n\t\t\t\t\tlocationKey: string\n\t\t\t\t\tphaseId: string\n\t\t\t\t\tisRegion?: boolean\n\t\t\t\t\tregionInfo?: { key: string }\n\t\t\t  }\n\t\t\t| undefined\n\t) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tconst phaseSource =\n\t\t\t\t\tdata.isRegion &&\n\t\t\t\t\tdata.regionInfo?.key &&\n\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination?.content.phases\n\t\t\t\t\t\t? location.regions[\n\t\t\t\t\t\t\t\tdata.regionInfo.key\n\t\t\t\t\t\t  ].vaccination.content.phases.find(\n\t\t\t\t\t\t\t\t(item: { id: string }) => item.id === data.phaseId\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: location.vaccination.content.phases.find(\n\t\t\t\t\t\t\t\t(item: { id: string }) => item.id === data.phaseId\n\t\t\t\t\t\t  )\n\t\t\t\tconst nextPhaseId = formatId(data.name)\n\n\t\t\t\tconst newItem = {\n\t\t\t\t\tid: nextPhaseId,\n\t\t\t\t\tlabel: data.name,\n\t\t\t\t\tqualifications: phaseSource.qualifications?.map((item: any) => {\n\t\t\t\t\t\tconst newContentKey = item.moreInfoText?.replace(\n\t\t\t\t\t\t\tnew RegExp(data.phaseId + '$'),\n\t\t\t\t\t\t\tnextPhaseId\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (newContentKey) {\n\t\t\t\t\t\t\tlocation.strings.content[newContentKey] =\n\t\t\t\t\t\t\t\tlocation.strings.content[item.moreInfoText]\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tquestion: item.question,\n\t\t\t\t\t\t\tmoreInfoUrl: item.moreInfoUrl,\n\t\t\t\t\t\t\tmoreInfoText: newContentKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t}\n\n\t\t\t\tif (data.isRegion && data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tregionVaccinationObj.content.phases.push(newItem)\n\t\t\t\t} else {\n\t\t\t\t\t// State level region phase\n\t\t\t\t\tlocation.vaccination.content.phases.push(newItem)\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updatePhase = mutatorAction(\n\t'updatePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tconst phaseId = data.item.phaseId\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(` (${t('LocationsRegions.active')})`, '')\n\t\t\t\t\t.trim()\n\n\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t(phase: any) => phase.id === phaseId\n\t\t\t\t)\n\n\t\t\t\taffectedPhase.label = data.item.name\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setActivePhase = mutatorAction(\n\t'setActivePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tregionVaccinationObj.content['activePhase'] = data.phaseId\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t} else {\n\t\t\t\t\tlocation.vaccination.content['activePhase'] = data.phaseId\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateGlobalQualifiers = mutatorAction(\n\t'updateGlobalQualifiers',\n\t(item: any | undefined) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tconst { customStrings } = store.globalFileData\n\t\t\tstore.pendingChanges = true\n\t\t\tlet qualifierKey = ''\n\n\t\t\tif (item.isNew) {\n\t\t\t\tconst qualifierKeyBank = item.qualifier\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(/[^A-Za-z0-9]/g, '_')\n\t\t\t\t\t.split('_')\n\t\t\t\t\t.filter((i: string) => i) as string[]\n\n\t\t\t\tconst customStringKeys = Object.keys(customStrings.content)\n\n\t\t\t\tlet qKey = ''\n\t\t\t\tfor (let i = 0; i < qualifierKeyBank.length; i++) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tqKey = qualifierKeyBank[0]\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqKey = `${qKey}_${qualifierKeyBank[i]}`\n\t\t\t\t\t}\n\t\t\t\t\tqualifierKey = `c19.eligibility.question/${item.tagKey.toLowerCase()}.${qKey}`\n\n\t\t\t\t\tif (!customStringKeys.includes(qualifierKey)) {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tqualifierKey = qualifierKey.endsWith('_')\n\t\t\t\t\t? qualifierKey.substr(0, qualifierKey.length - 1)\n\t\t\t\t\t: qualifierKey\n\t\t\t} else {\n\t\t\t\tqualifierKey = item.key\n\t\t\t}\n\n\t\t\tstore.globalFileData.customStrings.content[qualifierKey] = {\n\t\t\t\t...store.globalFileData.customStrings.content[qualifierKey],\n\t\t\t\t[store.currentLanguage]: item.qualifier,\n\t\t\t}\n\n\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t}\n\t}\n)\n\nexport const translateLocationName = mutatorAction(\n\t'translateLocationName',\n\t(item: any) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (store.globalFileData.cdcStateNames.content[item.key]) {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content[item.key] = {\n\t\t\t\t\t\t...store.globalFileData.cdcStateNames.content[item.key],\n\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content = {\n\t\t\t\t\t\t...store.globalFileData.cdcStateNames.content,\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const translateQualifier = mutatorAction(\n\t'translateQualifier',\n\t(item: any) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (store.globalFileData.customStrings.content[item.key]) {\n\t\t\t\t\tstore.globalFileData.customStrings.content[item.key] = {\n\t\t\t\t\t\t...store.globalFileData.customStrings.content[item.key],\n\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstore.globalFileData.customStrings.content = {\n\t\t\t\t\t\t...store.globalFileData.customStrings.content,\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const translateMisc = mutatorAction('translateMisc', (item: any) => {\n\tif (item) {\n\t\tconst store = getAppStore()\n\t\tif (item.category === 'state' && item.parent !== 'global') {\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][item.toKey]\n\t\t\t\t) {\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][\n\t\t\t\t\t\titem.toKey\n\t\t\t\t\t] = item.to\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][\n\t\t\t\t\t\t`${item.toKey}-sms`\n\t\t\t\t\t] = item.sms\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][\n\t\t\t\t\t\t`${item.toKey}-voice`\n\t\t\t\t\t] = item.voice\n\t\t\t\t} else {\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key] = {\n\t\t\t\t\t\t...store.repoFileData[item.parent].strings.content[item.key],\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t} else {\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst customStringKeys = Object.keys(\n\t\t\t\t\tstore.globalFileData.customStrings.content\n\t\t\t\t)\n\t\t\t\tconst isCustomString = customStringKeys.includes(item.key)\n\n\t\t\t\tif (isCustomString) {\n\t\t\t\t\tif (store.globalFileData.customStrings.content[item.key]) {\n\t\t\t\t\t\tstore.globalFileData.customStrings.content[item.key] = {\n\t\t\t\t\t\t\t...store.globalFileData.customStrings.content[item.key],\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.globalFileData.customStrings.content = {\n\t\t\t\t\t\t\t...store.globalFileData.customStrings.content,\n\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (store.globalFileData.cdcStateLinks.content[item.key]) {\n\t\t\t\t\t\tstore.globalFileData.cdcStateLinks.content[item.key] = {\n\t\t\t\t\t\t\t...store.globalFileData.cdcStateLinks.content[item.key],\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.globalFileData.cdcStateLinks.content = {\n\t\t\t\t\t\t\t...store.globalFileData.cdcStateLinks.content,\n\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n})\n\nconst recursiveFindAndReplace = (key: string, saveObj: any, location: any) => {\n\tif (\n\t\tlocation.strings &&\n\t\tlocation.strings.content &&\n\t\tlocation.strings.content[key]\n\t) {\n\t\tlocation.strings.content[key] = saveObj\n\t\treturn\n\t}\n\tif (location.regions && location.regions.length > 0) {\n\t\tlocation.regions.forEach((region: any) => {\n\t\t\trecursiveFindAndReplace(key, saveObj, region)\n\t\t})\n\t}\n}\n\nexport const updateStrings = mutatorAction(\n\t'udpateStrings',\n\t(stringsList: any) => {\n\t\tif (stringsList) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.pendingChanges = true\n\t\t\tObject.keys(stringsList).forEach((stringId: string) => {\n\t\t\t\tif (store.globalFileData.customStrings.content[stringId]) {\n\t\t\t\t\tstore.globalFileData.customStrings.content[stringId] =\n\t\t\t\t\t\tstringsList[stringId]\n\t\t\t\t} else if (store.globalFileData.cdcStateLinks.content[stringId]) {\n\t\t\t\t\tstore.globalFileData.cdcStateLinks.content[stringId] =\n\t\t\t\t\t\tstringsList[stringId]\n\t\t\t\t} else if (store.globalFileData.cdcStateNames.content[stringId]) {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content[stringId] =\n\t\t\t\t\t\tstringsList[stringId]\n\t\t\t\t} else {\n\t\t\t\t\tfor (const item of Object.keys(store.repoFileData)) {\n\t\t\t\t\t\tconst location = store.repoFileData[item]\n\t\t\t\t\t\tif (JSON.stringify(location).includes(stringId)) {\n\t\t\t\t\t\t\trecursiveFindAndReplace(stringId, stringsList[stringId], location)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t}\n\t}\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tIColumn,\n\tFontIcon,\n\tDialog,\n\tDialogType,\n\tDialogFooter,\n\tPrimaryButton,\n\tDefaultButton,\n\tCallout,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useCallback } from 'react'\nimport { initializeGitData, loadPR, loadBranch } from '../actions/repoActions'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\n\nimport './Dashboard.scss'\n\nexport default observer(function Dashboard() {\n\tconst state = getAppStore()\n\tconst [prList, setPRList] = useState<any[]>([])\n\tconst [issueList, setIssueList] = useState<any[]>([])\n\tconst [hideDialog, { toggle: toggleHideDialog }] = useBoolean(true)\n\tconst [noteKeys, setNoteKeys] = useState<any>([])\n\n\tuseEffect(() => {\n\t\tif (state.issues) {\n\t\t\tconst tempPRList: any = []\n\t\t\tconst tempIssueList: any = []\n\t\t\tstate.issues.forEach((item: any) => {\n\t\t\t\tconst requestUpdate: Date = new Date(item.updated_at)\n\t\t\t\tconst isScrappedIssue = item.labels.some(\n\t\t\t\t\t(x: any) => x.name.toLowerCase() === 'scrapped changes'\n\t\t\t\t)\n\n\t\t\t\tif (item.pull_request) {\n\t\t\t\t\ttempPRList.push({\n\t\t\t\t\t\ttitle: item.title,\n\t\t\t\t\t\tauthor: item.user.login,\n\t\t\t\t\t\tupdate: requestUpdate.toLocaleString(),\n\t\t\t\t\t\taction: item,\n\t\t\t\t\t})\n\t\t\t\t} else if (isScrappedIssue) {\n\t\t\t\t\ttempIssueList.push({\n\t\t\t\t\t\ttitle: item.title,\n\t\t\t\t\t\tauthor: item.user.login,\n\t\t\t\t\t\tupdate: requestUpdate.toLocaleString(),\n\t\t\t\t\t\taction: item,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetPRList(tempPRList)\n\t\t\tsetIssueList(tempIssueList)\n\t\t}\n\t}, [state.issues])\n\n\tconst onIssueActionRender = (\n\t\titem?: any,\n\t\tindex?: number,\n\t\tcolumn?: IColumn\n\t) => {\n\t\treturn (\n\t\t\t<a\n\t\t\t\tclassName=\"tableActionLink\"\n\t\t\t\thref={item?.action?.html_url}\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noreferrer\"\n\t\t\t>\n\t\t\t\t<FontIcon iconName=\"CircleAdditionSolid\" />\n\t\t\t\t{t('Dashboard.LocationUpdates.view')}\n\t\t\t</a>\n\t\t)\n\t}\n\n\tconst onPRActionRender = (item?: any, index?: number, column?: IColumn) => {\n\t\tconst disabled = state.loadedPRData?.number === item?.action.number\n\t\treturn (\n\t\t\t<div className=\"actionsColumn\">\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"tableActionLink\"\n\t\t\t\t\thref={item?.action?.html_url}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t>\n\t\t\t\t\t<FontIcon iconName=\"CircleAdditionSolid\" />\n\t\t\t\t\t{t('Dashboard.PendingPRs.approve')}\n\t\t\t\t</a>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`loadPRButton ${disabled ? 'disabled' : ''}`}\n\t\t\t\t\tonClick={() => loadPR(item.action.number)}\n\t\t\t\t>\n\t\t\t\t\t<FontIcon iconName=\"DrillDownSolid\" />\n\t\t\t\t\t{t('Dashboard.PendingPRs.load')}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst onBranchActionRender = (\n\t\titem?: any,\n\t\tindex?: number,\n\t\tcolumn?: IColumn\n\t) => {\n\t\tconst disabled = state.userWorkingBranch === item?.name\n\n\t\treturn (\n\t\t\t<div className=\"actionsColumn\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={`loadPRButton ${disabled ? 'disabled' : ''}`}\n\t\t\t\t\tonClick={() => loadBranch(item)}\n\t\t\t\t>\n\t\t\t\t\t<FontIcon iconName=\"DrillDownSolid\" />\n\t\t\t\t\t{t('Dashboard.WorkingBranches.load')}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst toggleCallout = useCallback(\n\t\t(id: number) => {\n\t\t\tconst tempItems = [...noteKeys]\n\t\t\tconst index = tempItems.indexOf(id)\n\t\t\tif (index > -1) {\n\t\t\t\ttempItems.splice(index, 1)\n\t\t\t} else {\n\t\t\t\ttempItems.push(id)\n\t\t\t}\n\n\t\t\tsetNoteKeys(tempItems)\n\t\t},\n\t\t[noteKeys]\n\t)\n\n\tconst onPRNotesRender = (item?: any, index?: number, column?: IColumn) => {\n\t\tif (!item.action.body) {\n\t\t\treturn null\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<FontIcon\n\t\t\t\t\tclassName={`infoButton pr-${item.action.number}`}\n\t\t\t\t\ticonName=\"InfoSolid\"\n\t\t\t\t\tonClick={() => toggleCallout(item.action.number)}\n\t\t\t\t/>\n\t\t\t\t{noteKeys.includes(item.action.number) && (\n\t\t\t\t\t<Callout\n\t\t\t\t\t\tonDismiss={() => toggleCallout(item.action.number)}\n\t\t\t\t\t\ttarget={`.infoButton.pr-${item.action.number}`}\n\t\t\t\t\t\tgapSpace={4}\n\t\t\t\t\t\tsetInitialFocus={true}\n\t\t\t\t\t\trole=\"alertDialog\"\n\t\t\t\t\t\tclassName=\"infoCallout\"\n\t\t\t\t\t\tdirectionalHint={5}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"infoCalloutBody\">\n\t\t\t\t\t\t\t<div className=\"infoHeader\">\n\t\t\t\t\t\t\t\t{t('Dashboard.PendingPRs.notes')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"infoBody\">{item.action.body}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t</>\n\t\t)\n\t}\n\n\tconst onBranchCreatedDateRender = (item: any) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{new Date(parseInt(item.name.split('-policy-')[1])).toLocaleString()}\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst prColumns = [\n\t\t{\n\t\t\tkey: 'titleCol',\n\t\t\tname: t('Dashboard.LocationUpdates.columns.title'),\n\t\t\tfieldName: 'title',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'notesCol',\n\t\t\tname: t('Dashboard.LocationUpdates.columns.notes'),\n\t\t\tfieldName: 'notes',\n\t\t\tminWidth: 100,\n\t\t\tisResizable: true,\n\t\t\tonRender: onPRNotesRender,\n\t\t},\n\t\t{\n\t\t\tkey: 'authorCol',\n\t\t\tname: t('Dashboard.LocationUpdates.columns.author'),\n\t\t\tfieldName: 'author',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'updateCol',\n\t\t\tname: t('Dashboard.LocationUpdates.columns.update'),\n\t\t\tfieldName: 'update',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel: t('Dashboard.LocationUpdates.action.ariaLabel'),\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onPRActionRender,\n\t\t},\n\t]\n\n\tconst issueColumns = [\n\t\t{\n\t\t\tkey: 'titleCol',\n\t\t\tname: t('Dashboard.LocationUpdates.columns.title'),\n\t\t\tfieldName: 'title',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'authorCol',\n\t\t\tname: t('Dashboard.LocationUpdates.columns.author'),\n\t\t\tfieldName: 'author',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'updateCol',\n\t\t\tname: t('Dashboard.LocationUpdates.columns.update'),\n\t\t\tfieldName: 'update',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel: t('Dashboard.LocationUpdates.columns.action.ariaLabel'),\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onIssueActionRender,\n\t\t},\n\t]\n\n\tconst userWorkingBranchColumns = [\n\t\t{\n\t\t\tkey: 'branchName',\n\t\t\tname: t('Dashboard.WorkingBranches.columns.branchName'),\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'createdCol',\n\t\t\tname: t('Dashboard.WorkingBranches.columns.createdOn'),\n\t\t\tfieldName: 'createdOn',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onBranchCreatedDateRender,\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel: t('Dashboard.WorkingBranches.columns.actionsColumn.ariaLabel'),\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onBranchActionRender,\n\t\t},\n\t]\n\n\tconst refreshData = useCallback(() => {\n\t\tinitializeGitData()\n\t\ttoggleHideDialog()\n\t}, [toggleHideDialog])\n\n\tconst onRefreshDataClick = useCallback(() => {\n\t\tif (state.pendingChanges) {\n\t\t\ttoggleHideDialog()\n\t\t} else {\n\t\t\tinitializeGitData()\n\t\t}\n\t}, [state.pendingChanges, toggleHideDialog])\n\n\treturn (\n\t\t<div className=\"dashboardPageWrapper\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ {t('Dashboard.title')}</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">{t('Dashboard.title')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{!state.isDataRefreshing ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<div className=\"refreshRow\">\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"refreshDataHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={onRefreshDataClick}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon iconName=\"Refresh\" className=\"refreshIcon\" />\n\t\t\t\t\t\t\t\t\t{t('Dashboard.RefreshButton')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"sectionHeader\">\n\t\t\t\t\t\t\t\t{t('Dashboard.WorkingBranches.title')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\t\titems={state.userWorkingBranches}\n\t\t\t\t\t\t\t\t\tcolumns={userWorkingBranchColumns}\n\t\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\t\tariaLabelForSelectionColumn={t(\n\t\t\t\t\t\t\t\t\t\t'Dashboard.WorkingBranches.ariaLabelForSelectionColumn'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox={t(\n\t\t\t\t\t\t\t\t\t\t'Dashboard.WorkingBranches.ariaLabelForSelectAllCheckbox'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tcheckButtonAriaLabel={t(\n\t\t\t\t\t\t\t\t\t\t'Dashboard.WorkingBranches.checkButtonAriaLabel'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{!state.userWorkingBranches.length && (\n\t\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t{t('Dashboard.WorkingBranches.empty')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"sectionHeader\">\n\t\t\t\t\t\t\t\t{t('Dashboard.PendingPRs.title')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\t\titems={prList}\n\t\t\t\t\t\t\t\t\tcolumns={prColumns}\n\t\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\t\tariaLabelForSelectionColumn={t(\n\t\t\t\t\t\t\t\t\t\t'Dashboard.PendingPRs.ariaLabelForSelectionColumn'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox={t(\n\t\t\t\t\t\t\t\t\t\t'Dashboard.PendingPRs.ariaLabelForSelectAllCheckbox'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tcheckButtonAriaLabel={t(\n\t\t\t\t\t\t\t\t\t\t'Dashboard.PendingPRs.checkButtonAriaLabel'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{!prList.length && (\n\t\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t{t('Dashboard.WorkingBranches.empty')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"sectionHeader\">\n\t\t\t\t\t\t\t\t{t('Dashboard.LocationUpdates.title')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\t\titems={issueList}\n\t\t\t\t\t\t\t\t\tcolumns={issueColumns}\n\t\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\t\tariaLabelForSelectionColumn={t(\n\t\t\t\t\t\t\t\t\t\t'Dashboard.LocationUpdates.ariaLabelForSelectionColumn'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox={t(\n\t\t\t\t\t\t\t\t\t\t'Dashboard.LocationUpdates.ariaLabelForSelectAllCheckbox'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tcheckButtonAriaLabel={t(\n\t\t\t\t\t\t\t\t\t\t'Dashboard.LocationUpdates.checkButtonAriaLabel'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{!issueList.length && (\n\t\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t{t('Dashboard.LocationUpdates.empty')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<ProgressIndicator description={t('Dashboard.loading')} />\n\t\t\t\t\t\t</section>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Dialog\n\t\t\t\thidden={hideDialog}\n\t\t\t\tonDismiss={toggleHideDialog}\n\t\t\t\tdialogContentProps={{\n\t\t\t\t\ttype: DialogType.normal,\n\t\t\t\t\tcloseButtonAriaLabel: 'Close',\n\t\t\t\t\ttitle: t('Dashboard.RefreshButton'),\n\t\t\t\t}}\n\t\t\t\tmodalProps={{ isBlocking: false }}\n\t\t\t>\n\t\t\t\t<div className=\"dialogBodyText\">\n\t\t\t\t\t{t('Dashboard.PendingChangesDialog.text', true)}\n\t\t\t\t</div>\n\t\t\t\t<DialogFooter>\n\t\t\t\t\t<PrimaryButton\n\t\t\t\t\t\tonClick={refreshData}\n\t\t\t\t\t\ttext={t('Dashboard.PendingChangesDialog.submit')}\n\t\t\t\t\t/>\n\t\t\t\t\t<DefaultButton\n\t\t\t\t\t\tonClick={toggleHideDialog}\n\t\t\t\t\t\ttext={t('Dashboard.PendingChangesDialog.cancel')}\n\t\t\t\t\t/>\n\t\t\t\t</DialogFooter>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { FC, memo } from 'react'\nimport { getText as t } from '../selectors/intlSelectors'\n\nconst CONTACT_EMAIL = process.env.REACT_APP_CONTACT_US_EMAIL\nconst CODE_OF_CONDUCT_URL = process.env.REACT_APP_CODE_OF_CONDUCT_URL\n\nexport default observer(function Footer() {\n\treturn (\n\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\n\t\t\t<div className=\"appFooterRow\">\n\t\t\t\t<Link href=\"https://go.microsoft.com/fwlink/?LinkId=521839\">\n\t\t\t\t\t{t('App.Footer.privacyCookies')}\n\t\t\t\t</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link href={`mailto:${CONTACT_EMAIL}`}>\n\t\t\t\t\t{t('App.Footer.contactUs')}\n\t\t\t\t</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link href={CODE_OF_CONDUCT_URL}>{t('App.Footer.codeOfConduct')}</Link>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n\nconst Link: FC<{\n\thref?: string\n}> = memo(function Link({ children, href }) {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"div\"\n\t\t\tstyle={{\n\t\t\t\tcursor: 'pointer',\n\t\t\t\tmarginLeft: 15,\n\t\t\t\tmarginRight: 15,\n\t\t\t\tdisplay: 'flex',\n\t\t\t\talignContent: 'center',\n\t\t\t}}\n\t\t\tonClick={() => href && window.open(href, '_blank')}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { PrimaryButton, DefaultButton } from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { getText as t } from '../selectors/intlSelectors'\n\nimport './LocationForm.scss'\n\nexport default observer(function DeleteLocationForm(props: any) {\n\tconst { onSubmit, onCancel, location } = props\n\t\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{t('DeleteLocationForm.title')}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<p>\n\t\t\t\t{t('DeleteLocationForm.text')} <strong>{location.text ?? location.name}</strong>?\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext={t('DeleteLocationForm.title')}\n\t\t\t\t\tonClick={() => onSubmit?.(location)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton text={t('DeleteLocationForm.cancel')} onClick={() => onCancel?.()} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\n\nexport const getStateCustomStrings = (\n\tselectedState: any,\n\tkeyFilter: string\n): string => {\n\tconst returnVal = getCustomStrings(selectedState.value, keyFilter)\n\tif (returnVal.length > 0) return returnVal[0].text\n\n\treturn ''\n}\n\nexport const getRegionCustomStrings = (\n\tselectedRegion: any,\n\tkeyFilter: string\n): string => {\n\tconst { repoFileData } = getAppStore()\n\tconst selectedState =\n\t\trepoFileData?.[selectedRegion.value.info.path.split('/')[0]]\n\n\tconst returnVal = getCustomStrings(selectedState, keyFilter)\n\tif (returnVal.length > 0) return returnVal[0].text\n\n\treturn ''\n}\n\nconst getCustomStrings = (selectedState: any, keyFilter: string): any[] => {\n\tconst { globalFileData, currentLanguage } = getAppStore()\n\n\tconst customStringsList: any[] = selectedState\n\t\t? [\n\t\t\t\t...Object.entries(selectedState?.strings?.content ?? {}),\n\t\t\t\t...Object.entries(globalFileData.customStrings.content),\n\t\t  ]\n\t\t: [...Object.entries(globalFileData.customStrings.content)]\n\tconst filteredList = keyFilter\n\t\t? customStringsList.filter(([key, _value]: [string, any]) =>\n\t\t\t\tkey.includes(keyFilter.toLowerCase())\n\t\t  )\n\t\t: customStringsList\n\n\treturn filteredList.map(([key, value]: [string, any]) => {\n\t\treturn {\n\t\t\tkey: key,\n\t\t\ttext: value[currentLanguage],\n\t\t}\n\t})\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n\tDefaultButton,\n\tTextField,\n\tDropdown,\n\tIDropdownOption,\n\tCheckbox,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport { getText as t } from '../selectors/intlSelectors'\nimport {\n\tgetStateCustomStrings,\n\tgetRegionCustomStrings,\n} from '../selectors/locationSelectors'\nimport './LocationForm.scss'\n\nexport interface LocationFormProp {\n\titem?: any\n\tonSubmit?: (locationData: any, prevItem: any) => void\n\tonCancel?: () => void\n\tisRegion?: boolean\n}\n\nconst setInitialData = (item?: any, isRegion?: boolean) => {\n\tconst getStrings = (item: any, keyFilter: string, isRegion?: boolean) => {\n\t\treturn isRegion\n\t\t\t? getRegionCustomStrings(item, keyFilter)\n\t\t\t: getStateCustomStrings(item, keyFilter)\n\t}\n\n\tif (item) {\n\t\tconst { info, vaccination } = item?.value || {}\n\t\tconst {\n\t\t\tinfo: vacInfo,\n\t\t\tscheduling_phone,\n\t\t\teligibility_plan,\n\t\t\tworkflow,\n\t\t\tscheduling,\n\t\t\tproviders,\n\t\t\teligibility,\n\t\t} = vaccination?.content?.links || {}\n\n\t\treturn {\n\t\t\tdetails: info.content.name,\n\t\t\tregionType: info.content.type,\n\t\t\tinfo: vacInfo?.url || '',\n\t\t\tworkflow: workflow?.url || '',\n\t\t\tscheduling: scheduling?.url || '',\n\t\t\tproviders: providers?.url || '',\n\t\t\teligibility: eligibility?.url || '',\n\t\t\teligibilityPlan: eligibility_plan?.url || '',\n\t\t\tschedulingPhone: scheduling_phone?.text\n\t\t\t\t? getStrings(item, scheduling_phone.text, isRegion)\n\t\t\t\t: '',\n\t\t\tschedulingPhoneDesc: scheduling_phone?.description\n\t\t\t\t? getStrings(item, scheduling_phone.description, isRegion)\n\t\t\t\t: '',\n\t\t\tnoPhaseLabel: vaccination.content?.noPhaseLabel || false,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\tdetails: '',\n\t\t\tregionType: '',\n\t\t\tinfo: '',\n\t\t\tworkflow: '',\n\t\t\tscheduling: '',\n\t\t\tproviders: '',\n\t\t\teligibility: '',\n\t\t\teligibilityPlan: '',\n\t\t\tschedulingPhone: '',\n\t\t\tschedulingPhoneDesc: '',\n\t\t\tnoPhaseLabel: false,\n\t\t}\n\t}\n}\n\nexport default observer(function LocationForm(props: LocationFormProp) {\n\tconst { onSubmit, onCancel, item, isRegion } = props\n\tconst [formData, setFormData] = useState<any>(setInitialData(item, isRegion))\n\tconst fieldChanges = useRef<any>(formData)\n\tconst regionTypeOptions = [\n\t\t{\n\t\t\tkey: 'state',\n\t\t\ttext: t('LocationForm.regionTypeOptions.state'),\n\t\t},\n\t\t{\n\t\t\tkey: 'territory',\n\t\t\ttext: t('LocationForm.regionTypeOptions.territory'),\n\t\t},\n\t\t{\n\t\t\tkey: 'tribal_land',\n\t\t\ttext: t('LocationForm.regionTypeOptions.tribal_land'),\n\t\t},\n\t\t{\n\t\t\tkey: 'county',\n\t\t\ttext: t('LocationForm.regionTypeOptions.county'),\n\t\t},\n\t\t{\n\t\t\tkey: 'city',\n\t\t\ttext: t('LocationForm.regionTypeOptions.city'),\n\t\t},\n\t].filter((region) => (isRegion ? region.key !== 'state' : true))\n\n\tconst baseTitle = isRegion\n\t\t? t('LocationForm.baseTitle.sublocation')\n\t\t: t('LocationForm.baseTitle.location')\n\tconst formTitle = item\n\t\t? `${t('LocationForm.formTitle.edit')} ${baseTitle}`\n\t\t: `${t('LocationForm.formTitle.new')} ${baseTitle}`\n\n\tconst handleRegionChange = useCallback(\n\t\t(_ev: any, item?: IDropdownOption) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\tregionType: item?.key,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst onNoLabelChange = useCallback(\n\t\t(_ev: any, checked?: boolean) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\tnoPhaseLabel: checked,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst canSubmit = useCallback(() => {\n\t\treturn formData.details !== '' && formData.regionType !== ''\n\t}, [formData])\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{formTitle}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<div className=\"detailsGroup\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Details\"\n\t\t\t\t\t\tname=\"details\"\n\t\t\t\t\t\tvalue={formData.details}\n\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tselectedKey={formData.regionType}\n\t\t\t\t\t\tplaceholder={t('LocationForm.regionTypeOptions.placeholder')}\n\t\t\t\t\t\toptions={regionTypeOptions}\n\t\t\t\t\t\tonChange={handleRegionChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={t('LocationForm.regionTypeOptions.placeholder')}\n\t\t\t\t\tname=\"info\"\n\t\t\t\t\tvalue={formData.info}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={t('LocationForm.workflow')}\n\t\t\t\t\tname=\"workflow\"\n\t\t\t\t\tvalue={formData.workflow}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={t('LocationForm.scheduling')}\n\t\t\t\t\tname=\"scheduling\"\n\t\t\t\t\tvalue={formData.scheduling}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={t('LocationForm.providers')}\n\t\t\t\t\tname=\"providers\"\n\t\t\t\t\tvalue={formData.providers}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={t('LocationForm.eligibility')}\n\t\t\t\t\tname=\"eligibility\"\n\t\t\t\t\tvalue={formData.eligibility}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={t('LocationForm.eligibilityPlan')}\n\t\t\t\t\tname=\"eligibilityPlan\"\n\t\t\t\t\tvalue={formData.eligibilityPlan}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={t('LocationForm.schedulingPhone')}\n\t\t\t\t\tname=\"schedulingPhone\"\n\t\t\t\t\tvalue={formData.schedulingPhone}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={t('LocationForm.schedulingPhoneDesc')}\n\t\t\t\t\tname=\"schedulingPhoneDesc\"\n\t\t\t\t\tvalue={formData.schedulingPhoneDesc}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<Checkbox\n\t\t\t\t\tlabel={t('LocationForm.noPhaseLabel')}\n\t\t\t\t\tchecked={formData.noPhaseLabel}\n\t\t\t\t\tonChange={onNoLabelChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext={t('App.submit')}\n\t\t\t\t\tdisabled={!canSubmit()}\n\t\t\t\t\tonClick={() => onSubmit?.(formData, item)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton text={t('App.cancel')} onClick={() => onCancel?.()} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { PrimaryButton, DefaultButton, TextField } from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\nimport { formatId } from '../utils/textUtils'\n\nimport './LocationForm.scss'\n\nexport interface PhaseFormProp {\n\titem?: any\n\tselectedState?: any\n\tonSubmit?: (phaseData: any) => void\n\tonCancel?: () => void\n\tduplicate?: boolean\n\tisRegion?: boolean\n\tregionInfo?: any\n}\n\nconst setInitialData = (item: any) => {\n\tif (item) {\n\t\treturn {\n\t\t\tphaseId: item.keyId,\n\t\t\tname: item.name.includes(` (${t('App.active')})`)\n\t\t\t\t? item.name.replace(` (${t('App.active')})`, '')\n\t\t\t\t: item.name,\n\t\t\tisActive: item.keyId.includes(` (${t('App.active')})`),\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\tphaseId: null,\n\t\t\tname: '',\n\t\t\tisActive: false,\n\t\t}\n\t}\n}\n\nexport default observer(function PhaseForm(props: PhaseFormProp) {\n\tconst {\n\t\tonSubmit,\n\t\tonCancel,\n\t\titem,\n\t\tduplicate = false,\n\t\tselectedState,\n\t\tisRegion,\n\t\tregionInfo,\n\t} = props\n\tconst [formData, setFormData] = useState<any>(setInitialData(item))\n\tconst [hasError, setHasError] = useState<boolean>(false)\n\tconst { repoFileData } = getAppStore()\n\tconst fieldChanges = useRef<any>(formData)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst isDuplicate = useCallback(() => {\n\t\tif (!duplicate) return ''\n\n\t\tconst location = repoFileData[selectedState.key]\n\t\tconst nextPhaseId = formatId(formData.name)\n\t\tconst nameExists =\n\t\t\t(isRegion &&\n\t\t\t\tregionInfo?.key &&\n\t\t\t\tlocation.regions[regionInfo.key].vaccination?.content.phases &&\n\t\t\t\t!!location.regions[regionInfo.key].vaccination.content.phases.find(\n\t\t\t\t\t(item: { id: string }) => item.id === nextPhaseId\n\t\t\t\t)) ||\n\t\t\t!!location.vaccination.content.phases.find(\n\t\t\t\t(item: { id: string }) => item.id === nextPhaseId\n\t\t\t)\n\n\t\tif (nameExists) {\n\t\t\tsetHasError(true)\n\t\t\treturn t('PhaseForm.hasDuplicateName')\n\t\t} else {\n\t\t\tsetHasError(false)\n\t\t\treturn ''\n\t\t}\n\t}, [\n\t\trepoFileData,\n\t\tsetHasError,\n\t\tduplicate,\n\t\tformData?.name,\n\t\tselectedState?.key,\n\t\tisRegion,\n\t\tregionInfo?.key,\n\t])\n\n\tconst disableSubmit = useCallback((): boolean => {\n\t\treturn hasError || formData.name === ''\n\t}, [formData, hasError])\n\n\tconst formTitle = duplicate\n\t\t? t('PhaseForm.title.duplicate')\n\t\t: item\n\t\t? t('PhaseForm.title.edit')\n\t\t: t('PhaseForm.title.new')\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{formTitle}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={t('PhaseForm.label')}\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tvalue={formData.name}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\tonGetErrorMessage={isDuplicate}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext={t('App.submit')}\n\t\t\t\t\tdisabled={disableSubmit()}\n\t\t\t\t\tonClick={() => onSubmit?.(formData)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton\n\t\t\t\t\ttext={t('App.cancel')}\n\t\t\t\t\tonClick={() => onCancel?.()}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\n\nexport const getPhaseQualifierItems = (selectedState?: any): any => {\n\treturn getCustomStrings(selectedState, 'eligibility.question')\n}\n\nexport const getPhaseQualifierItemsByKey = (\n\tselectedState?: any,\n\tselectedKey?: any\n): any[] => {\n\treturn getPhaseQualifierItems(selectedState).filter((qualifier: any) => {\n\t\treturn (\n\t\t\tqualifier.key.startsWith(`c19.eligibility.question/${selectedKey}.`) ||\n\t\t\tqualifier.key.endsWith(`c19.eligibility.question/${selectedKey}`)\n\t\t)\n\t})\n}\n\nexport const getPhaseTagItems = (\n\tselectedState?: any\n): { key: string; text: string }[] => {\n\tconst phaseQualifiers = getPhaseQualifierItems(selectedState)\n\n\tconst tagKeys: any[] = []\n\tconst tagList: any[] = []\n\tphaseQualifiers.forEach((qualifier: any) => {\n\t\tconst baseKey = qualifier.key.split('/')\n\t\tconst tagKey = baseKey[1].split('.')[0]\n\n\t\tif (!tagKeys.includes(tagKey)) {\n\t\t\ttagKeys.push(tagKey)\n\t\t\ttagList.push({\n\t\t\t\tkey: tagKey,\n\t\t\t\ttext: toProperCase(tagKey),\n\t\t\t})\n\t\t}\n\t})\n\n\treturn tagList.sort((a, b) => (a.text > b.text ? 1 : -1))\n}\n\nexport const getPhaseMoreInfoItems = (selectedState?: any): any[] => {\n\treturn getCustomStrings(selectedState, 'eligibility.moreinfo')\n}\n\nexport const getPhaseMoreInfoTextByKey = (\n\tselectedState?: any,\n\tselectedKey?: any\n): string => {\n\tif (selectedKey) {\n\t\tconst res = getExactCustomStrings(selectedState, selectedKey)\n\t\tif (res.length > 0) {\n\t\t\treturn res[0].text\n\t\t}\n\t}\n\n\treturn ''\n}\nexport const getPhaseMoreInfoUrl = (\n\tisRegion: boolean,\n\trowItems: any\n): string => {\n\tif (isRegion) {\n\t\tconst regionPhases = rowItems.item.location.value.vaccination.content.phases\n\t\tconst currPhase = regionPhases?.find(\n\t\t\t(phase: { id: any }) => phase.id === rowItems.item.groupId\n\t\t)\n\t\tif (currPhase) {\n\t\t\tconst currQualification = currPhase?.qualifications.find(\n\t\t\t\t(qualification: { question: any }) =>\n\t\t\t\t\tqualification.question === rowItems.item.qualifierId\n\t\t\t)\n\t\t\tif (currQualification) {\n\t\t\t\treturn currQualification.moreInfoUrl\n\t\t\t}\n\t\t}\n\t}\n\treturn rowItems.item.moreInfoUrl\n}\nconst getCustomStrings = (selectedState?: any, keyFilter?: string) => {\n\tconst { globalFileData, currentLanguage } = getAppStore()\n\tconst qualifierList: any[] = selectedState\n\t\t? [\n\t\t\t\t...Object.entries(selectedState.value?.strings?.content ?? {}),\n\t\t\t\t...Object.entries(globalFileData.customStrings.content),\n\t\t  ]\n\t\t: [...Object.entries(globalFileData.customStrings.content)]\n\n\tconst filteredList = keyFilter\n\t\t? qualifierList.filter(([key, _value]: [string, any]) =>\n\t\t\t\tkey.includes(keyFilter)\n\t\t  )\n\t\t: qualifierList\n\treturn filteredList\n\t\t.map(([key, value]: [string, any]) => {\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\ttext: value[currentLanguage],\n\t\t\t}\n\t\t})\n\t\t.sort((a, b) => (a.text > b.text ? 1 : -1))\n}\n\nconst getExactCustomStrings = (selectedState?: any, keyFilter?: string) => {\n\tconst { globalFileData, currentLanguage } = getAppStore()\n\tconst qualifierList: any[] = selectedState\n\t\t? [\n\t\t\t\t...Object.entries(selectedState.value?.strings?.content ?? {}),\n\t\t\t\t...Object.entries(globalFileData.customStrings.content),\n\t\t  ]\n\t\t: [...Object.entries(globalFileData.customStrings.content)]\n\n\tconst filteredList = keyFilter\n\t\t? qualifierList.filter(\n\t\t\t\t([key, _value]: [string, any]) => key.toLowerCase() === keyFilter\n\t\t  )\n\t\t: qualifierList\n\treturn filteredList\n\t\t.map(([key, value]: [string, any]) => {\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\ttext: value[currentLanguage],\n\t\t\t}\n\t\t})\n\t\t.sort((a, b) => (a.text > b.text ? 1 : -1))\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tIconButton,\n\tDropdown,\n\tDirectionalHint,\n\tTextField,\n\tFontIcon,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useState, useRef, useEffect } from 'react'\nimport { getText as t } from '../selectors/intlSelectors'\nimport {\n\tgetPhaseTagItems,\n\tgetPhaseQualifierItems,\n\tgetPhaseMoreInfoTextByKey,\n\tgetPhaseQualifierItemsByKey,\n\tgetPhaseMoreInfoUrl,\n} from '../selectors/phaseSelectors'\nimport { getAppStore } from '../store/store'\n\nimport './PhaseQualifierForm.scss'\nexport interface PhaseQualifierFormProps {\n\tselectedState: any\n\trowItems: any\n\tisEditable: boolean\n\tisRegion: boolean\n\tgroupKey: string\n\tonRowItemRemove?: (item: any, groupKey: any) => void\n\tonRowItemTextChange: (item: any, prevItem: any) => void\n\tonRowItemQualifierChange: (item: any, prevItem: any) => void\n}\n\nexport default observer(function PhaseQualiferForm(\n\tprops: PhaseQualifierFormProps\n) {\n\tconst {\n\t\tselectedState,\n\t\trowItems,\n\t\tisEditable,\n\t\tisRegion,\n\t\tonRowItemRemove,\n\t\tonRowItemTextChange,\n\t\tonRowItemQualifierChange,\n\t\tgroupKey,\n\t} = props\n\tconst phaseTagItems = useRef(getPhaseTagItems(selectedState))\n\tconst phaseQualifierItems = useRef(getPhaseQualifierItems(selectedState))\n\tconst [filteredQualifierItems, setFilteredQualifierItems] = useState<any[]>(\n\t\tgetPhaseQualifierItemsByKey(selectedState, rowItems.item.tagKey)\n\t)\n\n\tconst { globalFileData, repoFileData, currentLanguage } = getAppStore()\n\n\tlet overrideIconFlag = false\n\tlet moreInfoKey = rowItems.item.moreInfoKey\n\tif (isRegion) {\n\t\tconst regionPhases = rowItems.item.location.value.vaccination.content.phases\n\t\tconst currPhase = regionPhases?.find(\n\t\t\t(phase: { id: any }) => phase.id === rowItems.item.groupId\n\t\t)\n\t\tif (currPhase) {\n\t\t\tconst currQualification = currPhase?.qualifications.find(\n\t\t\t\t(qualification: { question: any }) =>\n\t\t\t\t\tqualification.question === rowItems.item.qualifierId\n\t\t\t)\n\t\t\tif (currQualification) {\n\t\t\t\toverrideIconFlag = true\n\t\t\t\tmoreInfoKey = currQualification.moreInfoText\n\t\t\t}\n\t\t}\n\t}\n\n\tconst [moreInfoText, setMoreInfoText] = useState<string>('')\n\n\tconst [moreInfoUrl, setMoreInfoUrl] = useState<string>(\n\t\tgetPhaseMoreInfoUrl(isRegion, rowItems)\n\t)\n\n\tconst changedItem = useRef<any>(rowItems.item)\n\tchangedItem.current.moreInfoContent = moreInfoText\n\n\tuseEffect(() => {\n\t\tif (currentLanguage) {\n\t\t\tsetMoreInfoText(getPhaseMoreInfoTextByKey(selectedState, moreInfoKey))\n\t\t}\n\t}, [currentLanguage, selectedState, moreInfoKey])\n\n\tuseEffect(() => {\n\t\tif (globalFileData) {\n\t\t\tphaseQualifierItems.current = getPhaseQualifierItems(selectedState)\n\t\t\tsetFilteredQualifierItems(\n\t\t\t\tgetPhaseQualifierItemsByKey(selectedState, rowItems.item.tagKey)\n\t\t\t)\n\t\t}\n\t}, [\n\t\tglobalFileData,\n\t\trepoFileData,\n\t\tphaseQualifierItems,\n\t\tselectedState,\n\t\trowItems,\n\t])\n\n\tconst onTagChange = useCallback(\n\t\t(_event, option) => {\n\t\t\tsetFilteredQualifierItems(\n\t\t\t\tphaseQualifierItems.current.filter(\n\t\t\t\t\t(q: any) => q.key.split('/')[1].split('.')[0] === option.key\n\t\t\t\t)\n\t\t\t)\n\t\t\tsetMoreInfoText('')\n\t\t\tsetMoreInfoUrl('')\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tkey: `${rowItems.item.groupId}-c19.eligibility.question/${option.key}`,\n\t\t\t\t\ttagKey: option.key,\n\t\t\t\t\tqualifierId: undefined,\n\t\t\t\t\ttext: '',\n\t\t\t\t\tmoreInfoKey: '',\n\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\t[phaseQualifierItems, rowItems]\n\t)\n\n\tconst onQualifierChange = useCallback(\n\t\t(_event, option) => {\n\t\t\tsetMoreInfoText('')\n\t\t\tsetMoreInfoUrl('')\n\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tqualifierId: option.key,\n\t\t\t\t\ttext: option.text,\n\t\t\t\t\tmoreInfoKey: '',\n\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t},\n\t\t\t}\n\t\t\tonRowItemQualifierChange(changedItem.current, rowItems.item)\n\t\t},\n\t\t[onRowItemQualifierChange, rowItems]\n\t)\n\n\tconst onMoreInfoTextChange = useCallback(\n\t\t(_event, value) => {\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tmoreInfoContent: value,\n\t\t\t\t},\n\t\t\t}\n\t\t\tsetMoreInfoText(value)\n\t\t},\n\t\t[setMoreInfoText]\n\t)\n\n\tconst onMoreInfoUrlChange = useCallback(\n\t\t(_event, value) => {\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tmoreInfoUrl: value,\n\t\t\t\t},\n\t\t\t}\n\t\t\tsetMoreInfoUrl(value)\n\t\t},\n\t\t[setMoreInfoUrl]\n\t)\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"phaseDetailRow\"\n\t\t\tstyle={{ pointerEvents: isEditable ? 'unset' : 'none' }}\n\t\t>\n\t\t\t<div className=\"mainRow\">\n\t\t\t\t<FontIcon\n\t\t\t\t\ticonName=\"InfoSolid\"\n\t\t\t\t\tclassName=\"infoIcon\"\n\t\t\t\t\tstyle={{ visibility: overrideIconFlag ? 'visible' : 'hidden' }}\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\toptions={phaseTagItems.current}\n\t\t\t\t\tdefaultSelectedKey={rowItems.item.tagKey}\n\t\t\t\t\tplaceholder={t('PhaseQualifierForm.Tag.placeholder')}\n\t\t\t\t\tclassName=\"tagDropdown\"\n\t\t\t\t\tstyles={{ root: { minWidth: 250 } }}\n\t\t\t\t\tonChange={onTagChange}\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\ttitle={rowItems.item.text}\n\t\t\t\t\toptions={filteredQualifierItems}\n\t\t\t\t\tdefaultSelectedKey={rowItems.item.qualifierId}\n\t\t\t\t\tplaceholder={t('PhaseQualifierForm.Qualifier.placeholder')}\n\t\t\t\t\tstyles={{ root: { width: '100%', minWidth: 0 } }}\n\t\t\t\t\tonChange={onQualifierChange}\n\t\t\t\t/>\n\t\t\t\t<IconButton\n\t\t\t\t\ticonProps={{ iconName: 'MoreVertical' }}\n\t\t\t\t\tstyles={{ menuIcon: { visibility: 'hidden', width: 0, margin: 0 } }}\n\t\t\t\t\tmenuProps={{\n\t\t\t\t\t\tisBeakVisible: false,\n\t\t\t\t\t\tdirectionalHint: DirectionalHint.rightTopEdge,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'removeRow',\n\t\t\t\t\t\t\t\ttext: t('PhaseQualifierForm.FormButtons.remove'),\n\t\t\t\t\t\t\t\tonClick: () => onRowItemRemove?.(rowItems.item, groupKey),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'details',\n\t\t\t\t\t\t\t\ttext: t('PhaseQualifierForm.FormButtons.details'),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}}\n\t\t\t\t\ttitle={t('PhaseQualifierForm.FormButtons.more')}\n\t\t\t\t\taria-label={t('PhaseQualifierForm.FormButtons.more')}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"detailsRow\">\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder={t('PhaseQualifierForm.MoreInfoText.placeholder')}\n\t\t\t\t\tmultiline={true}\n\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\tresizable={false}\n\t\t\t\t\tstyles={{ root: { width: 'calc(100% - 32px)', padding: '5px 0' } }}\n\t\t\t\t\tvalue={moreInfoText}\n\t\t\t\t\tonChange={onMoreInfoTextChange}\n\t\t\t\t\tonBlur={() => onRowItemTextChange(changedItem.current, rowItems.item)}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder={t('PhaseQualifierForm.MoreInfoUrl.placeholder')}\n\t\t\t\t\tstyles={{ root: { width: 'calc(100% - 32px)', padding: '5px 0' } }}\n\t\t\t\t\tvalue={moreInfoUrl}\n\t\t\t\t\tonChange={onMoreInfoUrlChange}\n\t\t\t\t\tonBlur={() => onRowItemTextChange(changedItem.current, rowItems.item)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { \n\tFontIcon,\n\tModal,\n } from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useRef, useCallback } from 'react'\nimport {\n\tmodifyStateStrings,\n\tmodifyMoreInfoLinks,\n\tsetActivePhase,\n\tupdateQualifier,\n\taddQualifier,\n\tremoveQualifier,\n\tremovePhase,\n\tduplicatePhase,\n} from '../mutators/repoMutators'\nimport {getText as t} from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\nimport { formatId } from '../utils/textUtils'\nimport PhaseForm from './PhaseForm'\nimport PhaseQualifierForm from './PhaseQualifierForm'\n\nimport './Locations.scss'\n\nexport interface LocationsPhasesProp {\n\tisRegion: boolean\n\tvalue: any\n\tselectedState: any\n}\n\nexport default observer(function LocationsPhases(props: LocationsPhasesProp) {\n\tconst {\n\t\tglobalFileData,\n\t\tcurrentLanguage,\n\t\trepoFileData,\n\t\tisEditable,\n\t} = getAppStore()\n\tconst { isRegion, value, selectedState } = props\n\tconst [phaseList, setPhaseList] = useState<any[]>([])\n\tconst groupToggleState = useRef<any[]>([])\n\tconst selectedModalFormItem = useRef<any>(null)\n\n\tconst [\n\t\tisDuplaceModalOpen,\n\t\t{ setTrue: openDuplicateModal, setFalse: dismissDuplicateModal },\n\t] = useBoolean(false)\n\n\tconst onDuplicateSubmit = ({name}: {name: string}) => {\n\t\tconst nextPhaseId = formatId(name);\n\t\tconst phases = repoFileData[selectedState.key].vaccination.content.phases;\n\t\tconst nameExists = !!phases.find((item: {id: string}) => item.id === nextPhaseId);\n\n\t\tif(nameExists) {\n\t\t\treturn\n\t\t}\n\n\t\tduplicatePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: selectedModalFormItem.current.key,\n\t\t\tname,\n\t\t\tisRegion,\n\t\t\tregionInfo: value\n\t\t})\n\t}\n\n\tconst onDuplicatePhaseClick = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenDuplicateModal()\n\t\t},\n\t\t[openDuplicateModal]\n\t)\n\n\tuseEffect(() => {\n\t\tif (repoFileData) {\n\t\t\tdismissDuplicateModal()\n\n\t\t\tconst tempPhaseList: any[] = []\n\t\t\tconst currentStateObj: any = repoFileData[selectedState.key]\n\t\t\tlet phaseObj = currentStateObj.vaccination.content.phases\n\t\t\tconst regionObj = isRegion\n\t\t\t\t? repoFileData[selectedState.key].regions[value.key]\n\t\t\t\t: null\n\n\t\t\tif (isRegion && regionObj.vaccination.content.phases) {\n\t\t\t\tphaseObj = regionObj.vaccination.content.phases\n\t\t\t}\n\n\t\t\tphaseObj.forEach((phase: any) => {\n\t\t\t\tlet isCollapsed = true\n\n\t\t\t\tif (isRegion) {\n\t\t\t\t\tisCollapsed = groupToggleState.current.length > 0 ? !groupToggleState.current.includes(phase.id) : true\n\t\t\t\t} else {\n\t\t\t\t\tif (groupToggleState.current.length > 0) {\n\t\t\t\t\t\tisCollapsed = !groupToggleState.current.includes(phase.id)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisCollapsed = value.value.id !== phase.id\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet isActivePhase = false\n\t\t\t\tif (isRegion && regionObj.vaccination.content.activePhase) {\n\t\t\t\t\tisActivePhase = phase.id === regionObj.vaccination.content.activePhase\n\t\t\t\t} else {\n\t\t\t\t\tisActivePhase =\n\t\t\t\t\t\tphase.id === currentStateObj.vaccination.content.activePhase\n\t\t\t\t}\n\n\t\t\t\tconst tempPhaseObj: any = {\n\t\t\t\t\tkey: phase.id,\n\t\t\t\t\tname: phase.label || phase.id,\n\t\t\t\t\tcount: phase.qualifications.length,\n\t\t\t\t\tisCollapsed: isCollapsed,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tname: phase.label || phase.id,\n\t\t\t\t\t\tkeyId: phase.id,\n\t\t\t\t\t\tisActive: isActivePhase,\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\tconst phaseItems: any[] = []\n\n\t\t\t\tphase.qualifications.forEach((qualification: any) => {\n\t\t\t\t\tconst keyId: string = String(qualification.question).toLowerCase()\n\t\t\t\t\tlet label = `*Translation not found* (${keyId})`\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tcurrentStateObj.strings &&\n\t\t\t\t\t\tcurrentStateObj.strings.content[keyId]\n\t\t\t\t\t) {\n\t\t\t\t\t\tlabel =\n\t\t\t\t\t\t\tcurrentStateObj.strings.content[keyId][currentLanguage] || label\n\t\t\t\t\t} else if (globalFileData.customStrings.content[keyId]) {\n\t\t\t\t\t\tlabel =\n\t\t\t\t\t\t\tglobalFileData.customStrings.content[keyId][currentLanguage] ||\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t}\n\n\t\t\t\t\tphaseItems.push({\n\t\t\t\t\t\tkey: phase.id + '-' + keyId,\n\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\tmoreInfoKey: qualification?.moreInfoText\n\t\t\t\t\t\t\t? qualification.moreInfoText.toLowerCase()\n\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t\t\tmoreInfoUrl: qualification.moreInfoUrl,\n\t\t\t\t\t\tqualifierId: keyId,\n\t\t\t\t\t\ttagKey: keyId.split('/')[1].split('.')[0],\n\t\t\t\t\t\tgroupId: phase.id,\n\t\t\t\t\t\tlocation: value,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\ttempPhaseObj['items'] = phaseItems\n\t\t\t\ttempPhaseList.push(tempPhaseObj)\n\t\t\t})\n\n\t\t\tsetPhaseList(tempPhaseList)\n\t\t}\n\t}, [repoFileData, globalFileData, selectedState, currentLanguage, isRegion, value, dismissDuplicateModal])\n\n\tconst onAddQualifierClick = (phaseId: any) => {\n\t\tconst newItem = {\n\t\t\tkey: `${phaseId}-c19.eligibility.question/new_qualifier`,\n\t\t\ttext: '',\n\t\t\tmoreInfoKey: '',\n\t\t\tmoreInfoUrl: '',\n\t\t\tqualifierId: 'c19.eligibility.question/new_qualifier',\n\t\t\ttagKey: 'new_tagKey',\n\t\t\tgroupId: phaseId,\n\t\t\tlocation: value,\n\t\t}\n\n\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\tif (group.key === phaseId) {\n\t\t\t\t// const checkNewQualIndex = group.items.findIndex(\n\t\t\t\t// \t(i: any) => i.key === newItem.key\n\t\t\t\t// )\n\t\t\t\t// if (checkNewQualIndex === -1) {\n\t\t\t\t\tgroup.items.push(newItem)\n\t\t\t\t//}\n\t\t\t}\n\n\t\t\treturn group\n\t\t})\n\t\tsetPhaseList(tempPhaseList)\n\t}\n\n\tconst onRemoveRowItem = (item: any, groupKey:any) => {\n\t\tif (item.qualifierId !== 'c19.eligibility.question/new_qualifier') {\n\t\t\tremoveQualifier({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: item,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else {\n\t\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\t\tif (group.key === groupKey) {\n\t\t\t\t\tconst newItemIndex = group.items.findIndex( (i:any) => i.qualifierId ===  'c19.eligibility.question/new_qualifier')\n\t\t\t\t\tif(newItemIndex !== -1){\n\t\t\t\t\t\tgroup.items.splice(newItemIndex,1)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn group\n\t\t\t})\n\n\t\t\tsetPhaseList(tempPhaseList)\n\t\t}\n\t}\n\n\tconst onRemovePhaseGroupClick = (phaseId: any) => {\n\t\tremovePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: phaseId,\n\t\t\tregionInfo: isRegion ? value : null,\n\t\t})\n\t}\n\n\tconst onSetActivePhase = (phaseId: string) => {\n\t\tsetActivePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: phaseId,\n\t\t\tregionInfo: isRegion ? value : null,\n\t\t})\n\t}\n\n\tconst onToggleCollapse = (toggleGroup: any) => {\n\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\tif (group.key === toggleGroup.key) {\n\t\t\t\tgroup.isCollapsed = !group.isCollapsed\n\t\t\t}\n\n\t\t\treturn group\n\t\t})\n\t\tgroupToggleState.current = tempPhaseList.filter( group => !group.isCollapsed ).map(group => group.key)\n\t\tsetPhaseList(tempPhaseList)\n\t}\n\n\tconst onChangeRowItemText = (currentItem: any, initItem: any) => {\n\t\tif (\n\t\t\tinitItem.moreInfoUrl?.toLowerCase() !==\n\t\t\tcurrentItem.moreInfoUrl?.toLowerCase()\n\t\t) {\n\t\t\tmodifyMoreInfoLinks({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else if (initItem.moreInfoContent !== currentItem.moreInfoContent) {\n\t\t\tlet calcInfoKey = currentItem.qualifierId.replace('question', 'moreinfo')\n\t\t\tcalcInfoKey += `.${selectedState.value.info.content.metadata.code_alpha.toLowerCase()}`\n\t\t\tif (isRegion) {\n\t\t\t\tcalcInfoKey += `.${value.name.toLowerCase()}`\n\t\t\t}\n\t\t\tcalcInfoKey += `.${currentItem.groupId}`\n\n\t\t\tmodifyStateStrings({\n\t\t\t\tinfoKey: calcInfoKey,\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t}\n\t}\n\n\tconst onChangeRowItemQualifier = (currentItem: any, initItem: any) => {\n\t\tif (initItem.qualifierId !== 'c19.eligibility.question/new_qualifier') {\n\t\t\tupdateQualifier({\n\t\t\t\toldId: initItem.qualifierId,\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else {\n\t\t\taddQualifier({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"phaseGridContainer\">\n\t\t\t{phaseList.length > 0\n\t\t\t\t? phaseList.map((group: any, idx: number) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={`phasegroup-${idx}`}>\n\t\t\t\t\t\t\t\t<div className=\"phaseGroupHeader\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"groupHeaderLabel\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tonToggleCollapse(group)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\t\t\tgroup.isCollapsed ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{group.name ? (\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.name} <small>({group.data.keyId})</small>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t`Phase ${group.data.keyId}`\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"groupHeaderButtons\">\n\t\t\t\t\t\t\t\t\t\t{isEditable ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDuplicatePhaseClick(group)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"DuplicateRow\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('LocationsPhases.columns.duplicate')}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"removePhaseGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRemovePhaseGroupClick(group.data.keyId)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"Blocked2Solid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#d13438' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('LocationsPhases.columns.remove')}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.data.isActive ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"activeGroup\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleFill\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('LocationsPhases.columns.active')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"activeGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onSetActivePhase(group.data.keyId)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleRing\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('LocationsPhases.columns.setActive')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.data.isActive && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"activeGroup\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleFill\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('LocationsPhases.columns.active')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ display: group.isCollapsed ? 'none' : 'block' }}>\n\t\t\t\t\t\t\t\t\t{group.items.length > 0 && (\n\t\t\t\t\t\t\t\t\t\tgroup.items.map((groupItem: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<PhaseQualifierForm\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={groupItem.key+'_'+idx}\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroupKey={group.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\trowItems={{ item: groupItem }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisEditable={isEditable}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisRegion={isRegion}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemRemove={onRemoveRowItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemTextChange={onChangeRowItemText}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemQualifierChange={onChangeRowItemQualifier}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"phaseBottomGroup\"\n\t\t\t\t\t\t\t\t\t\tstyle={{marginTop: group.items.length > 0 ? 0 : '20px'}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierGroup\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onAddQualifierClick(group.data.keyId)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{t('LocationsPhases.AddQualifierButton')}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\tisOpen={isDuplaceModalOpen}\n\t\t\t\t\t\t\t\t\tisModeless={false}\n\t\t\t\t\t\t\t\t\tisDarkOverlay={true}\n\t\t\t\t\t\t\t\t\tisBlocking={false}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<PhaseForm\n\t\t\t\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t\t\t\t\tduplicate={true}\n\t\t\t\t\t\t\t\t\t\tisRegion={isRegion}\n\t\t\t\t\t\t\t\t\t\tregionInfo={value}\n\t\t\t\t\t\t\t\t\t\tonCancel={dismissDuplicateModal}\n\t\t\t\t\t\t\t\t\t\tonSubmit={onDuplicateSubmit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t  })\n\t\t\t\t: null}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tIColumn,\n\tFontIcon,\n\tModal,\n\tSearchBox,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport {\n\tupdateLocationList,\n\taddPhase,\n\tupdatePhase,\n\tupdateLocationData,\n\tdeleteLocation,\n} from '../mutators/repoMutators'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\nimport DeleteLocationForm from './DeleteLocationForm'\nimport LocationForm from './LocationForm'\nimport LocationsPhases from './LocationsPhases'\nimport PhaseForm from './PhaseForm'\n\nimport './Locations.scss'\n\nexport interface LocationsRegionsProp {\n\tselectedState: any\n\tonNavigateBack: () => void\n}\n\nexport default observer(function LocationsRegions(props: LocationsRegionsProp) {\n\tconst [filteredRegionsList, setFilteredRegionsList] = useState<any[]>([])\n\tconst stateRegionsFullList = useRef<any[]>([])\n\tconst [selectedPhaseItem, setSelectedPhaseItem] = useState<{\n\t\tisRegion: boolean\n\t\tvalue: any\n\t\tselectedState: any\n\t}>({ isRegion: false, value: null, selectedState: null })\n\tconst [\n\t\tisLocationModalOpen,\n\t\t{ setTrue: openLocationModal, setFalse: dismissLocationModal },\n\t] = useBoolean(false)\n\tconst [\n\t\tisDeleteLocationModalOpen,\n\t\t{ setTrue: openDeleteLocationModal, setFalse: dismissDeleteLocationModal },\n\t] = useBoolean(false)\n\tconst [\n\t\tisPhaseModalOpen,\n\t\t{ setTrue: openPhaseModal, setFalse: dismissPhaseModal },\n\t] = useBoolean(false)\n\tconst selectedModalFormItem = useRef<any>(null)\n\n\tconst state = getAppStore()\n\n\tconst { selectedState, onNavigateBack } = props\n\n\tconst subLocationsColumns = [\n\t\t{\n\t\t\tkey: 'regionCol',\n\t\t\tname: t('LocationsRegions.Sublocations.columns.name'),\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'activePhaseCol',\n\t\t\tname: t('LocationsRegions.Sublocations.columns.phase'),\n\t\t\tfieldName: 'phase',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editLocation',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tconst phaseColumns = [\n\t\t{\n\t\t\tkey: 'idCol',\n\t\t\tname: t('LocationsRegions.PhaseOverview.columns.keyId'),\n\t\t\tfieldName: 'keyId',\n\t\t\tminWidth: 50,\n\t\t\tmaxWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'nameCol',\n\t\t\tname: t('LocationsRegions.PhaseOverview.columns.name'),\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'qualCol',\n\t\t\tname: t('LocationsRegions.PhaseOverview.columns.qualifications'),\n\t\t\tfieldName: 'qualifications',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editPhase',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tconst [phaseItemList, setPhaseItemList] = useState<any[]>([])\n\n\tuseEffect(() => {\n\t\tconst selectedStateObj = state.repoFileData[selectedState.key]\n\t\tconst regions = selectedStateObj?.regions ?? {}\n\n\t\tif (Object.keys(regions).length > 0) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(regions).forEach(([key, value]) => {\n\t\t\t\tconst valObj = value as any\n\t\t\t\ttempList.push({\n\t\t\t\t\tkey: key,\n\t\t\t\t\tname: toProperCase(valObj.info.content.name),\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tphase: valObj.vaccination.content.activePhase\n\t\t\t\t\t\t? valObj.vaccination.content.activePhase\n\t\t\t\t\t\t: selectedStateObj.vaccination.content.activePhase,\n\t\t\t\t})\n\t\t\t})\n\t\t\tsetFilteredRegionsList(tempList)\n\t\t\tstateRegionsFullList.current = tempList\n\t\t} else {\n\t\t\tstateRegionsFullList.current = []\n\t\t}\n\n\t\tif (selectedStateObj) {\n\t\t\tconst newList = setInitialPhaseItems({\n\t\t\t\tkey: selectedStateObj.info.content.id,\n\t\t\t\tvalue: selectedStateObj,\n\t\t\t})\n\t\t\tsetPhaseItemList(newList)\n\t\t}\n\t}, [state.repoFileData, selectedState, stateRegionsFullList, setPhaseItemList])\n\n\tconst selectedPhase = useCallback(\n\t\t(isRegion: boolean, value: any) => {\n\t\t\tsetSelectedPhaseItem({ isRegion, value, selectedState })\n\t\t},\n\t\t[selectedState]\n\t)\n\n\tconst onLocationFormSubmit = useCallback(\n\t\t(locationData, prevItem) => {\n\t\t\tdismissLocationModal()\n\t\t\tif (!prevItem) {\n\t\t\t\tupdateLocationList(locationData, true, selectedState)\n\t\t\t} else {\n\t\t\t\tupdateLocationData(locationData, true, prevItem, selectedState)\n\t\t\t}\n\t\t},\n\t\t[dismissLocationModal, selectedState]\n\t)\n\n\tconst onDeleteLocationFormSubmit = useCallback(\n\t\t(locationData) => {\n\t\t\tdismissDeleteLocationModal()\n\t\t\tdeleteLocation(locationData, true, selectedState)\n\t\t},\n\t\t[dismissDeleteLocationModal, selectedState]\n\t)\n\n\tconst onLocationFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenLocationModal()\n\t\t},\n\t\t[openLocationModal]\n\t)\n\n\tconst onPhaseFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenPhaseModal()\n\t\t},\n\t\t[openPhaseModal]\n\t)\n\n\tconst onLocationDeleteFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenDeleteLocationModal()\n\t\t},\n\t\t[openDeleteLocationModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tif (!column) return null\n\n\t\t\tconst fieldContent = item[column.fieldName as keyof any] as string\n\n\t\t\tif (column.key === 'editCol') {\n\t\t\t\treturn state.isEditable ? (\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{column?.fieldName === 'editLocation' && (\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName=\"Cancel\"\n\t\t\t\t\t\t\t\tclassName=\"deleteIcon\"\n\t\t\t\t\t\t\t\tonClick={() => onLocationDeleteFormOpen(item)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tcolumn?.fieldName === 'editLocation'\n\t\t\t\t\t\t\t\t\t? onLocationFormOpen(item)\n\t\t\t\t\t\t\t\t\t: onPhaseFormOpen(item)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tonLocationFormOpen,\n\t\t\tonLocationDeleteFormOpen,\n\t\t\tonPhaseFormOpen,\n\t\t\tstate.isEditable,\n\t\t]\n\t)\n\n\tconst onRegionFilter = useCallback(\n\t\t(_event: any, text?: string | undefined) => {\n\t\t\tif (text) {\n\t\t\t\tsetFilteredRegionsList(\n\t\t\t\t\tstateRegionsFullList.current.filter(\n\t\t\t\t\t\t(region) => region.name.toLowerCase().indexOf(text) > -1\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tsetFilteredRegionsList(stateRegionsFullList.current)\n\t\t\t}\n\t\t},\n\t\t[stateRegionsFullList]\n\t)\n\n\tconst onPhaseFormSubmit = (phaseData: any) => {\n\t\tdismissPhaseModal()\n\n\t\tif (phaseData.phaseId) {\n\t\t\tupdatePhase({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: phaseData,\n\t\t\t})\n\t\t} else {\n\t\t\taddPhase({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: phaseData,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"bodyContainer\">\n\t\t\t<div className=\"bodyHeader subContent\">\n\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t<div className=\"breadCrumbs\">\n\t\t\t\t\t\t<span className=\"crumbLink\" onClick={onNavigateBack}>\n\t\t\t\t\t\t\t/ {t('LocationsRegions.title')}{' '}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"crumbLink\"\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetSelectedPhaseItem({\n\t\t\t\t\t\t\t\t\t\t\tisRegion: false,\n\t\t\t\t\t\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\t\t\t\t\t\tselectedState: null,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t/ {selectedState.text + ' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{selectedPhaseItem.isRegion ? (\n\t\t\t\t\t\t\t\t\t<>/ {selectedPhaseItem.value.name}</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>/ {t('LocationsRegions.PhaseOverview.title')}</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>/ {selectedState.text}</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mainTitle\">\n\t\t\t\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{selectedPhaseItem.isRegion ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{selectedPhaseItem.value.name}{' '}\n\t\t\t\t\t\t\t\t\t\t{t('LocationsRegions.PhaseOverview.region.title')}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{selectedState.text}{' '}\n\t\t\t\t\t\t\t\t\t\t{t('LocationsRegions.PhaseOverview.title')}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>{selectedState.text}</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<LocationsPhases\n\t\t\t\t\t\t\tisRegion={selectedPhaseItem.isRegion}\n\t\t\t\t\t\t\tvalue={selectedPhaseItem.value}\n\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"listTitle\">\n\t\t\t\t\t\t\t{t('LocationsRegions.PhaseOverview.title')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onPhaseFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{t('LocationsRegions.PhaseOverview.AddPhaseButton')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{selectedState.value.vaccination.content.phases &&\n\t\t\t\t\t\tselectedState.value.vaccination.content.phases.length > 0 ? (\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\titems={phaseItemList}\n\t\t\t\t\t\t\t\tcolumns={phaseColumns}\n\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\tonItemInvoked={(item) => selectedPhase(false, item)}\n\t\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>{t('LocationsRegions.PhaseOverview.empty')}</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"listTitle\">\n\t\t\t\t\t\t\t{t('LocationsRegions.Sublocations.title')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t{stateRegionsFullList.current.length > 0 ? (\n\t\t\t\t\t\t\t\t<SearchBox\n\t\t\t\t\t\t\t\t\tstyles={{ root: { width: 400 } }}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\t\tonChange={(ev, text) => onRegionFilter(ev, text)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{t('LocationsRegions.Sublocations.AddLocationButton')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{filteredRegionsList &&\n\t\t\t\t\t\tfilteredRegionsList.length > 0 &&\n\t\t\t\t\t\tstateRegionsFullList.current.length > 0 ? (\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\titems={filteredRegionsList}\n\t\t\t\t\t\t\t\tcolumns={subLocationsColumns}\n\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\tselectionPreservedOnEmptyClick={true}\n\t\t\t\t\t\t\t\tariaLabelForSelectionColumn={t(\n\t\t\t\t\t\t\t\t\t'LocationsRegions.Sublocations.ariaLabelForSelectionColumn'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox={t(\n\t\t\t\t\t\t\t\t\t'LocationsRegions.Sublocations.ariaLabelForSelectAllCheckbox'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tcheckButtonAriaLabel={t(\n\t\t\t\t\t\t\t\t\t'LocationsRegions.Sublocations.checkButtonAriaLabel'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\tonItemInvoked={(item) => selectedPhase(true, item)}\n\t\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>{t('LocationsRegions.Sublocations.empty')}</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<Modal\n\t\t\t\tisOpen={isLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<LocationForm\n\t\t\t\t\titem={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissLocationModal}\n\t\t\t\t\tonSubmit={onLocationFormSubmit}\n\t\t\t\t\tisRegion={true}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t\t<Modal\n\t\t\t\tisOpen={isPhaseModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<PhaseForm\n\t\t\t\t\titem={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissPhaseModal}\n\t\t\t\t\tonSubmit={onPhaseFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t\t<Modal\n\t\t\t\tisOpen={isDeleteLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<DeleteLocationForm\n\t\t\t\t\tlocation={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissDeleteLocationModal}\n\t\t\t\t\tonSubmit={onDeleteLocationFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n\nconst setInitialPhaseItems = (selectedState: any): any[] => {\n\tif (!selectedState.value.vaccination.content.phases) {\n\t\treturn []\n\t}\n\treturn selectedState.value.vaccination.content.phases.map(\n\t\t(phase: any, idx: number) => {\n\t\t\tconst activePhase: string =\n\t\t\t\tselectedState.value.vaccination.content.activePhase\n\t\t\treturn {\n\t\t\t\tkey: String(phase.id) + idx,\n\t\t\t\tkeyId:\n\t\t\t\t\tString(phase.id) +\n\t\t\t\t\t(phase.id === activePhase ? ` (${t('App.active')})` : ''),\n\t\t\t\tname:\n\t\t\t\t\ttoProperCase(phase.label ?? phase.id) +\n\t\t\t\t\t(phase.id === activePhase ? ` (${t('App.active')})` : ''),\n\t\t\t\tqualifications: phase.qualifications.length,\n\t\t\t\tvalue: phase,\n\t\t\t\tisNew: false,\n\t\t\t}\n\t\t}\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tFontIcon,\n\tModal,\n\tIColumn,\n\tSearchBox,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport {\n\tupdateLocationList,\n\tupdateLocationData,\n\tdeleteLocation,\n} from '../mutators/repoMutators'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\nimport DeleteLocationForm from './DeleteLocationForm'\nimport LocationForm from './LocationForm'\n\nimport './Locations.scss'\n\nexport interface LocationsStatesProp {\n\tonSelectedItem: (item: any) => void\n}\n\nexport default observer(function LocationsStates(props: LocationsStatesProp) {\n\tconst { onSelectedItem } = props\n\n\tconst [\n\t\tisLocationModalOpen,\n\t\t{ setTrue: openLocationModal, setFalse: dismissLocationModal },\n\t] = useBoolean(false)\n\tconst [\n\t\tisDeleteLocationModalOpen,\n\t\t{ setTrue: openDeleteLocationModal, setFalse: dismissDeleteLocationModal },\n\t] = useBoolean(false)\n\tconst [filteredStateList, setFilteredStateList] = useState<any[]>([])\n\tconst stateRepoFullList = useRef<any[]>([])\n\tconst selectedLocationItem = useRef<any>(null)\n\n\tconst state = getAppStore()\n\tconst filterEditable = (col: any) => {\n\t\tif (state.isEditable) return true\n\t\telse return col.key !== 'editCol' && col.key !== 'delete'\n\t}\n\tconst locationColumns = [\n\t\t{\n\t\t\tkey: 'stateCol',\n\t\t\tname: t('LocationsStates.locationColumns.text'),\n\t\t\tfieldName: 'text',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'regionCol',\n\t\t\tname: t('LocationsStates.locationColumns.regions'),\n\t\t\tfieldName: 'regions',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editLocation',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter(filterEditable)\n\n\tuseEffect(() => {\n\t\tif (state.repoFileData) {\n\t\t\tconst nextFilteredStateList: any[] = []\n\t\t\tObject.entries(state.repoFileData).forEach(\n\t\t\t\t([key, value]: [string, any]) => {\n\t\t\t\t\tconst stateId = value?.info?.content.id\n\t\t\t\t\tconst stateNames = state?.globalFileData?.cdcStateNames.content\n\n\t\t\t\t\tif(!stateId)\n\t\t\t\t\t\treturn \n\n\t\t\t\t\tconst stateLabel =\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`] &&\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][state.currentLanguage] &&\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][\n\t\t\t\t\t\t\tstate.currentLanguage\n\t\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t\t? stateNames[`cdc/${stateId}/state_name`][state.currentLanguage]\n\t\t\t\t\t\t\t: `${t('LocationsStates.translationNotFound')} (${stateId})`\n\n\t\t\t\t\tnextFilteredStateList.push({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\ttext: stateLabel,\n\t\t\t\t\t\tregions: value?.regions ? Object.keys(value.regions).length : 0,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\t\t\tsetFilteredStateList(nextFilteredStateList)\n\t\t\tstateRepoFullList.current = nextFilteredStateList\n\t\t}\n\t}, [state.repoFileData, state.globalFileData, state.currentLanguage, stateRepoFullList])\n\n\tconst onStateFilter = useCallback(\n\t\t(_event: any, text?: string) => {\n\t\t\tif (text) {\n\t\t\t\tsetFilteredStateList(\n\t\t\t\t\tstateRepoFullList.current.filter(\n\t\t\t\t\t\t(state) => state.text.toLowerCase().indexOf(text) > -1\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tsetFilteredStateList(stateRepoFullList.current)\n\t\t\t}\n\t\t},\n\t\t[stateRepoFullList]\n\t)\n\n\tconst openSelection = useCallback(\n\t\t(item: any) => {\n\t\t\tonSelectedItem(item)\n\t\t},\n\t\t[onSelectedItem]\n\t)\n\n\tconst onLocationFormSubmit = useCallback(\n\t\t(locationData, prevItem) => {\n\t\t\tdismissLocationModal()\n\t\t\tif (!prevItem) {\n\t\t\t\tupdateLocationList(locationData, false)\n\t\t\t} else {\n\t\t\t\tupdateLocationData(locationData, false, prevItem)\n\t\t\t}\n\t\t},\n\t\t[dismissLocationModal]\n\t)\n\n\tconst onDeleteLocationFormSubmit = useCallback(\n\t\t(locationData) => {\n\t\t\tdismissDeleteLocationModal()\n\t\t\tdeleteLocation(locationData)\n\t\t},\n\t\t[dismissDeleteLocationModal]\n\t)\n\n\tconst onLocationFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedLocationItem.current = item ?? null\n\t\t\topenLocationModal()\n\t\t},\n\t\t[openLocationModal]\n\t)\n\n\tconst onLocationDeleteFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedLocationItem.current = item ?? null\n\t\t\topenDeleteLocationModal()\n\t\t},\n\t\t[openDeleteLocationModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tif (!column) return null\n\n\t\t\tconst fieldContent = item[column.fieldName as keyof any] as string\n\n\t\t\tif (column.key === 'editCol') {\n\t\t\t\treturn state.isEditable ? (\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\ticonName=\"Cancel\"\n\t\t\t\t\t\t\tclassName=\"deleteIcon\"\n\t\t\t\t\t\t\tonClick={() => onLocationDeleteFormOpen(item)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(item)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onLocationFormOpen, onLocationDeleteFormOpen, state.isEditable]\n\t)\n\n\treturn (\n\t\t<div className=\"bodyContainer\">\n\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t<div className=\"breadCrumbs\">/ {t('LocationsStates.title')}</div>\n\t\t\t\t\t<div className=\"mainTitle\">{t('LocationsStates.title')}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"bodyContent\">\n\t\t\t\t{!state.isDataRefreshing ? (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t<SearchBox\n\t\t\t\t\t\t\t\tstyles={{ root: { width: 400 } }}\n\t\t\t\t\t\t\t\tplaceholder={t('LocationsStates.SearchBox.placeholder')}\n\t\t\t\t\t\t\t\tonChange={(ev, text) => onStateFilter(ev, text)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{t('LocationsStates.addLocation')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={filteredStateList}\n\t\t\t\t\t\t\tcolumns={locationColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tselectionPreservedOnEmptyClick={true}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn={t('LocationsStates.addLocation')}\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox={t('LocationsStates.addLocation')}\n\t\t\t\t\t\t\tcheckButtonAriaLabel={t('LocationsStates.addLocation')}\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\tonItemInvoked={openSelection}\n\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t) : (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<ProgressIndicator description={t('LocationsStates.loading')} />\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tisOpen={isLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<LocationForm\n\t\t\t\t\titem={selectedLocationItem.current}\n\t\t\t\t\tonCancel={dismissLocationModal}\n\t\t\t\t\tonSubmit={onLocationFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t\t<Modal\n\t\t\t\tisOpen={isDeleteLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<DeleteLocationForm\n\t\t\t\t\tlocation={selectedLocationItem.current}\n\t\t\t\t\tonCancel={dismissDeleteLocationModal}\n\t\t\t\t\tonSubmit={onDeleteLocationFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { useState, useCallback } from 'react'\nimport LocationsRegions from './LocationsRegions'\nimport LocationsStates from './LocationsStates'\n\nimport './Locations.scss'\n\nexport default observer(function Locations() {\n\tconst [selectedState, setSelectedState] = useState<any>(null)\n\n\tconst onNavigateBack = useCallback(() => {\n\t\tsetSelectedState(null)\n\t}, [])\n\n\treturn (\n\t\t<div className=\"locationPageContainer\">\n\t\t\t{!selectedState ? (\n\t\t\t\t<LocationsStates onSelectedItem={setSelectedState} />\n\t\t\t) : (\n\t\t\t\t<LocationsRegions\n\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\tonNavigateBack={onNavigateBack}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { DefaultButton } from 'office-ui-fabric-react'\nimport { loginUser } from '../actions/authActions'\nimport { getText as t } from '../selectors/intlSelectors'\n\nimport './Login.scss'\n\nexport default observer(function Login() {\n\treturn (\n\t\t<div className=\"loginPageContainer\">\n\t\t\t<div className=\"loginContainer\">\n\t\t\t\t<h3>{t('App.title')}</h3>\n\t\t\t\t<DefaultButton text={t('App.LoginButton')} onClick={loginUser} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n\tDefaultButton,\n\tTextField,\n\tDropdown,\n\tIDropdownOption,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getGlobalQualifierValidationTexts } from '../selectors/qualifierSelectors'\n\nimport './AddQualifierForm.scss'\n\nexport interface AddQualifierFormProp {\n\titem?: any\n\ttagsOptions: IDropdownOption[]\n\tonSubmit?: (newQualifier: any) => void\n\tonCancel?: () => void\n}\n\nconst setInitialData = (item: any) => {\n\tif (item) {\n\t\treturn {\n\t\t\ttagKey: item.key.split('/')[1].split('.')[0],\n\t\t\tkey: item.key,\n\t\t\tqualifier: item.text,\n\t\t\tisNew: false,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\ttagKey: '',\n\t\t\tkey: '',\n\t\t\tqualifier: '',\n\t\t\tisNew: true,\n\t\t}\n\t}\n}\n\nexport default observer(function AddQualifierForm(props: AddQualifierFormProp) {\n\tconst { onSubmit, onCancel, item, tagsOptions } = props\n\tconst [formData, setFormData] = useState<any>(setInitialData(item))\n\tconst fieldChanges = useRef<any>(formData)\n\tconst globalQualifiersList = useRef<string[]>(\n\t\tgetGlobalQualifierValidationTexts()\n\t)\n\tconst [hasError, setHasError] = useState<boolean>(false)\n\tconst [isAddingTag, setIsAddingTag] = useState<boolean>(false)\n\n\tconst handleTagChange = useCallback(\n\t\t(_ev: any, item?: IDropdownOption) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\ttagKey: item?.key,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst isDuplicate = useCallback(\n\t\t(newQualifier: string) => {\n\t\t\tconst newQualifierText = newQualifier.toLowerCase().replaceAll(' ', '')\n\t\t\tif (globalQualifiersList.current.includes(newQualifierText)) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn t('AddQualifierForm.hasDuplicate.qualifier')\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[globalQualifiersList, setHasError]\n\t)\n\n\tconst isTagDuplicate = useCallback(\n\t\t(newTag: string) => {\n\t\t\tconst newTagKey = newTag.toLowerCase().replaceAll(' ', '_')\n\t\t\tconst tagKeys = tagsOptions.map((t) => t.key)\n\t\t\tif (tagKeys.includes(newTagKey)) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn t('AddQualifierForm.hasDuplicate.tag')\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[setHasError, tagsOptions]\n\t)\n\n\tconst disableSubmit = useCallback((): boolean => {\n\t\tif (hasError) return true\n\t\treturn formData.qualifier === ''\n\t}, [formData, hasError])\n\n\tconst createNewTag = useCallback(() => {\n\t\tconst newTagKey = formData.tagKey.replaceAll(' ', '_')\n\t\ttagsOptions.push({ key: newTagKey, text: formData.tagKey })\n\t\ttagsOptions.sort((a, b) => (a.text > b.text ? 1 : -1))\n\n\t\tfieldChanges.current = {\n\t\t\t...fieldChanges.current,\n\t\t\t...{\n\t\t\t\ttagKey: newTagKey,\n\t\t\t},\n\t\t}\n\n\t\tsetIsAddingTag(false)\n\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t}, [formData, tagsOptions, fieldChanges, setIsAddingTag])\n\n\tconst formTitle = item\n\t\t? t('AddQualifierForm.title.edit')\n\t\t: t('AddQualifierForm.title.new')\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{formTitle}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<div className=\"tagRow\">\n\t\t\t\t\t{!isAddingTag ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tselectedKey={formData.tagKey}\n\t\t\t\t\t\t\t\tplaceholder={t('AddQualifierForm.Tag.Dropdown.placeholder')}\n\t\t\t\t\t\t\t\toptions={tagsOptions}\n\t\t\t\t\t\t\t\tonChange={handleTagChange}\n\t\t\t\t\t\t\t\tdisabled={!formData.isNew}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{formData.isNew && (\n\t\t\t\t\t\t\t\t<PrimaryButton\n\t\t\t\t\t\t\t\t\ttext={t('AddQualifierForm.Tag.newTag')}\n\t\t\t\t\t\t\t\t\tonClick={() => setIsAddingTag(true)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"tagKey\"\n\t\t\t\t\t\t\t\tplaceholder={t('AddQualifierForm.Tag.Input.placeholder')}\n\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\tvalidateOnLoad={false}\n\t\t\t\t\t\t\t\tonGetErrorMessage={() => isTagDuplicate(formData.tagKey)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PrimaryButton\n\t\t\t\t\t\t\t\ttext={t('AddQualifierForm.Tag.Buttons.ok')}\n\t\t\t\t\t\t\t\tonClick={() => createNewTag()}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<DefaultButton\n\t\t\t\t\t\t\t\ttext={t('AddQualifierForm.Tag.Buttons.cancel')}\n\t\t\t\t\t\t\t\tonClick={() => setIsAddingTag(false)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"\"\n\t\t\t\t\tname=\"qualifier\"\n\t\t\t\t\tplaceholder={t('AddQualifierForm.Qualifier.placeholder')}\n\t\t\t\t\tvalue={formData.qualifier}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\tmultiline={true}\n\t\t\t\t\tautoAdjustHeight={false}\n\t\t\t\t\tresizable={false}\n\t\t\t\t\tdisabled={!formData.tagKey || isAddingTag}\n\t\t\t\t\tvalidateOnLoad={false}\n\t\t\t\t\tonGetErrorMessage={() => isDuplicate(formData.qualifier)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext={t('App.submit')}\n\t\t\t\t\tdisabled={disableSubmit()}\n\t\t\t\t\tonClick={() => onSubmit?.(formData)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton\n\t\t\t\t\ttext={t('App.cancel')}\n\t\t\t\t\tonClick={() => onCancel?.()}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\n\nexport const isQualifierTextDuplicate = (qualifierText: string): boolean => {\n    const store = getAppStore()\n    const { content } = store.globalFileData.customStrings\n\tconst newQualifier = qualifierText.toLowerCase().replaceAll(' ','')\n\n    const existingQualifierTexts = Object.entries(content)\n        .filter(([key, _value]: [string, any]) => key.startsWith('c19.eligibility.question/'))\n        .map(([_key, value]: [string, any]) => {\n            return value[store.currentLanguage].toLowerCase().replaceAll(' ','')\n        })\n\n    return existingQualifierTexts.includes(newQualifier)\n}\n\nexport const getGlobalQualifierValidationTexts = (): string[] => {\n    const store = getAppStore()\n    const { content } = store.globalFileData.customStrings\n\n    return Object.entries(content)\n        .filter(([key, _value]: [string, any]) => key.startsWith('c19.eligibility.question/'))\n        .map(([_key, value]: [string, any]) => {\n            return value[store.currentLanguage].toLowerCase().replaceAll(' ','')\n        })\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tIGroup,\n\tDetailsList,\n\tFontIcon,\n\tModal,\n\tIDropdownOption,\n\tIColumn,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { updateGlobalQualifiers } from '../mutators/repoMutators'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\nimport AddQualifierForm from './AddQualiferForm'\n\nimport './QualifierPanel.scss'\n\nexport default observer(function QualifierPanel() {\n\tconst {\n\t\tglobalFileData,\n\t\tcurrentLanguage,\n\t\tisEditable,\n\t\tisDataRefreshing,\n\t} = getAppStore()\n\tconst [qualifierGroup, setQualifierGroup] = useState<IGroup[]>([])\n\tconst [qualifierGroupItems, setQualifierGroupItems] = useState<any[]>([])\n\tconst [\n\t\tisAddQualifierModalOpen,\n\t\t{ setTrue: openAddQualifierModal, setFalse: dismissAddQualifierModal },\n\t] = useBoolean(false)\n\tconst formItem = useRef<any>(null)\n\n\tuseEffect(() => {\n\t\tif (globalFileData?.customStrings) {\n\t\t\tconst groupKeys: any[] = []\n\t\t\tconst questionItemKeys: any[] = []\n\n\t\t\tconst tempQualifierGroup: IGroup[] = []\n\t\t\tconst tempQualifierGroupItems: any[] = []\n\n\t\t\tconst contentObj = globalFileData.customStrings.content\n\t\t\tconst questionKeys = Object.keys(contentObj)\n\t\t\t\t.filter((k) => k.includes('eligibility.question'))\n\t\t\t\t.sort((a, b) => (a > b ? 1 : -1))\n\n\t\t\tquestionKeys.forEach((key) => {\n\t\t\t\tconst questionGroupKey = key.split('/')[1].split('.')\n\n\t\t\t\tif (!groupKeys.includes(questionGroupKey[0])) {\n\t\t\t\t\tgroupKeys.push(questionGroupKey[0])\n\n\t\t\t\t\ttempQualifierGroup.push({\n\t\t\t\t\t\tkey: questionGroupKey[0],\n\t\t\t\t\t\tname: toProperCase(questionGroupKey[0]),\n\t\t\t\t\t\tstartIndex: tempQualifierGroupItems.length,\n\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\tisCollapsed: true,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst groupIdx = tempQualifierGroup.findIndex(\n\t\t\t\t\t\t(obj) => obj.key === questionGroupKey[0]\n\t\t\t\t\t)\n\t\t\t\t\ttempQualifierGroup[groupIdx].count++\n\t\t\t\t}\n\n\t\t\t\tif (!questionItemKeys.includes(key)) {\n\t\t\t\t\tquestionItemKeys.push(key)\n\n\t\t\t\t\ttempQualifierGroupItems.push({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\ttext: contentObj[key][currentLanguage]\n\t\t\t\t\t\t\t? contentObj[key][currentLanguage]\n\t\t\t\t\t\t\t: `${t(\n\t\t\t\t\t\t\t\t\t'QualifierPanel.translationNotFound'\n\t\t\t\t\t\t\t  )} (${currentLanguage})`,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetQualifierGroup(tempQualifierGroup)\n\t\t\tsetQualifierGroupItems(tempQualifierGroupItems)\n\t\t}\n\t}, [globalFileData, currentLanguage, setQualifierGroup, setQualifierGroupItems])\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: 'questionColKey',\n\t\t\tname: t('QualifierPanel.columns.question'),\n\t\t\tfieldName: 'text',\n\t\t\tminWidth: 100,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editQualifier',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (isEditable ? true : loc.key !== 'editCol'))\n\n\tconst onAddQualifierFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tformItem.current = item ?? null\n\t\t\topenAddQualifierModal()\n\t\t},\n\t\t[openAddQualifierModal, formItem]\n\t)\n\n\tconst addQualifierSubmit = useCallback(\n\t\t(newQualifier) => {\n\t\t\tupdateGlobalQualifiers(newQualifier)\n\t\t\tsetTimeout(() => dismissAddQualifierModal(), 100)\n\t\t},\n\t\t[dismissAddQualifierModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tconst fieldContent = item[column?.fieldName as keyof any] as string\n\n\t\t\tif (column?.key === 'editCol') {\n\t\t\t\treturn isEditable ? (\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\tonClick={() => onAddQualifierFormOpen(item)}\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onAddQualifierFormOpen, isEditable]\n\t)\n\n\tconst tagsOptions: IDropdownOption[] = qualifierGroup.map((tag) => {\n\t\treturn {\n\t\t\tkey: tag.key,\n\t\t\ttext: tag.name,\n\t\t}\n\t})\n\n\treturn (\n\t\t<div className=\"qualifierPanelContainer\">\n\t\t\t<div className=\"panelHeader\">\n\t\t\t\t<div className=\"panelHeaderTitle\">{t('QualifierPanel.title')}</div>\n\t\t\t</div>\n\t\t\t<div className=\"panelBody\">\n\t\t\t\t{!isDataRefreshing && (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t{!!globalFileData?.customStrings?.content && (\n\t\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addQualiferHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onAddQualifierFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierIcon\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{t('QualifierPanel.addQualifierLabel')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={qualifierGroupItems}\n\t\t\t\t\t\t\tgroups={qualifierGroup}\n\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\tgroupProps={{\n\t\t\t\t\t\t\t\tshowEmptyGroups: false,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcompact={true}\n\t\t\t\t\t\t\tisHeaderVisible={false}\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\tclassName=\"qualifierGroupItem\"\n\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tisOpen={isAddQualifierModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<AddQualifierForm\n\t\t\t\t\titem={formItem.current}\n\t\t\t\t\ttagsOptions={tagsOptions}\n\t\t\t\t\tonSubmit={addQualifierSubmit}\n\t\t\t\t\tonCancel={dismissAddQualifierModal}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { isEqual } from 'lodash'\nimport { getAppStore } from '../store/store'\n\nexport const getChanges = (): any => {\n\tconst state = getAppStore()\n\tconst changesList: any[] = []\n\tconst locationUpdates: any[] = []\n\tconst globalUpdates: any[] = []\n\tconst { globalFileData, repoFileData } = state\n\n\tif (\n\t\t!isEqual(\n\t\t\tstate.initGlobalFileData.customStrings,\n\t\t\tglobalFileData.customStrings\n\t\t)\n\t) {\n\t\tchangesList.push({\n\t\t\tlabel: `Global strings information updated`,\n\t\t\tvalue: globalFileData.customStrings,\n\t\t})\n\t\tglobalUpdates.push(globalFileData.customStrings)\n\t}\n\n\tif (\n\t\t!isEqual(\n\t\t\tstate.initGlobalFileData.cdcStateNames,\n\t\t\tglobalFileData.cdcStateNames\n\t\t)\n\t) {\n\t\tchangesList.push({\n\t\t\tlabel: `State names information updated`,\n\t\t\tvalue: globalFileData.cdcStateNames,\n\t\t})\n\t\tglobalUpdates.push(globalFileData.cdcStateNames)\n\t}\n\n\tif (\n\t\t!isEqual(\n\t\t\tstate.initGlobalFileData.cdcStateLinks,\n\t\t\tglobalFileData.cdcStateLinks\n\t\t)\n\t) {\n\t\tchangesList.push({\n\t\t\tlabel: `State links information updated`,\n\t\t\tvalue: globalFileData.cdcStateLinks,\n\t\t})\n\t\tglobalUpdates.push(globalFileData.cdcStateLinks)\n\t}\n\n\tObject.keys(state.initRepoFileData)\n\t\t.filter((location: string) => {\n\t\t\treturn !state.repoFileData[location]\n\t\t})\n\t\t.forEach((location: string) => {\n\t\t\tchangesList.push({\n\t\t\t\tlabel: `Location removed - ${location}`,\n\t\t\t\tvalue: state.initRepoFileData[location],\n\t\t\t})\n\t\t\tlocationUpdates.push({\n\t\t\t\tkey: location,\n\t\t\t\tdata: {\n\t\t\t\t\t...state.initRepoFileData[location],\n\t\t\t\t\tdelete: true,\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\n\tObject.keys(repoFileData).forEach((location: string) => {\n\t\tif (state.initRepoFileData) {\n\t\t\tif (!state.initRepoFileData[location]) {\n\t\t\t\tchangesList.push({\n\t\t\t\t\tlabel: `New location added - ${location}`,\n\t\t\t\t})\n\t\t\t\tlocationUpdates.push({\n\t\t\t\t\tkey: location,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tlet addChanges = false\n\t\t\t\tif (\n\t\t\t\t\t!isEqual(\n\t\t\t\t\t\tstate.initRepoFileData[location].info,\n\t\t\t\t\t\trepoFileData[location].info\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tchangesList.push({\n\t\t\t\t\t\tlabel: `Updated information for ${location}`,\n\t\t\t\t\t\tvalue: repoFileData[location],\n\t\t\t\t\t})\n\t\t\t\t\taddChanges = true\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t!isEqual(\n\t\t\t\t\t\tstate.initRepoFileData[location].regions,\n\t\t\t\t\t\trepoFileData[location].regions\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tchangesList.push({\n\t\t\t\t\t\tlabel: `Updated regions for ${location}`,\n\t\t\t\t\t\tvalue: repoFileData[location],\n\t\t\t\t\t})\n\t\t\t\t\taddChanges = true\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t!isEqual(\n\t\t\t\t\t\tstate.initRepoFileData[location].vaccination,\n\t\t\t\t\t\trepoFileData[location].vaccination\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tchangesList.push({\n\t\t\t\t\t\tlabel: `Updated phase information for ${location}`,\n\t\t\t\t\t\tvalue: repoFileData[location],\n\t\t\t\t\t})\n\t\t\t\t\taddChanges = true\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t!isEqual(\n\t\t\t\t\t\tstate.initRepoFileData[location].strings,\n\t\t\t\t\t\trepoFileData[location].strings\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tchangesList.push({\n\t\t\t\t\t\tlabel: `Updated strings information for ${location}`,\n\t\t\t\t\t\tvalue: repoFileData[location],\n\t\t\t\t\t})\n\t\t\t\t\taddChanges = true\n\t\t\t\t}\n\t\t\t\tif (addChanges) {\n\t\t\t\t\tlocationUpdates.push({\n\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\tdata: repoFileData[location],\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t})\n\n\treturn { globalUpdates, locationUpdates, changesList }\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport {\n\tPrimaryButton,\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tTextField,\n\tMessageBar,\n\tMessageBarType,\n} from 'office-ui-fabric-react'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { createPR } from '../actions/repoActions'\nimport { getChanges } from '../selectors/changesSelectors'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\n\nimport './Review.scss'\n\nexport interface ReviewProp {\n\tshowDashboard: () => void\n}\n\nconst setInitialFormData = (initData: any | undefined) => {\n\tif (!initData)\n\t\treturn {\n\t\t\tprTitle: '',\n\t\t\tprDetails: '',\n\t\t}\n\treturn {\n\t\tprTitle: initData.title ?? '',\n\t\tprDetails: initData.body ?? '',\n\t}\n}\n\nexport default observer(function Review(props: ReviewProp) {\n\tconst { showDashboard } = props\n\tconst changesColumns = [\n\t\t{\n\t\t\tkey: 'labelCol',\n\t\t\tname: t('Review.columns.pending'),\n\t\t\tfieldName: 'label',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t]\n\n\tconst [changesList, setChangesList] = useState<any[]>([])\n\tconst [locationUpdates, setLocationUpdates] = useState<any[]>([])\n\tconst [globalUpdates, setGlobalUpdates] = useState<any[]>([])\n\tconst [showLoading, setShowLoading] = useState<boolean>(false)\n\tconst [errorMessage, setErrorMessage] = useState<\n\t\t{ message: string } | undefined\n\t>()\n\tconst state = getAppStore()\n\tconst [formData, setFormData] = useState<any>(\n\t\tsetInitialFormData(state.loadedPRData)\n\t)\n\tconst fieldChanges = useRef<any>(formData)\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\tconst { globalUpdates, locationUpdates, changesList } = getChanges()\n\n\t\t\tsetLocationUpdates(locationUpdates)\n\t\t\tsetChangesList(changesList)\n\t\t\tsetGlobalUpdates(globalUpdates)\n\t\t} catch (err) {\n\t\t\tsetErrorMessage(err)\n\t\t}\n\t}, [state.initRepoFileData, state.repoFileData, state.initGlobalFileData, state.globalFileData])\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleSubmit = useCallback(\n\t\t(resp) => {\n\t\t\tif (resp?.error) {\n\t\t\t\tsetShowLoading(false)\n\t\t\t} else {\n\t\t\t\tshowDashboard()\n\t\t\t}\n\t\t},\n\t\t[showDashboard]\n\t)\n\n\treturn (\n\t\t<div className=\"reviewPageContainer\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ {t('Review.title')}</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">{t('Review.title')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{errorMessage && (\n\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\tmessageBarType={MessageBarType.error}\n\t\t\t\t\t\t\tdismissButtonAriaLabel={t(\n\t\t\t\t\t\t\t\t'Review.ErrorMessageBar.closeAriaLabel'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{t('Review.error.unexpected')} {errorMessage?.toString()}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t)}\n\t\t\t\t\t{!showLoading ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<div className=\"submitContainer\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel={t('Review.SubmitForm.titleLabel')}\n\t\t\t\t\t\t\t\t\tname=\"prTitle\"\n\t\t\t\t\t\t\t\t\tvalue={formData.prTitle}\n\t\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel={t('Review.SubmitForm.detailsLabel')}\n\t\t\t\t\t\t\t\t\tname=\"prDetails\"\n\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\tvalue={formData.prDetails}\n\t\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\t\titems={changesList}\n\t\t\t\t\t\t\t\t\tcolumns={changesColumns}\n\t\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PrimaryButton\n\t\t\t\t\t\t\t\t\ttext={t('Review.SubmitForm.submitText')}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetShowLoading(true)\n\t\t\t\t\t\t\t\t\t\tcreatePR([\n\t\t\t\t\t\t\t\t\t\t\tglobalUpdates,\n\t\t\t\t\t\t\t\t\t\t\tlocationUpdates,\n\t\t\t\t\t\t\t\t\t\t\thandleSubmit,\n\t\t\t\t\t\t\t\t\t\t\tformData,\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<section className=\"loadingContainer\">\n\t\t\t\t\t\t\t<ProgressIndicator description={t('Review.saving')} />\n\t\t\t\t\t\t</section>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDropdown,\n\tTextField,\n\tFontIcon,\n\tMessageBar,\n\tMessageBarType,\n\tProgressIndicator,\n} from '@fluentui/react'\nimport parse from 'csv-parse/lib/sync'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useCallback, useEffect, useRef, createRef } from 'react'\nimport {\n\ttranslateLocationName,\n\ttranslateQualifier,\n\ttranslateMisc,\n\tupdateStrings,\n} from '../mutators/repoMutators'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\nimport { convertCSVDataToObj } from '../utils/dataUtils'\nimport {\n\tgetLanguageOptions,\n\ttoProperCase,\n\tgetLanguageDisplayText,\n\tcreateCSVDataString,\n} from '../utils/textUtils'\nimport './Translate.scss'\n\nconst filterDropdownStyles = {\n\tdropdown: { border: 'none' },\n\ttitle: {\n\t\tfontSize: '14px',\n\t\tcolor: '#0078d4 !important',\n\t\tborder: 'none',\n\t\tbackgroundColor: 'transparent',\n\t},\n\tcaretDown: {\n\t\tcolor: '#0078d4 !important',\n\t\tfontSize: '14px',\n\t},\n\tdropdownOptionText: { fontSize: '14px' },\n}\n\nexport default observer(function Translate() {\n\tconst {\n\t\tglobalFileData,\n\t\trepoFileData,\n\t\tcurrentLanguage,\n\t\tisDataRefreshing,\n\t\tpendingChanges,\n\t} = getAppStore()\n\tconst languageOptions = getLanguageOptions()\n\tconst translationFilter = [\n\t\t{\n\t\t\tkey: 'missing',\n\t\t\ttext: t('Translate.translationFilter.needsTranslation'),\n\t\t},\n\t\t{\n\t\t\tkey: 'all',\n\t\t\ttext: t('Translate.translationFilter.showAll'),\n\t\t},\n\t]\n\n\tconst miscFilter = [\n\t\t{\n\t\t\tkey: 'all',\n\t\t\ttext: t('Translate.miscFilter.all'),\n\t\t},\n\t\t{\n\t\t\tkey: 'state',\n\t\t\ttext: t('Translate.miscFilter.stateSpecific'),\n\t\t},\n\t\t{\n\t\t\tkey: 'state_link',\n\t\t\ttext: t('Translate.miscFilter.stateLinks'),\n\t\t},\n\t\t{\n\t\t\tkey: 'other',\n\t\t\ttext: t('Translate.miscFilter.uncategorized'),\n\t\t},\n\t]\n\tconst [showLoading, setShowLoading] = useState<boolean>(false)\n\n\tconst locationFullList = useRef<any[]>([])\n\tconst qualifierFullList = useRef<any[]>([])\n\tconst miscFullList = useRef<any[]>([])\n\tconst stateSpecificOptions = useRef<any[]>([])\n\n\tconst mainLanguage = useRef<string>(currentLanguage)\n\tconst toLanguage = useRef<string>(languageOptions[0].key)\n\n\tconst fileUploadRef = createRef<HTMLInputElement>()\n\tconst [errorMessage, setErrorMessage] = useState<\n\t\t{ message: string } | undefined\n\t>()\n\n\tconst [locationList, setLocationList] = useState<any[]>([])\n\tconst [qualifierList, setQualifierList] = useState<any[]>([])\n\tconst [miscList, setMiscList] = useState<any[]>([])\n\n\tconst [translationFilterState, setTranslationFilterState] = useState<string>(\n\t\ttranslationFilter[0].key\n\t)\n\tconst [miscFilterState, setMiscFilterState] = useState<string>(\n\t\tmiscFilter[0].key\n\t)\n\tconst [\n\t\tmiscStateSpecFilterState,\n\t\tsetMiscStateSpecFilterState,\n\t] = useState<string>('')\n\tconst [isSectionCollapse, setSectionCollapse] = useState<any>({\n\t\tlocations: true,\n\t\tqualifiers: true,\n\t\tmisc: true,\n\t})\n\n\tconst buildTranslationsLists = useCallback(() => {\n\t\tconst tempMiscList: any[] = []\n\n\t\tif (repoFileData) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(repoFileData).forEach(([_key, value]: [string, any]) => {\n\t\t\t\tconst stateId = value?.info?.content.id\n\t\t\t\tconst stateNames = globalFileData?.cdcStateNames.content\n\t\t\t\tconst stateLinks = globalFileData?.cdcStateLinks.content\n\n\t\t\t\tconst stateLabel =\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`] &&\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][mainLanguage.current] &&\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][\n\t\t\t\t\t\tmainLanguage.current\n\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t? stateNames[`cdc/${stateId}/state_name`][mainLanguage.current]\n\t\t\t\t\t\t: `${t('Translate.translationNotFound')} (${stateId})`\n\n\t\t\t\tconst stateLinkLabel =\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`] &&\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`][mainLanguage.current] &&\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`][\n\t\t\t\t\t\tmainLanguage.current\n\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t? stateLinks[`cdc/${stateId}/state_link`][mainLanguage.current]\n\t\t\t\t\t\t: `${t('Translate.translationNotFound')} (${stateId})`\n\n\t\t\t\tconst translateToValue = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateNames?.[`cdc/${stateId}/state_name`]?.[toLanguage.current]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateNames?.[`cdc/${stateId}/state_name`]?.[toLanguage.current]\n\n\t\t\t\tconst translateToValue_SMS = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateNames?.[`cdc/${stateId}/state_name`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-sms`\n\t\t\t\t\t  ]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateNames?.[`cdc/${stateId}/state_name`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-sms`\n\t\t\t\t\t  ]\n\n\t\t\t\tconst translateToValue_Voice = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateNames?.[`cdc/${stateId}/state_name`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-voice`\n\t\t\t\t\t  ]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateNames?.[`cdc/${stateId}/state_name`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-voice`\n\t\t\t\t\t  ]\n\n\t\t\t\tconst translateLinkToValue = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateLinks?.[`cdc/${stateId}/state_link`]?.[toLanguage.current]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateLinks?.[`cdc/${stateId}/state_link`]?.[toLanguage.current]\n\n\t\t\t\tconst translateLinkToValue_SMS = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateLinks?.[`cdc/${stateId}/state_link`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-sms`\n\t\t\t\t\t  ]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateLinks?.[`cdc/${stateId}/state_link`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-sms`\n\t\t\t\t\t  ]\n\n\t\t\t\tconst translateLinkToValue_Voice = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateLinks?.[`cdc/${stateId}/state_link`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-voice`\n\t\t\t\t\t  ]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateLinks?.[`cdc/${stateId}/state_link`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-voice`\n\t\t\t\t\t  ]\n\n\t\t\t\ttempList.push({\n\t\t\t\t\tkey: `cdc/${stateId}/state_name`,\n\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\tfrom: stateLabel,\n\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\tto: translateToValue,\n\t\t\t\t\tsms: translateToValue_SMS,\n\t\t\t\t\tvoice: translateToValue_Voice,\n\t\t\t\t\t_to: translateToValue,\n\t\t\t\t\t_sms: translateToValue_SMS,\n\t\t\t\t\t_voice: translateToValue_Voice,\n\t\t\t\t\tparent: 'global',\n\t\t\t\t\tcategory: 'locations',\n\t\t\t\t})\n\n\t\t\t\ttempMiscList.push({\n\t\t\t\t\tkey: `cdc/${stateId}/state_link`,\n\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\tfrom: stateLinkLabel,\n\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\tto: translateLinkToValue,\n\t\t\t\t\tsms: translateLinkToValue_SMS,\n\t\t\t\t\tvoice: translateLinkToValue_Voice,\n\t\t\t\t\t_to: translateLinkToValue,\n\t\t\t\t\t_sms: translateLinkToValue_SMS,\n\t\t\t\t\t_voice: translateLinkToValue_Voice,\n\t\t\t\t\tparent: 'global',\n\t\t\t\t\tcategory: 'state_link',\n\t\t\t\t})\n\t\t\t})\n\t\t\tlocationFullList.current = tempList.sort((a, b) =>\n\t\t\t\ta.from > b.from ? 1 : -1\n\t\t\t)\n\t\t}\n\n\t\tif (globalFileData) {\n\t\t\tconst tempQualifierList: any[] = []\n\t\t\tObject.entries(globalFileData.customStrings.content).forEach(\n\t\t\t\t([key, value]: [string, any]) => {\n\t\t\t\t\tif (key.startsWith('c19.eligibility.question')) {\n\t\t\t\t\t\ttempQualifierList.push({\n\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\tsms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\tvoice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\t_sms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\t_voice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\tparent: 'global',\n\t\t\t\t\t\t\tcategory: 'qualifiers',\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttempMiscList.push({\n\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\tsms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\tvoice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\t_sms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\t_voice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\tparent: 'global',\n\t\t\t\t\t\t\tcategory: 'other',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\tqualifierFullList.current = tempQualifierList.sort((a, b) =>\n\t\t\t\ta.from > b.from ? 1 : -1\n\t\t\t)\n\t\t}\n\n\t\tconst stateStrings: any[] = []\n\t\tif (repoFileData) {\n\t\t\tObject.entries(repoFileData)\n\t\t\t\t.filter(([_key, value]: [string, any]) => value.strings)\n\t\t\t\t.forEach(([aKey, value]: [string, any]) => {\n\t\t\t\t\tObject.entries(value.strings.content).forEach(\n\t\t\t\t\t\t([bKey, value]: [string, any]) => {\n\t\t\t\t\t\t\tstateStrings.push({\n\t\t\t\t\t\t\t\tkey: bKey,\n\t\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\t\tsms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\t\tvoice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\t\t_sms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\t\t_voice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\t\tparent: aKey,\n\t\t\t\t\t\t\t\tcategory: 'state',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t}\n\t\tmiscFullList.current = tempMiscList\n\t\t\t.concat(stateStrings)\n\t\t\t.sort((a, b) => (a.key > b.key ? 1 : -1))\n\n\t\tconst tempMiscStateSpecificList: any[] = []\n\t\tconst tempKeys: any[] = []\n\t\tmiscFullList.current.forEach((i) => {\n\t\t\tif (!tempKeys.includes(i.parent) && i.category === 'state') {\n\t\t\t\ttempMiscStateSpecificList.push({\n\t\t\t\t\tkey: i.parent,\n\t\t\t\t\ttext: toProperCase(i.parent),\n\t\t\t\t})\n\n\t\t\t\ttempKeys.push(i.parent)\n\t\t\t}\n\t\t})\n\t\tstateSpecificOptions.current = tempMiscStateSpecificList.sort((a, b) =>\n\t\t\ta.key > b.key ? 1 : -1\n\t\t)\n\t}, [globalFileData, repoFileData])\n\n\tconst onCollapseSection = useCallback(\n\t\t(name: string) => {\n\t\t\tsetSectionCollapse({\n\t\t\t\t...isSectionCollapse,\n\t\t\t\t...{ [name]: !isSectionCollapse[name] },\n\t\t\t})\n\t\t},\n\t\t[setSectionCollapse, isSectionCollapse]\n\t)\n\n\tconst handleLocationTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst change: any = {}\n\t\t\tswitch (ev.target.name) {\n\t\t\t\tcase rowItem.toKey:\n\t\t\t\t\tchange.to = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-sms`:\n\t\t\t\t\tchange.sms = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-voice`:\n\t\t\t\t\tchange.voice = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst idx = locationList.findIndex((i) => i.from === rowItem.from)\n\t\t\tlocationList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\t...change,\n\t\t\t}\n\t\t\tsetLocationList([...locationList])\n\t\t},\n\t\t[locationList, setLocationList]\n\t)\n\n\tconst handleQualifierTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst change: any = {}\n\n\t\t\tswitch (ev.target.name) {\n\t\t\t\tcase rowItem.toKey:\n\t\t\t\t\tchange.to = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-sms`:\n\t\t\t\t\tchange.sms = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-voice`:\n\t\t\t\t\tchange.voice = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst idx = qualifierList.findIndex((i) => i.from === rowItem.from)\n\t\t\tqualifierList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\t...change,\n\t\t\t}\n\t\t\tsetQualifierList([...qualifierList])\n\t\t},\n\t\t[qualifierList, setQualifierList]\n\t)\n\n\tconst handleMiscTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst change: any = {}\n\n\t\t\tswitch (ev.target.name) {\n\t\t\t\tcase rowItem.toKey:\n\t\t\t\t\tchange.to = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-sms`:\n\t\t\t\t\tchange.sms = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-voice`:\n\t\t\t\t\tchange.voice = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst idx = miscList.findIndex((i) => i.from === rowItem.from)\n\t\t\tmiscList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\t...change,\n\t\t\t}\n\t\t\tsetMiscList([...miscList])\n\t\t},\n\t\t[miscList, setMiscList]\n\t)\n\n\tconst updateLocationTranslation = useCallback((item) => {\n\t\tlet hasUpdate = false\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = toProperCase(item.to).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.sms && item.sms.toLowerCase() !== item._sms.toLowerCase()) {\n\t\t\titem.sms = toProperCase(item.sms).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.voice && item.voice.toLowerCase() !== item._voice.toLowerCase()) {\n\t\t\titem.voice = toProperCase(item.voice).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (hasUpdate) {\n\t\t\ttranslateLocationName(item)\n\t\t}\n\t}, [])\n\n\tconst updateQualifierTranslation = useCallback((item) => {\n\t\tlet hasUpdate = false\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = String(item.to).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.sms && item.sms.toLowerCase() !== item._sms.toLowerCase()) {\n\t\t\titem.sms = String(item.sms).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.voice && item.voice.toLowerCase() !== item._voice.toLowerCase()) {\n\t\t\titem.voice = String(item.voice).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (hasUpdate) {\n\t\t\ttranslateQualifier(item)\n\t\t}\n\t}, [])\n\n\tconst updateMiscTranslation = useCallback((item) => {\n\t\tlet hasUpdate = false\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = String(item.to).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.sms && item.sms.toLowerCase() !== item._sms.toLowerCase()) {\n\t\t\titem.sms = String(item.sms).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.voice && item.voice.toLowerCase() !== item._voice.toLowerCase()) {\n\t\t\titem.voice = String(item.voice).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (hasUpdate) {\n\t\t\ttranslateMisc(item)\n\t\t}\n\t}, [])\n\n\tconst onLanguageChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\ttoLanguage.current = option.key\n\t\t\tbuildTranslationsLists()\n\t\t\tif (translationFilterState === 'missing') {\n\t\t\t\tsetLocationList(locationFullList.current.filter((i) => !i._to))\n\t\t\t\tsetQualifierList(qualifierFullList.current.filter((i) => !i._to))\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current.filter((i) => !i._to))\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) => !i._to && i.category === miscFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetLocationList(locationFullList.current)\n\t\t\t\tsetQualifierList(qualifierFullList.current)\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current)\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter((i) => i.category === miscFilterState)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\ttranslationFilterState,\n\t\t\tmiscFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tbuildTranslationsLists,\n\t\t\tsetLocationList,\n\t\t\tsetQualifierList,\n\t\t\tsetMiscList,\n\t\t]\n\t)\n\n\tconst onTranslationFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tif (option.key === 'missing') {\n\t\t\t\tsetLocationList(locationFullList.current.filter((i) => !i._to))\n\t\t\t\tsetQualifierList(qualifierFullList.current.filter((i) => !i._to))\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current.filter((i) => !i._to))\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) => !i._to && i.category === miscFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetLocationList(locationFullList.current)\n\t\t\t\tsetQualifierList(qualifierFullList.current)\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current)\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter((i) => i.category === miscFilterState)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetTranslationFilterState(option.key)\n\t\t},\n\t\t[\n\t\t\tsetMiscList,\n\t\t\tsetLocationList,\n\t\t\tsetQualifierList,\n\t\t\tlocationFullList,\n\t\t\tqualifierFullList,\n\t\t\tmiscFullList,\n\t\t\tmiscFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tsetTranslationFilterState,\n\t\t]\n\t)\n\n\tconst onMiscFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tconst selectedMiscStateOptionKey =\n\t\t\t\tmiscStateSpecFilterState || stateSpecificOptions.current[0].key\n\t\t\tconst filteredList = miscFullList.current.filter((i) => {\n\t\t\t\tif (option.key === 'all') {\n\t\t\t\t\treturn translationFilterState === 'missing' ? !i._to : i\n\t\t\t\t} else {\n\t\t\t\t\tif (translationFilterState === 'missing') {\n\t\t\t\t\t\tif (option.key === 'state') {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\ti.category === option.key &&\n\t\t\t\t\t\t\t\ti.parent === selectedMiscStateOptionKey\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn !i._to && i.category === option.key\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (option.key === 'state') {\n\t\t\t\t\t\t\treturn i.category === option.key && selectedMiscStateOptionKey\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn i.category === option.key\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetMiscList(filteredList)\n\t\t\tsetMiscFilterState(option.key)\n\t\t\tsetMiscStateSpecFilterState(selectedMiscStateOptionKey)\n\t\t},\n\t\t[\n\t\t\tmiscFullList,\n\t\t\ttranslationFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tsetMiscStateSpecFilterState,\n\t\t\tsetMiscList,\n\t\t\tsetMiscFilterState,\n\t\t]\n\t)\n\n\tconst onMiscStateSpecificFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tsetMiscList(miscFullList.current.filter((i) => i.parent === option.key))\n\t\t\tsetMiscStateSpecFilterState(option.key)\n\t\t},\n\t\t[setMiscList, miscFullList]\n\t)\n\n\tconst onReaderLoadData = (readerEvent: any) => {\n\t\ttry {\n\t\t\tconst content = readerEvent.target.result\n\t\t\tconst contentObj = convertCSVDataToObj(parse(content, { columns: true }))\n\t\t\tif (Object.keys(contentObj).length > 0) {\n\t\t\t\tupdateStrings(contentObj)\n\t\t\t\tsetShowLoading(false)\n\t\t\t} else {\n\t\t\t\tthrow new Error(t('Translate.error.invalidFileContent'))\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetErrorMessage(err)\n\t\t\tsetShowLoading(false)\n\t\t}\n\t}\n\n\tconst onFileUpload = (e: any) => {\n\t\tsetErrorMessage(undefined)\n\t\tif (e.target.files.length > 0) {\n\t\t\tsetShowLoading(true)\n\t\t\tconst file = e.target.files[0]\n\t\t\tif (file.type === 'text/csv') {\n\t\t\t\tconst reader = new FileReader()\n\t\t\t\treader.onload = onReaderLoadData\n\t\t\t\treader.readAsText(file, 'UTF-8')\n\t\t\t} else {\n\t\t\t\tsetErrorMessage(new Error(t('Translate.error.invalidFileType')))\n\t\t\t\tsetShowLoading(false)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst triggerFileOnClick = () => {\n\t\tfileUploadRef.current?.click()\n\t}\n\n\tconst searchForStrings = (elem: any, resultObj: any) => {\n\t\tif (elem.strings && elem.strings.content) {\n\t\t\tObject.assign(resultObj, elem.strings.content)\n\t\t}\n\t\tif (elem.regions && elem.regions.length > 0) {\n\t\t\telem.regions.forEach((region: any) => {\n\t\t\t\tsearchForStrings(region, resultObj)\n\t\t\t})\n\t\t}\n\t}\n\n\tconst onFileDownload = () => {\n\t\tconst stringsObj = {}\n\t\tObject.assign(\n\t\t\tstringsObj,\n\t\t\tglobalFileData.customStrings.content,\n\t\t\tglobalFileData.cdcStateNames.content,\n\t\t\tglobalFileData.cdcStateLinks.content\n\t\t)\n\t\tObject.keys(repoFileData).forEach((location: string) => {\n\t\t\tsearchForStrings(repoFileData[location], stringsObj)\n\t\t})\n\t\tconst stringData = createCSVDataString(stringsObj)\n\t\tconst csvData = new Blob([stringData], { type: 'text/csv' })\n\t\tconst csvUrl = URL.createObjectURL(csvData)\n\t\twindow.open(csvUrl)\n\t}\n\n\tuseEffect(() => {\n\t\tmainLanguage.current = currentLanguage\n\t\tbuildTranslationsLists()\n\t\tif (!pendingChanges) {\n\t\t\tonTranslationFilterChange(null, { key: translationFilterState })\n\t\t}\n\t}, [currentLanguage, mainLanguage, buildTranslationsLists, pendingChanges, onTranslationFilterChange, translationFilterState])\n\n\treturn (\n\t\t<div className=\"translatePageContainer\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ {t('Translate.title')}</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">{t('Translate.title')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{errorMessage && (\n\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\tmessageBarType={MessageBarType.error}\n\t\t\t\t\t\t\tdismissButtonAriaLabel={t(\n\t\t\t\t\t\t\t\t'Translate.ErrorMessageBar.closeAriaLabel'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{t('Translate.error.unexpected')} {errorMessage?.toString()}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t)}\n\t\t\t\t\t{!(showLoading || isDataRefreshing) ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<div className=\"filterGroup\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"availDropdown\">\n\t\t\t\t\t\t\t\t\t\t{t('Translate.Filter.LanguageDropdown.label')}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tid=\"availDropdown\"\n\t\t\t\t\t\t\t\t\t\tselectedKey={toLanguage.current}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\n\t\t\t\t\t\t\t\t\t\t\t'Translate.Filter.LanguageDropdown.placeholder'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\toptions={languageOptions}\n\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\tonChange={onLanguageChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"translateDropdown\">\n\t\t\t\t\t\t\t\t\t\t{t('Translate.Filter.TranslateDropdown.label')}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tid=\"translateDropdown\"\n\t\t\t\t\t\t\t\t\t\tselectedKey={translationFilterState}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\n\t\t\t\t\t\t\t\t\t\t\t'Translate.Filter.LanguageDropdown.placeholder'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\toptions={translationFilter}\n\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\tonChange={onTranslationFilterChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"fileOptions\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tref={fileUploadRef}\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\tonChange={onFileUpload}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<button onClick={onFileDownload}>\n\t\t\t\t\t\t\t\t\t\t<FontIcon iconName=\"Download\" />\n\t\t\t\t\t\t\t\t\t\t{t('Translate.TemplateButtons.download')}\n\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t<button onClick={triggerFileOnClick}>\n\t\t\t\t\t\t\t\t\t\t<FontIcon iconName=\"CircleAdditionSolid\" className=\"blue\" />\n\t\t\t\t\t\t\t\t\t\t{t('Translate.TemplateButtons.upload')}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\t\tonClick={() => onCollapseSection('locations')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\tisSectionCollapse.locations ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.LocationList.title')} (\n\t\t\t\t\t\t\t\t\t{locationList.length})\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isSectionCollapse.locations &&\n\t\t\t\t\t\t\t\t(locationList.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"translateListRow\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.columns.general')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.columns.sms')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.columns.voice')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{locationList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`locationRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.toKey}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleLocationTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateLocationTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-sms`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.sms}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleLocationTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateLocationTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-voice`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.voice}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleLocationTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateLocationTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.LocationList.empty')}{' '}\n\t\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\t\tonClick={() => onCollapseSection('qualifiers')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\tisSectionCollapse.qualifiers\n\t\t\t\t\t\t\t\t\t\t\t? 'ChevronRight'\n\t\t\t\t\t\t\t\t\t\t\t: 'ChevronDown'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.QualifierList.title')} (\n\t\t\t\t\t\t\t\t\t{qualifierList.length})\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isSectionCollapse.qualifiers &&\n\t\t\t\t\t\t\t\t(qualifierList.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"translateListRow qualifier\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.columns.general')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.columns.sms')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.columns.voice')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{qualifierList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`qualifierRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t\t} qualifier`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.toKey}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleQualifierTextChange(ev, val)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateQualifierTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-sms`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.sms}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleQualifierTextChange(ev, val)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateQualifierTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-voice`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.voice}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleQualifierTextChange(ev, val)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateQualifierTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.QualifierList.empty')}{' '}\n\t\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\t\tonClick={() => onCollapseSection('misc')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\tisSectionCollapse.misc ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.MiscellaneousList.title')} (\n\t\t\t\t\t\t\t\t\t{miscList.length})\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isSectionCollapse.misc &&\n\t\t\t\t\t\t\t\t(miscList.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"miscFilterGroup\">\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={miscFilterState}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Translate.miscFilter.placeholder')}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={miscFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onMiscFilterChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{miscFilterState === 'state' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={miscStateSpecFilterState}\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={stateSpecificOptions.current}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onMiscStateSpecificFilterChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"translateListRow misc\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.columns.general')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.columns.sms')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">\n\t\t\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.columns.voice')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{miscList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`miscRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t\t} misc`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.toKey}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleMiscTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateMiscTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-sms`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.sms}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleMiscTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateMiscTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-voice`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.voice}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleMiscTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateMiscTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\t\t{t('Translate.GroupList.MiscellaneousList.empty')}{' '}\n\t\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<section className=\"loadingContainer\">\n\t\t\t\t\t\t\t<ProgressIndicator\n\t\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\t\tisDataRefreshing\n\t\t\t\t\t\t\t\t\t\t? t('Translate.GroupList.loading')\n\t\t\t\t\t\t\t\t\t\t: t('Translate.GroupList.updating')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { useEffect } from 'react'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { clearState } from '../store/localStorage'\nconst GH_REPO = process.env.REACT_APP_REPO_NAME\nconst GH_REPO_OWNER = process.env.REACT_APP_REPO_OWNER\n\nexport default observer(function UnAuthorized() {\n\tuseEffect(() => {\n\t\tclearState()\n\t}, [])\n\n\treturn (\n\t\t<div className=\"appBodyLeft\">\n\t\t\t<div className=\"dashboardPageWrapper\">\n\t\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t\t<div className=\"mainTitle\">{t('UnAuthorized.title')}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<section style={{ width: '70%', margin: '0px auto' }}>\n\t\t\t\t\t<p>{t('UnAuthorized.body', true, `${GH_REPO_OWNER}/${GH_REPO}`)}</p>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { PrimaryButton, DefaultButton } from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { logoutUser } from '../mutators/authMutators'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\n\nimport './LocationForm.scss'\n\nexport default observer(function UserAccessExpirationForm(props: any) {\n\tconst { onSubmit } = props\n\tconst { pendingChanges } = getAppStore()\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{t('App.UserAccessExpirationForm.title')}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<p>{t('App.UserAccessExpirationForm.text')}</p>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton onClick={onSubmit}>\n\t\t\t\t\t{t('App.UserAccessExpirationForm.submit')}\n\t\t\t\t</PrimaryButton>\n\t\t\t\t{!pendingChanges && (\n\t\t\t\t\t<DefaultButton onClick={logoutUser}>\n\t\t\t\t\t\t{t('App.UserAccessExpirationForm.logout')}\n\t\t\t\t\t</DefaultButton>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDropdown,\n\tIconButton,\n\tPersona,\n\tPersonaSize,\n\tPivot,\n\tPivotItem,\n\tContextualMenu,\n\tMessageBar,\n\tMessageBarButton,\n\tModal,\n\tSpinner,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useState, useEffect, useRef } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { loginUser, reLoginUser } from '../actions/authActions'\nimport { setAppLanguage } from '../actions/intlActions'\nimport { initializeGitData, saveContinue } from '../actions/repoActions'\nimport { logoutUser } from '../mutators/authMutators'\nimport { setCurrentLanguage } from '../mutators/repoMutators'\nimport { getText as t } from '../selectors/intlSelectors'\nimport { getAppStore } from '../store/store'\nimport { getLanguageOptions } from '../utils/textUtils'\nimport Dashboard from './Dashboard'\nimport Footer from './Footer'\nimport Locations from './Locations'\nimport Login from './Login'\nimport QualifierPanel from './QualifierPanel'\nimport Review from './Review'\nimport Translate from './Translate'\nimport UnAuthorized from './UnAuthorized'\nimport UserAccessExpirationForm from './UserAccessExpirationForm'\n\nimport './App_reset_styles.scss'\nimport './App.scss'\n\nexport default observer(function App() {\n\tconst state = getAppStore()\n\tconst [isPanelOpen, { setTrue: showPanel, setFalse: hidePanel }] = useBoolean(\n\t\tfalse\n\t)\n\tconst [\n\t\tisPersonaMenuOpen,\n\t\t{ setTrue: showPersonaMenu, setFalse: hidePersonaMenu },\n\t] = useBoolean(false)\n\tconst [branchWasSaved, setBranchWasSaved] = useState(false)\n\tconst [\n\t\tisAccessExpiration,\n\t\t{ setTrue: showAccessExpirationModal, setFalse: hideAccessExpirationModal },\n\t] = useBoolean(false)\n\tconst [selectedKey, setSelectedKey] = useState<string>('Dashboard')\n\tconst personaComponent = useRef(null)\n\n\tuseEffect(() => {\n\t\tif (state.accessToken && !state.globalFileData) loginUser()\n\t}, [state.accessToken, state.globalFileData])\n\n\tuseEffect(() => {\n\t\tif (state.userAccessExpired) showAccessExpirationModal()\n\t}, [state.userAccessExpired, showAccessExpirationModal])\n\n\tuseEffect(() => {\n\t\tif (state.pendingChanges) {\n\t\t\twindow.onbeforeunload = function () {\n\t\t\t\treturn true\n\t\t\t}\n\t\t} else {\n\t\t\twindow.onbeforeunload = null\n\t\t}\n\t}, [state.pendingChanges])\n\n\tuseEffect(() => {\n\t\tsetAppLanguage(state.currentLanguage)\n\t}, [state.currentLanguage])\n\n\tconst togglePanel = useCallback(\n\t\t(item?: any) => {\n\t\t\tif (item.props.headerText === 'Locations') {\n\t\t\t\tshowPanel()\n\t\t\t} else {\n\t\t\t\thidePanel()\n\t\t\t}\n\t\t\tsetSelectedKey(item.props.headerText)\n\t\t},\n\t\t[showPanel, hidePanel, setSelectedKey]\n\t)\n\n\tconst showDashboard = useCallback(() => {\n\t\tsetSelectedKey('Dashboard')\n\t}, [setSelectedKey])\n\n\tconst onAccessExpirationFormSubmit = useCallback(() => {\n\t\tif (state.globalFileData) reLoginUser()\n\t\telse loginUser()\n\n\t\thideAccessExpirationModal()\n\t}, [state.globalFileData, hideAccessExpirationModal])\n\n\tconst renderRepoMessageBar = () => {\n\t\tif (state.loadedPRData && state.prChanges && !state.isDataRefreshing) {\n\t\t\treturn (\n\t\t\t\t<MessageBar\n\t\t\t\t\tmessageBarType={5}\n\t\t\t\t\tisMultiline={true}\n\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t>\n\t\t\t\t\t{t('App.RepoMessageBar.current')}{' '}\n\t\t\t\t\t<strong>\n\t\t\t\t\t\tPR: {state.loadedPRData.number} - {state.loadedPRData.title}\n\t\t\t\t\t</strong>\n\t\t\t\t\t<br />\n\t\t\t\t\t{t('App.RepoMessageBar.updatedBy')}{' '}\n\t\t\t\t\t{state.prChanges?.last_commit?.commit?.committer?.name}\n\t\t\t\t\t<br />\n\t\t\t\t\t{t('App.RepoMessageBar.updatedOn')}{' '}\n\t\t\t\t\t{new Date(state.loadedPRData.updated_at).toLocaleString()}\n\t\t\t\t</MessageBar>\n\t\t\t)\n\t\t}\n\n\t\treturn null\n\t}\n\n\tconst renderSaveContinueMessageBar = () => {\n\t\tif (state.pendingChanges) {\n\t\t\treturn (\n\t\t\t\t<MessageBar\n\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t\tactions={\n\t\t\t\t\t\t!!state.loadedPRData ? undefined : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{!state.isSavingCommits ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<MessageBarButton\n\t\t\t\t\t\t\t\t\t\t\tdisabled={state.isDataRefreshing}\n\t\t\t\t\t\t\t\t\t\t\tonClick={initializeGitData}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('App.SaveContinueMessageBar.cancel')}\n\t\t\t\t\t\t\t\t\t\t</MessageBarButton>\n\t\t\t\t\t\t\t\t\t\t<MessageBarButton\n\t\t\t\t\t\t\t\t\t\t\tdisabled={state.isDataRefreshing}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetBranchWasSaved(true)\n\t\t\t\t\t\t\t\t\t\t\t\tsaveContinue()\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('App.SaveContinueMessageBar.submit')}\n\t\t\t\t\t\t\t\t\t\t</MessageBarButton>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Spinner\n\t\t\t\t\t\t\t\t\t\tlabel={t('App.SaveContinueMessageBar.saving')}\n\t\t\t\t\t\t\t\t\t\tariaLive=\"assertive\"\n\t\t\t\t\t\t\t\t\t\tlabelPosition=\"left\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{t('App.SaveContinueMessageBar.text')}\n\t\t\t\t</MessageBar>\n\t\t\t)\n\t\t} else if (state.userWorkingBranch) {\n\t\t\treturn (\n\t\t\t\t<MessageBar\n\t\t\t\t\tmessageBarType={4}\n\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t>\n\t\t\t\t\t{branchWasSaved\n\t\t\t\t\t\t? t('App.branchWasSaved.pass')\n\t\t\t\t\t\t: t('App.branchWasSaved.fail')}{' '}\n\t\t\t\t\t{state.userWorkingBranch}, <br />\n\t\t\t\t\t{t('App.branchWasSaved.text')}\n\t\t\t\t</MessageBar>\n\t\t\t)\n\t\t}\n\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className=\"rootContentWrapper\">\n\t\t\t{state.isAuthenticated ? (\n\t\t\t\t<>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t<div className=\"appPageContainer\">\n\t\t\t\t\t\t\t\t<div className=\"appHeaderWrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"appHeaderContainer\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\ticonProps={{ iconName: 'waffle' }}\n\t\t\t\t\t\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\t\t\t\t\t\ticon: { fontSize: '24px', color: 'white' },\n\t\t\t\t\t\t\t\t\t\t\t\trootHovered: { backgroundColor: 'transparent' },\n\t\t\t\t\t\t\t\t\t\t\t\trootPressed: { backgroundColor: 'transparent' },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className=\"appHeaderTitle\">{t('App.title', true)}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"appHeaderPersona\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey={state.currentLanguage}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e, o) => setCurrentLanguage(o)}\n\t\t\t\t\t\t\t\t\t\t\t\tariaLabel={t('App.LanguageDropDown.ariaLabel')}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={getLanguageOptions()}\n\t\t\t\t\t\t\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tdropdown: { border: 'none' },\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaretDown: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tdropdownOptionText: { fontSize: '14px' },\n\t\t\t\t\t\t\t\t\t\t\t\t\troot: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectors: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t':hover': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,.25);',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tref={personaComponent}\n\t\t\t\t\t\t\t\t\t\t\tonClick={showPersonaMenu}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"appHeaderPersonaDetails\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"appHeaderUsername\">\n\t\t\t\t\t\t\t\t\t\t\t\t{state.userDisplayName}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Persona\n\t\t\t\t\t\t\t\t\t\t\t\ttext={state.userDisplayName}\n\t\t\t\t\t\t\t\t\t\t\t\tsize={PersonaSize.size32}\n\t\t\t\t\t\t\t\t\t\t\t\thidePersonaDetails={true}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<ContextualMenu\n\t\t\t\t\t\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'logoutUserPersonaMenu',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t('App.Persona.logout'),\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlogoutUser()\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\thidden={!isPersonaMenuOpen}\n\t\t\t\t\t\t\t\t\t\t\ttarget={personaComponent}\n\t\t\t\t\t\t\t\t\t\t\tonItemClick={hidePersonaMenu}\n\t\t\t\t\t\t\t\t\t\t\tonDismiss={hidePersonaMenu}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"appBodyWrapper\">\n\t\t\t\t\t\t\t\t\t{state.isAuthorized ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"appBodyLeft\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Pivot\n\t\t\t\t\t\t\t\t\t\t\t\t\tonLinkClick={togglePanel}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={selectedKey}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theaderText={t('App.Pivot.Dashboard').toString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemKey=\"Dashboard\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderSaveContinueMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderRepoMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dashboard />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theaderText={t('App.Pivot.Locations').toString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemKey=\"Locations\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderSaveContinueMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderRepoMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Locations />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theaderText={t('App.Pivot.Translate').toString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemKey=\"Translate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderSaveContinueMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderRepoMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Translate />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(state.pendingChanges ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.userWorkingBranch) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theaderText={t('App.Pivot.Review').toString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemKey=\"Review\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Review showDashboard={showDashboard} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Pivot>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{state.isEditable && isPanelOpen && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"appBodyRight\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<QualifierPanel />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<UnAuthorized />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\tisOpen={isAccessExpiration}\n\t\t\t\t\t\t\t\tisModeless={false}\n\t\t\t\t\t\t\t\tisDarkOverlay={true}\n\t\t\t\t\t\t\t\tisBlocking={false}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<UserAccessExpirationForm\n\t\t\t\t\t\t\t\t\tonSubmit={onAccessExpirationFormSubmit}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t\t<div>{t('App.NotFound')}</div>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t)}\n\t\t\t<Footer />\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nimport { AppState } from '../store/schema/AppState'\n\nexport const firebaseApp = firebase.initializeApp({\n\tapiKey: process.env.REACT_APP_FIREBASE_KEY,\n\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n})\n\nexport const loginUserService = async (): Promise<AppState | undefined> => {\n\tlet authResp = undefined\n\n\tconst provider = new firebase.auth.GithubAuthProvider()\n\tprovider.addScope('repo')\n\n\tconst response = await firebaseApp.auth().signInWithPopup(provider)\n\n\tif (response) {\n\t\tconst oauthCreds = response.credential as firebase.auth.OAuthCredential\n\t\tauthResp = {\n\t\t\tisAuthenticated: true,\n\t\t\taccessToken: oauthCreds.accessToken,\n\t\t\temail: response.user?.email,\n\t\t\tuserDisplayName: response.user?.displayName,\n\t\t\tusername: response.additionalUserInfo?.username,\n\t\t} as AppState\n\t}\n\n\treturn authResp\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport parse from 'csv-parse/lib/sync'\nimport { getAppStore } from '../store/store'\nimport { convertCSVDataToObj } from '../utils/dataUtils'\nimport {\n\tb64_to_utf8,\n\tutf8_to_b64,\n\tcreateCSVDataString,\n} from '../utils/textUtils'\n\nconst githubRepoOwner = process.env.REACT_APP_REPO_OWNER\nconst githubRepoName = process.env.REACT_APP_REPO_NAME\n\nconst createPath = (obj: any, pathInput: string, value: any = undefined) => {\n\tlet path = pathInput.split('/')\n\tlet current = obj\n\twhile (path.length > 1) {\n\t\tconst [head, ...tail] = path\n\t\tpath = tail\n\t\tif (current[head] === undefined) {\n\t\t\tcurrent[head] = {}\n\t\t}\n\t\tcurrent = current[head]\n\t}\n\tif (!current[path[0]]) {\n\t\tcurrent[path[0]] = {}\n\t} else {\n\t\tcurrent[path[0]] = { ...current[path[0]], ...value }\n\t}\n\treturn obj\n}\n\nconst gitFetch = async (url: string, options: any = {}) => {\n\tconst {headers, json = true, ..._options} = options\n\tconst {accessToken} = getAppStore()\n\tconst apiUrl = url.startsWith('https://api.github.com/') ? url : `https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/${url}`\n\n\tconst response = await fetch(apiUrl, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAuthorization: `token ${accessToken}`,\n\t\t\t...headers\n\t\t},\n\t\t..._options\n\t})\n\t\n\tif(response.ok === false) {\n\t\tconst error = Object.assign(\n\t\t\tnew Error(), {\n\t\t\tstatus: response.status,\n\t\t\tok: response.ok\n\t\t})\n\n\t\tconsole.log('error', error);\n\t\tthrow error\n\t}\n\t\n\tif(json)\n\t\treturn await response.json()\n\telse\n\t\treturn response\n}\n\nconst getContent = async (url: string, token: string) => {\n\tconst response = await fetch(`${url}`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAuthorization: `token ${token}`,\n\t\t},\n\t})\n\tconst data = await response.json()\n\n\treturn data\n}\n\nconst createWorkingBranch = async (state: any, branchName: string) => {\n\tif(state.mainBranch)\n\t\treturn await gitFetch(\n\t\t\t`git/refs`,\n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tref: branchName,\n\t\t\t\t\tsha: state.mainBranch.commit.sha,\n\t\t\t\t}),\n\t\t\t}\n\t\t)\n\telse \n\t\treturn undefined\n}\n\nconst commitChanges = async (state: any, branchName: string, globalUpdates: any, locationUpdates: any) => {\n\tlet branchLastCommitSha = ''\n\tconst { committedDeletes } = state\n\n\tif (globalUpdates) {\n\t\tfor (const i in globalUpdates) {\n\t\t\tconst updateObj = globalUpdates[i]\n\t\t\tconst fileData = createCSVDataString(updateObj.content)\n\t\t\tconst query = `contents/packages/plans/data/localization/${updateObj.path}`\n\t\t\tconst globalResp = await gitFetch(\n\t\t\t\tquery,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\tmessage: `updated ${updateObj.path}`,\n\t\t\t\t\t\tcontent: utf8_to_b64(fileData),\n\t\t\t\t\t\tsha: updateObj.sha,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\t\t\tbranchLastCommitSha = globalResp?.commit?.sha ?? branchLastCommitSha\n\t\t}\n\t}\n\n\tif (locationUpdates) {\n\t\tlet locationResp: any = {}\n\t\tlet skipFetch = false\n\t\tfor (const i in locationUpdates) {\n\t\t\tconst locationObj = locationUpdates[i].data\n\t\t\tskipFetch = committedDeletes.includes(locationObj.info.path)\n\t\t\tconst infoQuery = `contents/packages/plans/data/policies/${locationObj.info.path}`\n\t\t\tconst method = locationObj.delete ? 'DELETE' : 'PUT'\n\t\t\tconst message = locationObj.delete ? 'deleted' : 'updated'\n\t\t\tconst content = locationObj.delete ? undefined : {\n\t\t\t\tinfo: utf8_to_b64(\n\t\t\t\t\tJSON.stringify(locationObj.info.content, null, '\\t')\n\t\t\t\t),\n\t\t\t\tvaccination: utf8_to_b64(\n\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\tlocationObj.vaccination.content,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'\\t'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tstrings: utf8_to_b64(\n\t\t\t\t\tcreateCSVDataString(locationObj.strings.content)\n\t\t\t\t)\n\t\t\t}\n\t\t\t//Info\n\t\t\tif (!skipFetch) {\n\t\t\t\tlocationResp = await gitFetch(\n\t\t\t\t\tinfoQuery,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod,\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\tmessage: `${message} ${locationObj.info.path}`,\n\t\t\t\t\t\t\tcontent: content?.info,\n\t\t\t\t\t\t\tsha: locationObj.info.sha,\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t//Vaccination\n\t\t\tskipFetch = committedDeletes.includes(locationObj.vaccination.path)\n\t\t\tconst vacQuery = `contents/packages/plans/data/policies/${locationObj.vaccination.path}`\n\t\t\tif (!skipFetch) {\n\t\t\t\tlocationResp = await gitFetch(\n\t\t\t\t\tvacQuery,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod,\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\tmessage: `${message} ${locationObj.vaccination.path}`,\n\t\t\t\t\t\t\tcontent: content?.vaccination,\n\t\t\t\t\t\t\tsha: locationObj.vaccination.sha,\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t//Strings\n\t\t\tskipFetch = committedDeletes.includes(locationObj.strings.path)\n\t\t\tconst stringQuery = `contents/packages/plans/data/policies/${locationObj.strings.path}`\n\t\t\tif (!skipFetch) {\n\t\t\t\tlocationResp = await gitFetch(\n\t\t\t\t\tstringQuery,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod,\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\tmessage: `${message} ${locationObj.strings.path}`,\n\t\t\t\t\t\t\tcontent: content?.strings,\n\t\t\t\t\t\t\tsha: locationObj.strings.sha,\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t// Regions\n\t\t\tif (locationObj.regions && !skipFetch) {\n\t\t\t\tconst regionKeys = Object.keys(locationObj.regions)\n\t\t\t\tfor (const key of regionKeys) {\n\t\t\t\t\tconst regionObj = locationObj.regions[key]\n\t\t\t\t\t//Info\n\t\t\t\t\tconst regInfoQuery = `contents/packages/plans/data/policies/${regionObj.info.path}`\n\n\t\t\t\t\tlocationResp = await gitFetch(\n\t\t\t\t\t\tregInfoQuery,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod,\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\tmessage: `${message} ${regionObj.info.path}`,\n\t\t\t\t\t\t\t\tcontent: locationObj.delete ? undefined : utf8_to_b64(\n\t\t\t\t\t\t\t\t\tJSON.stringify(regionObj.info.content, null, '\\t')\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tsha: regionObj.info.sha,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\t//Vaccination\n\t\t\t\t\tconst regVacQuery = `contents/packages/plans/data/policies/${regionObj.vaccination.path}`\n\n\t\t\t\t\tlocationResp = await gitFetch(\n\t\t\t\t\t\tregVacQuery,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod,\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\tmessage: `${message} ${regionObj.vaccination.path}`,\n\t\t\t\t\t\t\t\tcontent: locationObj.delete ? undefined : utf8_to_b64(\n\t\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\t\tregionObj.vaccination.content,\n\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t'\\t'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tsha: regionObj.vaccination.sha,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbranchLastCommitSha = locationResp?.commit?.sha ?? branchLastCommitSha\n\t}\n\n\treturn branchLastCommitSha\n}\n\nexport const repoServices = async (\n\tcommand: string,\n\textraData: any = undefined\n): Promise<any | undefined> => {\n\ttry {\n\n\t\tconst state = getAppStore()\n\t\tlet branchName = `refs/heads/${state.username}-policy-${Date.now()}`\n\n\t\tswitch (command) {\n\t\t\tcase 'checkAccess':\n\t\t\t\treturn await gitFetch(\n\t\t\t\t\t`collaborators/${state.username}`,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAccept: 'application/vnd.github.v3+json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tjson: false\n\t\t\t\t\t}\n\t\t\t\t)\n\n\t\t\tcase 'getBranches':\n\t\t\t\treturn await gitFetch(`branches?per_page=100`)\n\n\t\t\tcase 'getUserWorkingBranches': \t\n\t\t\t\tconst userPrs = await repoServices('getUserPullRequests')\n\t\t\t\tconst allBranches = extraData[0]\n\t\t\t\tconst usersBranches = allBranches.filter((branch: any) => branch.name.split('-policy-')[0] === state.username)\n\n\t\t\t\tconst userWorkingBranches = usersBranches.filter((branch: any) => {\n\t\t\t\t\treturn !userPrs.find((pr: any) => pr?.head?.ref === branch.name)\n\t\t\t\t} ).sort((a: any, b: any) => (a.name > b.name ? -1 : 1))\n\n\t\t\t\treturn userWorkingBranches\n\n\t\t\tcase 'getUserPullRequests': \n\t\t\t\tconst prs = await gitFetch(`issues?creator=${state.username}`)\n\t\t\t\tconst populatedPRs: any[] = await Promise.all(\n\t\t\t\t\tprs.map(async (item: any) => gitFetch(`pulls/${item.number}`))\n\t\t\t\t)\n\n\t\t\t\treturn populatedPRs\n\t\t\tcase 'getPullRequests':\n\t\t\t\tconst loadPRResponse = await gitFetch(`pulls/${extraData}`)\n\t\t\t\tconst commitResp = await gitFetch(`pulls/${extraData}/commits`)\n\n\t\t\t\treturn {data: loadPRResponse, commits: commitResp}\n\t\t\tcase 'getIssues':\n\t\t\t\treturn await gitFetch(`issues`)\n\t\t\t\t\n\t\t\tcase 'getRepoFileData':\n\t\t\t\tconst query = !extraData\n\t\t\t\t\t? `contents/packages/plans/data`\n\t\t\t\t\t: `contents/packages/plans/data?ref=${extraData}`\n\n\t\t\t\tconst dataFolderObj = await gitFetch(query)\n\t\t\t\tconst policyFolderGitUrl = dataFolderObj.find(\n\t\t\t\t\t(folder: { name: string }) => folder.name === 'policies'\n\t\t\t\t).git_url\n\t\t\t\tconst loadPolicyFolderResponse = await gitFetch(`${policyFolderGitUrl}?recursive=true`)\n\t\t\t\tconst policyFolderData = loadPolicyFolderResponse\n\t\t\t\tconst stateData: any = {}\n\t\t\t\tpolicyFolderData.tree.forEach(async (element: any) => {\n\t\t\t\t\tif (element.type === 'tree') {\n\t\t\t\t\t\tcreatePath(stateData, element.path)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst lastInstance = element.path.lastIndexOf('/')\n\t\t\t\t\t\tconst filePath = element.path.substring(0, lastInstance)\n\t\t\t\t\t\tconst fileName: string = element.path.substring(lastInstance + 1)\n\t\t\t\t\t\tconst fileType: string = fileName.split('.')[0]\n\t\t\t\t\t\tconst fileObj: any = {}\n\n\t\t\t\t\t\tconst fileData = await getContent(\n\t\t\t\t\t\t\tString(element.url),\n\t\t\t\t\t\t\tString(state.accessToken)\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tswitch (fileName.split('.')[1].toLowerCase()) {\n\t\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\t\tfileObj[fileType] = {\n\t\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\t\tcontent: JSON.parse(b64_to_utf8(fileData.content)),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'md':\n\t\t\t\t\t\t\t\tfileObj['desc_md'] = {\n\t\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\t\tcontent: b64_to_utf8(fileData.content),\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'csv':\n\t\t\t\t\t\t\t\tfileObj['strings'] = {\n\t\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\t\tcontent: convertCSVDataToObj(\n\t\t\t\t\t\t\t\t\t\tparse(b64_to_utf8(fileData.content), { columns: true })\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (fileObj !== {}) {\n\t\t\t\t\t\t\tcreatePath(stateData, filePath, fileObj)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tconst localizationFolderGitUrl = dataFolderObj.find(\n\t\t\t\t\t(folder: { name: string }) => folder.name === 'localization'\n\t\t\t\t).git_url\n\n\t\t\t\tconst localizationResponse = await gitFetch(`${localizationFolderGitUrl}?recursive=true`)\n\n\n\t\t\t\tconst customStrings = localizationResponse.tree.find(\n\t\t\t\t\t(file: { path: string }) => file.path === 'custom-strings.csv'\n\t\t\t\t)\n\t\t\t\tconst cdcStateNames = localizationResponse.tree.find(\n\t\t\t\t\t(file: { path: string }) => file.path === 'cdc-state-names.csv'\n\t\t\t\t)\n\t\t\t\tconst cdcStateLinks = localizationResponse.tree.find(\n\t\t\t\t\t(file: { path: string }) => file.path === 'cdc-state-links.csv'\n\t\t\t\t)\n\n\t\t\t\tlet customStringsData: any = {}\n\t\t\t\tlet cdcStateNamesData: any = {}\n\t\t\t\tlet cdcStateLinksData: any = {}\n\n\t\t\t\tconst customStringsDataParse = await getContent(\n\t\t\t\t\tString(customStrings.url),\n\t\t\t\t\tString(state.accessToken)\n\t\t\t\t)\n\t\t\t\tcustomStringsData = convertCSVDataToObj(\n\t\t\t\t\tparse(b64_to_utf8(customStringsDataParse.content), { columns: true })\n\t\t\t\t)\n\n\t\t\t\tconst cdcStateNamesDataParse = await getContent(\n\t\t\t\t\tString(cdcStateNames.url),\n\t\t\t\t\tString(state.accessToken)\n\t\t\t\t)\n\t\t\t\tcdcStateNamesData = convertCSVDataToObj(\n\t\t\t\t\tparse(b64_to_utf8(cdcStateNamesDataParse.content), { columns: true })\n\t\t\t\t)\n\n\t\t\t\tconst cdcStateLinksDataParse = await getContent(\n\t\t\t\t\tString(cdcStateLinks.url),\n\t\t\t\t\tString(state.accessToken)\n\t\t\t\t)\n\t\t\t\tcdcStateLinksData = convertCSVDataToObj(\n\t\t\t\t\tparse(b64_to_utf8(cdcStateLinksDataParse.content), { columns: true })\n\t\t\t\t)\n\n\t\t\t\tcustomStrings['content'] = customStringsData\n\t\t\t\tcdcStateNames['content'] = cdcStateNamesData\n\t\t\t\tcdcStateLinks['content'] = cdcStateLinksData\n\n\t\t\t\treturn [stateData, customStrings, cdcStateNames, cdcStateLinks]\n\n\t\t\tcase 'createWorkingBranch':\n\t\t\t\tif (state.mainBranch) {\n\t\t\t\t\treturn await createWorkingBranch(state, branchName)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'commitChanges':\n\t\t\t\tif (extraData) {\n\t\t\t\t\treturn await commitChanges(state, extraData.branchName, extraData.globalUpdates, extraData.locationUpdates)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'createPR':\n\t\t\t\tif (state.mainBranch) {\n\t\t\t\t\tconst globalUpdates = extraData[0]\n\t\t\t\t\tconst locationUpdates = extraData[1]\n\t\t\t\t\tconst prFormData = extraData[3]\n\t\t\t\t\tif(state.loadedPRData) {\n\t\t\t\t\t\tbranchName = `refs/heads/${state.loadedPRData.head.ref}`\n\t\t\t\t\t} else if (state.userWorkingBranch) {\n\t\t\t\t\t\tbranchName = `refs/heads/${state.userWorkingBranch}`\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait createWorkingBranch(state, branchName)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (state.pendingChanges) {\n\t\t\t\t\t\tawait commitChanges(state, branchName, globalUpdates, locationUpdates)\n\t\t\t\t\t}\n\n\t\t\t\t\tlet prTitle = ''\n\t\t\t\t\tif (!state.loadedPRData) {\n\t\t\t\t\t\tprTitle = !prFormData.prTitle ? 'auto PR creation' : prFormData.prTitle\n\t\t\t\t\t\tconst prResp = await gitFetch(\n\t\t\t\t\t\t\t`pulls`,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\thead: branchName,\n\t\t\t\t\t\t\t\t\tbase: 'main',\n\t\t\t\t\t\t\t\t\ttitle: prTitle,\n\t\t\t\t\t\t\t\t\tbody: prFormData.prDetails\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\n\t\t\t\t\t\tawait gitFetch(\n\t\t\t\t\t\t\t`issues/${prResp.number}/labels`,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\tlabels: ['data-composer-submission', 'requires-data-accuracy-review']\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn prResp\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprTitle = !prFormData.prTitle ? state.loadedPRData.title : prFormData.prTitle\n\t\t\t\t\t\tconst prDetails = !prFormData.prDetails ? state.loadedPRData.body : prFormData.prDetails\n\t\t\t\t\t\tawait gitFetch(\n\t\t\t\t\t\t\t`pulls/${state.loadedPRData.number}`,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\ttitle: prTitle,\n\t\t\t\t\t\t\t\t\tbody: prDetails\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn state.loadedPRData\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn undefined\n\t} catch(error) {\n\t\treturn error\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { orchestrator } from 'satcheljs'\nimport { loginUser, reLoginUser } from '../actions/authActions'\nimport { initializeGitData } from '../actions/repoActions'\nimport { setUserAuthData, setUserNoAccess, setUserAccessExpired, setUserAccessToken } from '../mutators/authMutators'\nimport { setIsDataRefreshing } from '../mutators/repoMutators'\nimport { loginUserService } from '../services/loginUserService'\nimport { repoServices } from '../services/repoServices'\nimport { getAppStore } from '../store/store'\n\norchestrator(loginUser, async () => {\n\ttry {\n\t\tlet resp: any\n\t\tconst state = getAppStore()\n\n\t\tif (state.accessToken) {\n\t\t\tresp = {\n\t\t\t\taccessToken: state.accessToken,\n\t\t\t\temail: state.email,\n\t\t\t\tisAuthenticated: state.isAuthenticated,\n\t\t\t\tuserDisplayName: state.userDisplayName,\n\t\t\t\tusername: state.username,\n\t\t\t}\n\t\t} else {\n\t\t\tresp = await loginUserService()\n\t\t}\n\n\t\tif (resp) {\n\t\t\tsetUserAuthData(resp)\n\t\t\tconst accessResp = await repoServices('checkAccess')\n\t\t\tif (accessResp.ok) {\n\t\t\t\tinitializeGitData()\n\t\t\t} else {\n\t\t\t\tif(accessResp.status === 401) {\n\t\t\t\t\tsetUserAccessExpired(true)\n\t\t\t\t\tsetUserAccessToken()\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetUserNoAccess()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tconsole.warn('Error logging in', error)\n\t}\n})\n\n\norchestrator(reLoginUser, async () => {\n\ttry {\n\t\tsetIsDataRefreshing(true)\n\t\tconst resp = await loginUserService()\n\t\tsetUserAccessExpired(false)\n\t\t\n\t\tif (resp) {\n\t\t\tsetUserAuthData(resp)\n\t\t\tconst accessResp = await repoServices('checkAccess')\n\t\t\t\n\t\t\tif (!accessResp.ok) {\n\t\t\t\tsetUserNoAccess()\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tconsole.warn('Error logging in', error)\n\t} finally {\n\t\tsetIsDataRefreshing(false)\n\t}\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { orchestrator } from 'satcheljs'\nimport {\n\tcreatePR,\n\tgetRepoFileData,\n\tinitializeGitData,\n\tloadPR,\n\tloadBranch,\n\tsaveContinue,\n} from '../actions/repoActions'\nimport {setUserAccessExpired, setUserAccessToken} from '../mutators/authMutators'\nimport {\n\tsetBranchList,\n\tclearLoadedPRData,\n\tsetInitRepoFileData,\n\tsetRepoFileData,\n\tsetIssuesList,\n\tsetLoadedPRData,\n\tsetPendingChanges,\n\tsetUserWorkingBranch,\n\tsetUserWorkingBranches,\n\tsetIsDataRefreshing,\n\tsetIsDataStale,\n\tsetSavingCommitsFlag,\n} from '../mutators/repoMutators'\nimport { getChanges } from '../selectors/changesSelectors'\nimport { repoServices } from '../services/repoServices'\nimport { getAppStore } from '../store/store'\n\nconst handleError = (error: any, callback?: () => void) => {\n\tswitch(error.status) {\n\t\tcase 401: \n\t\t\tsetUserAccessExpired(true)\n\t\t\tsetUserAccessToken()\n\t\tbreak\n\t\tcase 'DATA_IS_STALE': \n\t\tcase 422:\n\t\t\tsetIsDataStale(true)\n\t\tbreak\n\t}\n\n\tsetSavingCommitsFlag(false)\n\tcallback?.()\n}\n\norchestrator(createPR, async (message) => {\n\tconst { fileData } = message\n\n\tlet resp = await repoServices('createPR', fileData)\n\tif(resp.ok === false) {\n\t\thandleError(resp, () => fileData[2]({error: true}))\n\t} else {\n\t\tconst store = getAppStore()\n\t\tconst nextWorkingBranches = store.userWorkingBranches.filter(\n\t\t\t(b) => b.name !== store.userWorkingBranch\n\t\t)\n\n\t\tresp = await repoServices('getBranches')\n\t\tsetBranchList(resp)\n\n\t\tresp = await repoServices('getUserWorkingBranches', [resp])\n\t\tsetUserWorkingBranches(nextWorkingBranches)\n\t\tsetUserWorkingBranch(undefined)\n\n\t\tresp = await repoServices('getRepoFileData')\n\t\tsetInitRepoFileData(resp)\n\n\t\tresp = await repoServices('getIssues')\n\t\tsetIssuesList(resp, fileData[2]())\n\n\t\tclearLoadedPRData()\n\t}\n})\n\norchestrator(getRepoFileData, async () => {\n\tconst resp = await repoServices('getRepoFileData')\n\tsetInitRepoFileData(resp)\n})\n\norchestrator(initializeGitData, async () => {\n\tsetIsDataRefreshing(true)\n\tsetUserWorkingBranch(undefined)\n\tclearLoadedPRData()\n\tsetIsDataStale(false)\n\n\tlet resp = await repoServices('getBranches')\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t\treturn\n\t}\n\t\n\tsetBranchList(resp)\n\n\tconst userWorkingBranches = await repoServices('getUserWorkingBranches', [\n\t\tresp,\n\t])\n\t\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t\treturn\n\t}\n\t\n\tsetUserWorkingBranches(userWorkingBranches)\n\n\tresp = await repoServices('getRepoFileData')\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t\treturn\n\t}\n\t\n\tsetInitRepoFileData(resp)\n\n\tresp = await repoServices('getIssues')\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t\treturn\n\t}\n\t\n\tsetIssuesList(resp)\n\n\tsetIsDataRefreshing(false)\n})\n\norchestrator(loadBranch, async (message) => {\n\tconst { branch } = message\n\tsetIsDataRefreshing(true)\n\n\tconst resp = await repoServices(\n\t\t'getRepoFileData',\n\t\t`refs/heads/${branch.name}`\n\t)\n\tif(resp.ok === false) {\n\t\thandleError(resp.status === 404 ? {...resp, status: 'DATA_IS_STALE'} : resp)\n\t}\n\telse {\n\t\tsetUserWorkingBranch(branch.name)\n\t\tsetRepoFileData(resp)\n\t\tclearLoadedPRData()\n\t}\n\n\tsetIsDataRefreshing(false)\n})\n\norchestrator(loadPR, async (message) => {\n\tconst { prNumber } = message\n\tsetIsDataRefreshing(true)\n\tif (prNumber) {\n\t\tconst prResp = await repoServices('getPullRequests', prNumber)\n\t\tif(prResp.ok === false) {\n\t\t\thandleError(prResp)\n\t\t\treturn\n\t\t} \n\t\tsetLoadedPRData(prResp)\n\n\t\tconst resp = await repoServices('getRepoFileData', prResp.data.head.sha)\n\t\tif(resp.ok === false) {\n\t\t\thandleError(resp)\n\t\t} else {\n\t\t\tsetRepoFileData(resp)\n\t\t}\n\t\tsetUserWorkingBranch(undefined)\n\t}\n\tsetIsDataRefreshing(false)\n})\n\norchestrator(saveContinue, async () => {\n\tsetSavingCommitsFlag(true)\n\tconst store = getAppStore()\n\tconst changes = getChanges()\n\tlet branch = store.userWorkingBranch\n\tlet resp;\n\n\tif (!branch) {\n\t\tresp = await repoServices('createWorkingBranch')\n\t\tif(resp.ok === false) {\n\t\t\thandleError(resp)\n\t\t\treturn\n\t\t}\n\n\t\tbranch = resp.ref.split('refs/heads/').join('')\n\t\tsetUserWorkingBranch(branch)\n\t}\n\n\tresp = await repoServices('commitChanges', {\n\t\t...changes,\n\t\tbranchName: `refs/heads/${branch}`,\n\t})\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t} else {\n\t\tresp = await repoServices('getRepoFileData', resp)\n\t\tif(resp.ok === false) {\n\t\t\thandleError(resp)\n\t\t} else {\n\t\t\tsetRepoFileData(resp)\n\t\t\tsetPendingChanges(false)\n\t\t}\n\t}\n\n\tsetSavingCommitsFlag(false)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { mutatorAction } from 'satcheljs'\nimport { getAppStore } from '../store/store'\n\nexport const setLocalization = mutatorAction(\n\t'setLocalization',\n\t(localization: any) => {\n\t\tconst store = getAppStore()\n\t\tif (localization) {\n\t\t\tstore.localization = localization\n\t\t}\n\t}\n)\n\nexport const setDefaultLanguage = mutatorAction(\n\t'setDefaultLanguage',\n\t(defaultLanguage: any) => {\n\t\tconst store = getAppStore()\n\t\tstore.defaultLanguage = defaultLanguage\n\t}\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { isEmpty } from 'lodash'\nimport { isRtlLang } from 'rtl-detect'\nimport { orchestrator } from 'satcheljs'\nimport { setAppLanguage } from '../actions/intlActions'\nimport config from '../config'\nimport { setLocalization, setDefaultLanguage } from '../mutators/intlMutators'\nimport { getAppStore } from '../store/store'\n\norchestrator(setAppLanguage, async (message) => {\n\tconst state = getAppStore()\n\tlet localization: any = {}\n\tlet defaultLanguage: any = state.defaultLanguage\n\n\tif (isEmpty(defaultLanguage)) {\n\t\tdefaultLanguage = {\n\t\t\tlanguage: config.defaultLanguage,\n\t\t\trtl: isRtlLang(config.defaultLanguage),\n\t\t\t...await import(`../intl/${config.defaultLanguage}.json`),\n\t\t}\n\n\t\tsetDefaultLanguage(defaultLanguage)\n\t}\n\n\ttry {\n\t\tlocalization = {\n\t\t\tlanguage: message.language,\n\t\t\trtl: isRtlLang(message.language),\n\t\t\t...await import(`../intl/${message.language}.json`),\n\t\t}\n\t} catch {\n\t\tlocalization = {\n\t\t\tlanguage: message.language,\n\t\t\trtl: isRtlLang(message.language),\n\t\t}\n\t}\n\n\tsetLocalization(localization)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { initializeIcons } from '@fluentui/react/lib/Icons'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './components/App'\nimport './orchestrators/authOrchestrators'\nimport './orchestrators/repoOrchestrators'\nimport './orchestrators/intlOrchestrators'\n\nfunction render() {\n\ttry {\n\t\tconst basePath = process.env.REACT_APP_BASE_PATH\n\t\tinitializeIcons()\n\t\tReactDOM.render(\n\t\t\t<React.StrictMode>\n\t\t\t\t<Router basename={basePath}>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</React.StrictMode>,\n\t\t\tdocument.getElementById('root')\n\t\t)\n\t} catch (err) {\n\t\tconsole.error('error rendering app', err)\n\t}\n}\n\nrender()\n"],"sourceRoot":""}