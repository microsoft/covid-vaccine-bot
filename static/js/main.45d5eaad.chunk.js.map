{"version":3,"sources":["actions/authActions.ts","store/localStorage.ts","store/store.ts","mutators/authMutators.ts","utils/dataUtils.ts","utils/textUtils.ts","mutators/repoMutators.ts","actions/repoActions.ts","components/Dashboard.tsx","components/Footer.tsx","selectors/locationSelectors.ts","components/LocationForm.tsx","components/PhaseForm.tsx","selectors/phaseSelectors.ts","components/PhaseQualifierForm.tsx","components/LocationsPhases.tsx","components/LocationsRegions.tsx","components/LocationsStates.tsx","components/Locations.tsx","components/Login.tsx","components/AddQualiferForm.tsx","selectors/qualifierSelectors.ts","components/QualifierPanel.tsx","components/Review.tsx","components/Translate.tsx","components/UnAuthorized.tsx","components/App.tsx","services/loginUserService.ts","services/repoServices.ts","orchestrators/authOrchestrators.ts","orchestrators/repoOrchestrators.ts","index.tsx"],"names":["loginUser","action","LOCAL_STORE_KEY","loadState","serializedState","localStorage","getItem","JSON","parse","err","console","warn","clearState","removeItem","initialStore","isAuthenticated","isAuthorized","accessToken","undefined","username","email","userDisplayName","branches","issues","repoFileData","initRepoFileData","globalFileData","initGlobalFileData","mainBranch","currentLanguage","toggleQualifier","isEditable","pendingChanges","isDataRefreshing","prChanges","getAppStore","createStore","localState","getAppState","store","getRootStore","get","autorun","state","local","stringify","setItem","saveState","setUserAuthData","mutatorAction","data","setUserNoAccess","logoutUser","window","location","reload","convertCSVDataToObj","csvData","returnObj","forEach","row","stringLabel","Object","keys","find","x","trim","stringId","toLowerCase","getObjDiffs","obj1","obj2","prototype","toString","call","key","diffs","compare","item1","item2","type1","type2","arr1","arr2","length","i","arraysMatch","objDiff","hasOwnProperty","toProperCase","text","res","replace","letter","toUpperCase","startsWith","formatId","getLanguageOptions","excludeLanguage","split","map","getLanguageDisplayText","filter","l","languageCode","Intl","DisplayNames","type","of","utf8_to_b64","str","btoa","unescape","encodeURIComponent","b64_to_utf8","decodeURIComponent","escape","atob","createCSVDataString","contentObj","languageKeys","contentKeys","result","join","rowValues","lang","push","initStoreData","setBranchList","branch","name","setIssuesList","callback","setLoadedPRData","prData","loadedPRData","changes","last_commit","commits","pop","handleCreatePR","setRepoFileData","customStrings","cdcStateNames","cdcStateLinks","setCurrentLanguage","updateLocationList","locationData","isRegion","selectedState","newLocObj","locationName","details","info","content","id","metadata","code_alpha","code_numeric","regionType","path","sha","url","strings","vaccination","activePhase","links","eligibility","eligibilityPlan","eligibility_plan","providers","workflow","scheduling","schedulingPhone","scheduling_phone","createLocationDataObj","noPhaseLabel","schedulingPhoneKey","schedulingPhoneDesc","schedulingPhoneDescKey","description","regions","stringsContentObj","updateLocationData","prevItem","regionObj","value","modifyStateStrings","locationKey","item","moreInfoContent","newStringsObj","infoKey","regionInfo","regionVaccinationObj","phases","copyPhaseData","phase","groupId","qualifications","qualification","question","qualifierId","moreInfoText","affectedPhase","affectedQualifier","newObj","oldObj","currPhaseObj","qual","moreInfoUrl","modifyMoreInfoLinks","updateQualifier","oldId","addQualifier","removeQualifier","removeIndex","findIndex","splice","removePhase","phaseId","addPhase","label","duplicatePhase","phaseSource","nextPhaseId","newItem","newContentKey","RegExp","updatePhase","setActivePhase","updateGlobalQualifiers","qualifierKey","isNew","qualifierKeyBank","qualifier","customStringKeys","qKey","tagKey","includes","endsWith","substr","translateLocationName","toKey","to","translateQualifier","translateMisc","category","parent","recursiveFindAndReplace","saveObj","region","updateStrings","stringsList","createPR","fileData","getRepoFileData","initializeGitData","loadPR","prNumber","observer","useState","prList","setPRList","issueList","setIssueList","useBoolean","hideDialog","toggleHideDialog","toggle","noteKeys","setNoteKeys","useEffect","tempPRList","tempIssueList","requestUpdate","Date","updated_at","isScrappedIssue","labels","some","pull_request","title","author","user","login","update","toLocaleString","toggleCallout","useCallback","tempItems","index","indexOf","prColumns","fieldName","minWidth","isResizable","onRender","column","body","FontIcon","className","number","iconName","onClick","Callout","onDismiss","target","gapSpace","setInitialFocus","role","directionalHint","ariaLabel","href","html_url","rel","issueColumns","refreshData","onRefreshDataClick","ProgressIndicator","DetailsList","items","columns","setKey","layoutMode","DetailsListLayoutMode","justified","ariaLabelForSelectionColumn","ariaLabelForSelectAllCheckbox","checkButtonAriaLabel","checkboxVisibility","style","textAlign","Dialog","hidden","dialogContentProps","DialogType","normal","closeButtonAriaLabel","modalProps","isBlocking","DialogFooter","PrimaryButton","DefaultButton","Footer","memo","display","flexDirection","process","Link","children","cursor","marginLeft","marginRight","alignContent","open","getCustomStrings","keyFilter","customStringsList","entries","setInitialData","getStrings","selectedRegion","returnVal","getRegionCustomStrings","getStateCustomStrings","vacInfo","props","onSubmit","onCancel","formData","setFormData","fieldChanges","useRef","regionTypeOptions","baseTitle","formTitle","handleRegionChange","_ev","current","handleTextChange","ev","onNoLabelChange","checked","canSubmit","TextField","onChange","Dropdown","selectedKey","placeholder","options","Checkbox","disabled","duplicate","keyId","isActive","hasError","setHasError","isDuplicate","disableSubmit","onGetErrorMessage","getPhaseQualifierItems","getPhaseQualifierItemsByKey","qualifierList","sort","a","b","getExactCustomStrings","rowItems","onRowItemRemove","onRowItemTextChange","onRowItemQualifierChange","groupKey","phaseTagItems","phaseQualifiers","tagKeys","tagList","getPhaseTagItems","phaseQualifierItems","filteredQualifierItems","setFilteredQualifierItems","overrideIconFlag","moreInfoKey","regionPhases","currPhase","currQualification","getPhaseMoreInfoTextByKey","setMoreInfoText","getPhaseMoreInfoUrl","setMoreInfoUrl","changedItem","onTagChange","_event","option","q","onQualifierChange","onMoreInfoTextChange","onMoreInfoUrlChange","pointerEvents","visibility","defaultSelectedKey","styles","root","width","IconButton","iconProps","menuIcon","margin","menuProps","isBeakVisible","DirectionalHint","rightTopEdge","aria-label","multiline","autoAdjustHeight","resizable","padding","onBlur","phaseList","setPhaseList","groupToggleState","selectedModalFormItem","isDuplaceModalOpen","openDuplicateModal","setTrue","dismissDuplicateModal","setFalse","onDuplicateSubmit","onDuplicatePhaseClick","tempPhaseList","currentStateObj","phaseObj","isCollapsed","isActivePhase","tempPhaseObj","count","phaseItems","String","onRemoveRowItem","group","newItemIndex","onChangeRowItemText","currentItem","initItem","calcInfoKey","onChangeRowItemQualifier","idx","toggleGroup","onToggleCollapse","color","groupItem","marginTop","onAddQualifierClick","Modal","isOpen","isModeless","isDarkOverlay","filteredRegionsList","setFilteredRegionsList","stateRegionsFullList","selectedPhaseItem","setSelectedPhaseItem","isLocationModalOpen","openLocationModal","dismissLocationModal","isPhaseModalOpen","openPhaseModal","dismissPhaseModal","onNavigateBack","subLocationsColumns","loc","phaseColumns","maxWidth","phaseItemList","setPhaseItemList","selectedStateObj","tempList","valObj","newList","setInitialPhaseItems","selectedPhase","onLocationFormSubmit","onLocationFormOpen","onPhaseFormOpen","onRenderItemColumn","_index","fieldContent","onRegionFilter","onItemInvoked","SearchBox","selectionPreservedOnEmptyClick","phaseData","onSelectedItem","filteredStateList","setFilteredStateList","stateRepoFullList","selectedLocationItem","locationColumns","stateId","stateNames","stateLabel","onStateFilter","openSelection","setSelectedState","tagsOptions","globalQualifiersList","replaceAll","getGlobalQualifierValidationTexts","isAddingTag","setIsAddingTag","handleTagChange","newQualifier","newQualifierText","isTagDuplicate","newTag","newTagKey","t","createNewTag","validateOnLoad","qualifierGroup","setQualifierGroup","qualifierGroupItems","setQualifierGroupItems","isAddQualifierModalOpen","openAddQualifierModal","dismissAddQualifierModal","formItem","groupKeys","questionItemKeys","tempQualifierGroup","tempQualifierGroupItems","k","questionGroupKey","groupIdx","obj","startIndex","onAddQualifierFormOpen","addQualifierSubmit","setTimeout","tag","groups","groupProps","showEmptyGroups","compact","isHeaderVisible","showDashboard","changesList","setChangesList","locationUpdates","setLocationUpdates","globalUpdates","setGlobalUpdates","showLoading","setShowLoading","errorMessage","setErrorMessage","initData","prTitle","prDetails","setInitialFormData","changeSummary","tempChangesList","tempLocationUpdates","tempGlobalUpdates","addChanges","MessageBar","messageBarType","MessageBarType","error","dismissButtonAriaLabel","rows","filterDropdownStyles","dropdown","border","fontSize","backgroundColor","caretDown","dropdownOptionText","languageOptions","translationFilter","miscFilter","locationChanges","qualifierChanges","miscChanges","locationFullList","qualifierFullList","miscFullList","stateSpecificOptions","mainLanguage","toLanguage","fileUploadRef","createRef","locationList","setLocationList","setQualifierList","miscList","setMiscList","translationFilterState","setTranslationFilterState","miscFilterState","setMiscFilterState","miscStateSpecFilterState","setMiscStateSpecFilterState","locations","qualifiers","misc","isSectionCollapse","setSectionCollapse","buildTranslationsLists","tempMiscList","stateLinks","stateLinkLabel","translateToValue","translateLinkToValue","fromKey","from","_to","tempQualifierList","stateStrings","aKey","bKey","concat","tempMiscStateSpecificList","tempKeys","onCollapseSection","handleLocationTextChange","rowItem","handleQualifierTextChange","handleMiscTextChange","updateLocationTranslation","updateQualifierTranslation","updateMiscTranslation","onLanguageChange","onTranslationFilterChange","onMiscFilterChange","selectedMiscStateOptionKey","filteredList","onMiscStateSpecificFilterChange","onReaderLoadData","readerEvent","Error","searchForStrings","elem","resultObj","assign","htmlFor","ref","e","files","file","reader","FileReader","onload","readAsText","stringsObj","stringData","Blob","csvUrl","URL","createObjectURL","click","val","Math","ceil","isPanelOpen","showPanel","hidePanel","isPersonaMenuOpen","showPersonaMenu","hidePersonaMenu","setSelectedKey","personaComponent","onbeforeunload","togglePanel","headerText","renderRepoMessageBar","isMultiline","commit","committer","exact","icon","rootHovered","rootPressed","o","selectors","Persona","size","PersonaSize","size32","hidePersonaDetails","ContextualMenu","onItemClick","Pivot","onLinkClick","PivotItem","itemKey","firebaseApp","firebase","initializeApp","apiKey","authDomain","loginUserService","authResp","provider","auth","GithubAuthProvider","addScope","signInWithPopup","response","oauthCreds","credential","displayName","additionalUserInfo","createPath","pathInput","head","tail","getContent","token","fetch","method","headers","Authorization","json","repoServices","command","extraData","githubRepoOwner","githubRepoName","Accept","loadAccessResponse","loadBranchesResponse","loadPRResponse","commentResp","commentsObj","comment","commitResp","loadIssuesResponse","clone","prChangeList","prDescription","query","dataFolderResp","dataFolderObj","policyFolderGitUrl","folder","git_url","loadPolicyFolderResponse","policyFolderData","stateData","tree","element","lastInstance","lastIndexOf","filePath","substring","fileName","fileType","fileObj","localizationFolderGitUrl","localizationResponse","localizationData","customStringsData","cdcStateNamesData","cdcStateLinksData","customStringsDataParse","cdcStateNamesDataParse","cdcStateLinksDataParse","branchName","now","prFormData","workingBranch","createBranchResponse","updateObj","message","locationObj","regionKeys","base","prResp","prRespClone","orchestrator","resp","ok","initializeIcons","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.45d5eaad.chunk.js","sourcesContent":["/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { action } from 'satcheljs'\n\nexport const loginUser = action('loginUser')\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { AppState } from './schema/AppState'\n\nexport const LOCAL_STORE_KEY = 'dataComposer'\n\nexport const loadState = (): AppState | undefined => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem(LOCAL_STORE_KEY)\n\n\t\tif (!serializedState) return undefined\n\n\t\treturn JSON.parse(serializedState)\n\t} catch (err) {\n\t\tconsole.warn('Error loading state', err)\n\t\tclearState()\n\t\treturn undefined\n\t}\n}\n\nexport const saveState = (state: any): void => {\n\ttry {\n\t\tconst local = loadState()\n\t\tconst serializedState = JSON.stringify({\n\t\t\t...local,\n\t\t\t...state,\n\t\t})\n\n\t\tlocalStorage.setItem(LOCAL_STORE_KEY, serializedState)\n\t} catch (err) {\n\t\tconsole.warn('Error saving state', err)\n\t\tclearState()\n\t}\n}\n\nexport const clearState = (): void => {\n\tlocalStorage.removeItem(LOCAL_STORE_KEY)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { autorun } from 'mobx'\nimport { createStore, getRootStore } from 'satcheljs'\nimport { loadState, saveState } from './localStorage'\nimport { AppState } from './schema/AppState'\n\nexport const initialStore = {\n\tisAuthenticated: false,\n\tisAuthorized: true,\n\taccessToken: undefined,\n\tusername: undefined,\n\temail: undefined,\n\tuserDisplayName: undefined,\n\tbranches: undefined,\n\tissues: undefined,\n\trepoFileData: undefined,\n\tinitRepoFileData: undefined,\n\tglobalFileData: undefined,\n\tinitGlobalFileData: undefined,\n\tmainBranch: undefined,\n\tcurrentLanguage: 'en-us',\n\ttoggleQualifier: false,\n\tisEditable: true,\n\tpendingChanges: false,\n\tisDataRefreshing: false,\n\tprChanges: undefined,\n}\n\nexport const getAppState = (): AppState => {\n\tconst localState = loadState()\n\n\treturn {\n\t\t...initialStore,\n\t\t...localState,\n\t}\n}\n\nexport const getAppStore = createStore<AppState>('appState', getAppState())\n\nconst store = getRootStore().get('appState')\n\nautorun(() => {\n\tif (store.accessToken)\n\t\tsaveState({\n\t\t\taccessToken: store.accessToken,\n\t\t\tisAuthorized: store.isAuthorized,\n\t\t\tisAuthenticated: store.isAuthenticated,\n\t\t\tuserDisplayName: store.userDisplayName,\n\t\t\tusername: store.username,\n\t\t\temail: store.email,\n\t\t})\n})","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { mutatorAction } from 'satcheljs'\nimport { clearState } from '../store/localStorage'\nimport { AppState } from '../store/schema/AppState'\nimport { getAppStore } from '../store/store'\n\nexport const setUserAuthData = mutatorAction(\n\t'setUserAuthData',\n\t(data: AppState | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.accessToken = data.accessToken\n\t\t\tstore.email = data.email\n\t\t\tstore.isAuthenticated = data.isAuthenticated\n\t\t\tstore.userDisplayName = data.userDisplayName\n\t\t\tstore.username = data.username\n\t\t}\n\t}\n)\n\nexport const setUserNoAccess = mutatorAction('setUserNoAccess', () => {\n\tconst store = getAppStore()\n\tstore.isAuthorized = false\n})\n\nexport const logoutUser = mutatorAction('logoutUser', () => {\n\tclearState()\n\n\twindow.location.reload()\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nexport const convertCSVDataToObj = (csvData: any) => {\n\tconst returnObj: any = {}\n\n\tcsvData.forEach((row: any) => {\n\t\tconst stringLabel: string = Object.keys(row).find(\n\t\t\t(x) => x.trim() === 'String ID'\n\t\t) as string\n\t\tconst stringId: string = row[stringLabel]\n\n\t\tdelete row[stringLabel]\n\t\treturnObj[stringId.toLowerCase()] = row\n\t})\n\n\treturn returnObj\n}\n\nexport const createLocationDataObj = (locationData: any): any => {\n\tconst locationName = locationData.details\n\t\t.replace(/[^a-z0-9\\s]/gi, '')\n\t\t.replace(/\\s/g, '_')\n\t\t.toLowerCase()\n\treturn {\n\t\tinfo: {\n\t\t\tcontent: {\n\t\t\t\tid: locationName,\n\t\t\t\tmetadata: {\n\t\t\t\t\tcode_alpha: locationName,\n\t\t\t\t\tcode_numeric: 0,\n\t\t\t\t},\n\t\t\t\tname: locationData.details,\n\t\t\t\ttype: locationData.regionType,\n\t\t\t},\n\t\t\tname: 'info.json',\n\t\t\tpath: `${locationName}/info.json`,\n\t\t\tsha: '',\n\t\t\ttype: 'info',\n\t\t\turl: '',\n\t\t},\n\t\tstrings: { content: {} },\n\t\tvaccination: {\n\t\t\tcontent: {\n\t\t\t\tactivePhase: '',\n\t\t\t\tlinks: {\n\t\t\t\t\t...(locationData?.eligibility !== '' && {\n\t\t\t\t\t\teligibility: {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.eligibilityPlan !== '' && {\n\t\t\t\t\t\teligibility_plan: {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.info !== '' && {\n\t\t\t\t\t\tinfo: {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${locationName}/state_link`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.providers !== '' && {\n\t\t\t\t\t\tproviders: {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.workflow !== '' && {\n\t\t\t\t\t\tworkflow: {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.scheduling !== '' && {\n\t\t\t\t\t\tscheduling: {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.schedulingPhone !== '' && {\n\t\t\t\t\t\tscheduling_phone: {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: locationData.schedulingPhone,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t},\n\t\t\tname: 'vaccination.json',\n\t\t\tpath: `${locationName}/vaccination.json`,\n\t\t\tsha: '',\n\t\t\ttype: 'vaccination',\n\t\t\turl: '',\n\t\t},\n\t}\n}\n\nexport const getObjDiffs = (obj1: any, obj2: any) => {\n\n    // Make sure an object to compare is provided\n    if (!obj2 || Object.prototype.toString.call(obj2) !== '[object Object]') {\n        return obj1;\n    }\n\n    const diffs: any = {};\n    let key;\n\n    /**\n     * Check if two arrays are equal\n     * @param  {Array}   arr1 The first array\n     * @param  {Array}   arr2 The second array\n     * @return {Boolean}      If true, both arrays are equal\n     */\n    const arraysMatch = function (arr1: any, arr2: any) {\n\n        // Check if the arrays are the same length\n        if (arr1.length !== arr2.length) return false;\n\n        // Check if all items exist and are in the same order\n        for (let i = 0; i < arr1.length; i++) {\n            if (arr1[i] !== arr2[i]) return false;\n        }\n\n        // Otherwise, return true\n        return true;\n\n    };\n\n    /**\n     * Compare two items and push non-matches to object\n     * @param  {*}      item1 The first item\n     * @param  {*}      item2 The second item\n     * @param  {String} key   The key in our object\n     */\n    const compare = function (item1: any, item2: any, key: string) {\n        // Get the object type\n        const type1 = Object.prototype.toString.call(item1);\n        const type2 = Object.prototype.toString.call(item2);\n\n        // If type2 is undefined it has been removed\n        if (type2 === '[object Undefined]') {\n            diffs[key] = null;\n            return;\n        }\n\n        // If items are different types\n        if (type1 !== type2) {\n            diffs[key] = item2;\n            return;\n        }\n\n        // If an object, compare recursively\n        if (type1 === '[object Object]') {\n            const objDiff = getObjDiffs(item1, item2);\n            if (Object.keys(objDiff).length > 0) {\n                diffs[key] = objDiff;\n            }\n            return;\n        }\n\n        // If an array, compare\n        if (type1 === '[object Array]') {\n            if (!arraysMatch(item1, item2)) {\n                diffs[key] = item2;\n            }\n            return;\n        }\n\n        // Else if it's a function, convert to a string and compare\n        // Otherwise, just compare\n        if (type1 === '[object Function]') {\n            if (item1.toString() !== item2.toString()) {\n                diffs[key] = item2;\n            }\n        } else {\n            if (item1 !== item2 ) {\n                diffs[key] = item2;\n            }\n        }\n\n    };\n\n\n    //\n    // Compare our objects\n    //\n    // Loop through the first object\n    for (key in obj1) {\n        if (obj1.hasOwnProperty(key)) {\n            compare(obj1[key], obj2[key], key);\n        }\n    }\n\n    // Loop through the second object and find missing items\n    for (key in obj2) {\n        if (obj2.hasOwnProperty(key)) {\n            if (!obj1[key] && obj1[key] !== obj2[key] ) {\n                diffs[key] = obj2[key];\n            }\n        }\n    }\n\n    // Return the object of differences\n    return diffs;\n};","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nexport const toProperCase = (text: string): string => {\n\tconst res = text\n\t\t.replace(/_/g, ' ')\n\t\t.toLowerCase()\n\t\t.replace(/\\b[a-z](?=[a-z]{2})/g, function (letter) {\n\t\t\treturn letter.toUpperCase()\n\t\t})\n\n\tif (res.startsWith('us ')) {\n\t\treturn res.replace('us ', 'US ')\n\t}\n\n\tif (res.startsWith('st. ')) {\n\t\treturn res.replace('st. ', 'St. ')\n\t}\n\treturn res\n}\n\nexport const formatId = (text: string) => {\n\treturn text?.trim().replace(/[^a-z0-9\\s]/gi, '')\n\t\t.replace(/\\s+/g, '_')\n\t\t.toLowerCase()\n}\n\nexport const getLanguageKeys = () => {\n\treturn 'en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th'.split(\n\t\t','\n\t)\n}\n\nexport const getLanguageOptions = (excludeLanguage?: string) => {\n\tconst languageKeys = 'en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th'.split(\n\t\t','\n\t)\n\n\treturn languageKeys\n\t\t.map((key) => {\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\ttext: getLanguageDisplayText(key, key),\n\t\t\t}\n\t\t})\n\t\t.filter((l) => l.key !== excludeLanguage)\n}\n\nexport const getLanguageDisplayText = (\n\tcurrentLanguage: string,\n\tlanguageCode: string\n): string => {\n\t// @ts-expect-error DisplayNames not on Intl\n\tconst languageName = new Intl.DisplayNames([currentLanguage], {\n\t\ttype: 'language',\n\t})\n\treturn languageName.of(languageCode)\n}\n\nexport const utf8_to_b64 = (str: string): string => {\n\treturn btoa(unescape(encodeURIComponent(str)))\n}\n\nexport const b64_to_utf8 = (str: string): string => {\n\treturn decodeURIComponent(escape(atob(str)))\n}\n\nexport const createCSVDataString = (contentObj: any) => {\n\tconst languageKeys = getLanguageKeys()\n\tconst contentKeys = Object.keys(contentObj)\n\n\tlet result = 'String ID,' + languageKeys.join(',') + '\\n'\n\n\tfor (const key of contentKeys) {\n\t\tconst rowValues = [key]\n\t\tlanguageKeys.forEach((lang: string) => {\n\t\t\tif (contentObj[key][lang]) {\n\t\t\t\trowValues.push(`\"${contentObj[key][lang].replace(/\"/g, '\"\"')}\"`)\n\t\t\t} else {\n\t\t\t\trowValues.push('')\n\t\t\t}\n\t\t})\n\n\t\tresult += rowValues.join(',') + '\\n'\n\t}\n\treturn result\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { mutatorAction } from 'satcheljs'\nimport { getAppStore } from '../store/store'\nimport { createLocationDataObj } from '../utils/dataUtils'\nimport { formatId } from '../utils/textUtils'\n\nexport const initStoreData = mutatorAction(\n\t'initStoreData',\n\t(isDataRefreshing: boolean) => {\n\t\tconst store = getAppStore()\n\t\tstore.isDataRefreshing = isDataRefreshing\n\t}\n)\n\nexport const setBranchList = mutatorAction(\n\t'setBranchList',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.branches = data\n\t\t\tconst mainBranch = data.find((branch) => branch.name === 'main')\n\t\t\tstore.mainBranch = mainBranch\n\t\t}\n\t}\n)\n\nexport const setIssuesList = mutatorAction(\n\t'setIssuesList',\n\t(data: any[] | undefined, callback?: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.issues = data[0]\n\t\t\tstore.prChanges = data[1]\n\n\t\t\tif (callback) {\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setLoadedPRData = mutatorAction(\n\t'setLoadedPRData',\n\t(prData: any | undefined) => {\n\t\tconst store = getAppStore()\n\t\tif (prData) {\n\t\t\tstore.loadedPRData = prData.data\n\t\t\tstore.prChanges = {\n\t\t\t\tchanges: prData.changes,\n\t\t\t\tlast_commit: prData.commits.pop(),\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const handleCreatePR = mutatorAction('handleCreatePR', () => {\n\tconst store = getAppStore()\n\tstore.pendingChanges = false\n\tstore.prChanges = undefined\n\tstore.loadedPRData = undefined\n})\n\nexport const setRepoFileData = mutatorAction(\n\t'setRepoFileData',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.repoFileData = data[0]\n\t\t\tstore.initRepoFileData = data[0]\n\t\t\tstore.globalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t\tstore.initGlobalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setCurrentLanguage = mutatorAction(\n\t'setCurrentLanguage',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.currentLanguage = data.key\n\t\t}\n\t}\n)\nexport const updateLocationList = mutatorAction(\n\t'updateLocationList',\n\t(locationData: any, isRegion: boolean, selectedState?: any) => {\n\t\tif (locationData) {\n\t\t\tconst store = getAppStore()\n\t\t\tconst newLocObj = createLocationDataObj(locationData)\n\t\t\tstore.pendingChanges = true\n\n\t\t\tif (!isRegion) {\n\t\t\t\tstore.globalFileData.cdcStateNames.content[\n\t\t\t\t\t`cdc/${newLocObj.info.content.id}/state_name`\n\t\t\t\t] = {\n\t\t\t\t\t...store.globalFileData.cdcStateNames.content[\n\t\t\t\t\t\t`cdc/${newLocObj.info.content.id}/state_name`\n\t\t\t\t\t],\n\t\t\t\t\t[store.currentLanguage]: locationData.details,\n\t\t\t\t}\n\n\t\t\t\tnewLocObj.strings.path = `${newLocObj.info.content.id}/${newLocObj.info.content.id}.csv`\n\n\t\t\t\tif ('noPhaseLabel' in newLocObj.vaccination.content) {\n\t\t\t\t\tnewLocObj.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tnewLocObj.vaccination.content = {\n\t\t\t\t\t\t...newLocObj.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst stringsContentObj: any = {}\n\t\t\t\tif (locationData.schedulingPhone !== '') {\n\t\t\t\t\tconst schedulingPhoneKey: string = `c19.link/scheduling.phone.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tstringsContentObj[schedulingPhoneKey] = {\n\t\t\t\t\t\t...stringsContentObj[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.text = schedulingPhoneKey\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhoneDesc !== '') {\n\t\t\t\t\tconst schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tstringsContentObj[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...stringsContentObj[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\n\t\t\t\tnewLocObj.strings.content = stringsContentObj\n\n\t\t\t\tstore.repoFileData[newLocObj.info.content.id] = newLocObj\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t} else {\n\t\t\t\tconst location = store.repoFileData[selectedState.key]\n\t\t\t\tnewLocObj.info.path = `${selectedState.key}/regions/${newLocObj.info.path}`\n\t\t\t\tnewLocObj.vaccination.path = `${selectedState.key}/regions/${newLocObj.vaccination.path}`\n\n\t\t\t\tif ('noPhaseLabel' in newLocObj.vaccination.content) {\n\t\t\t\t\tnewLocObj.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tnewLocObj.vaccination.content = {\n\t\t\t\t\t\t...newLocObj.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData.info !== '') {\n\t\t\t\t\tnewLocObj.vaccination.content.links.info.text = `cdc/${location.info.content.id}/state_link` //`c19.link/info.${newLocObj.info.content.id}`.toLowerCase()\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhone !== '') {\n\t\t\t\t\tconst schedulingPhoneKey: string = `c19.link/scheduling.phone.${location.info.content.metadata.code_alpha}.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.text = schedulingPhoneKey\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhoneDesc !== '') {\n\t\t\t\t\tconst schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${location.info.content.metadata.code_alpha}.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\n\t\t\t\tif (location.regions) {\n\t\t\t\t\tlocation.regions[newLocObj.info.content.id] = newLocObj\n\t\t\t\t} else {\n\t\t\t\t\tlocation.regions = {\n\t\t\t\t\t\t[newLocObj.info.content.id]: newLocObj,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateLocationData = mutatorAction(\n\t'updateLocationData',\n\t(\n\t\tlocationData: any,\n\t\tisRegion: boolean,\n\t\tprevItem: any,\n\t\tselectedState?: any\n\t) => {\n\t\tif (locationData) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.pendingChanges = true\n\t\t\tif (!isRegion) {\n\t\t\t\tconst location = store.repoFileData[prevItem.key]\n\n\t\t\t\tstore.globalFileData.cdcStateNames.content[\n\t\t\t\t\t`cdc/${prevItem.key}/state_name`\n\t\t\t\t] = {\n\t\t\t\t\t...store.globalFileData.cdcStateNames.content[\n\t\t\t\t\t\t`cdc/${prevItem.key}/state_name`\n\t\t\t\t\t],\n\t\t\t\t\t[store.currentLanguage]: locationData.details,\n\t\t\t\t}\n\n\t\t\t\tlocation.info.content.name = locationData.details\n\t\t\t\tconst schedulingPhoneKey = `c19.link/scheduling.phone.${prevItem.value.info.content.metadata.code_alpha}`.toLowerCase()\n\n\t\t\t\tif ('noPhaseLabel' in location.vaccination.content) {\n\t\t\t\t\tlocation.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tlocation.vaccination.content = {\n\t\t\t\t\t\t...location.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibility !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.eligibility) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibility.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibilityPlan !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.eligibility_plan) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibilityPlan.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.info !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.info) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.info.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.info.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.info = {\n\t\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\t\ttext: `cdc/${prevItem.key}/state_link`,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.info = {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${prevItem.key}/state_link`,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.providers !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.providers) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.providers.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.providers.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.providers = {\n\t\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.providers = {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.workflow !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.workflow) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.workflow.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.workflow.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.scheduling !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.scheduling) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.scheduling.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tif (location.vaccination.content.links.scheduling_phone) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone.url.toLowerCase() !==\n\t\t\t\t\t\t\t`tel:${locationData.schedulingPhone}`.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone &&\n\t\t\t\t\tlocationData.schedulingPhoneDesc !== ''\n\t\t\t\t) {\n\t\t\t\t\tlet schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${prevItem.value.info.content.metadata.code_alpha}`.toLowerCase()\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t.description\n\t\t\t\t\t) {\n\t\t\t\t\t\tschedulingPhoneDescKey =\n\t\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t\t.description\n\t\t\t\t\t}\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst location = store.repoFileData[selectedState.key]\n\t\t\t\tconst regionObj = location.regions[prevItem.key]\n\t\t\t\tregionObj.info.content.name = locationData.details\n\n\t\t\t\tif ('noPhaseLabel' in regionObj.vaccination.content) {\n\t\t\t\t\tregionObj.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tregionObj.vaccination.content = {\n\t\t\t\t\t\t...regionObj.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst schedulingPhoneKey = `c19.link/scheduling.phone.${location.info.content.metadata.code_alpha}.${regionObj.info.content.id}`.toLowerCase()\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibility !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.eligibility) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibility.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibilityPlan !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.eligibility_plan) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibilityPlan.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.info !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.info) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.info.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.info.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.info = {\n\t\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\t\ttext: `cdc/${location.info.content.id}/state_link`,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.info = {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${location.info.content.id}/state_link`,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.providers !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.providers) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.providers.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.providers.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.providers = {\n\t\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.providers = {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.workflow !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.workflow) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.workflow.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.workflow.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.scheduling !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.scheduling) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.scheduling.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tif (regionObj.vaccination.content.links.scheduling_phone) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone.url.toLowerCase() !==\n\t\t\t\t\t\t\t`tel:${locationData.schedulingPhone}`.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone &&\n\t\t\t\t\tlocationData.schedulingPhoneDesc !== ''\n\t\t\t\t) {\n\t\t\t\t\tlet schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${location.info.content.metadata.code_alpha}.${regionObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t.description\n\t\t\t\t\t) {\n\t\t\t\t\t\tschedulingPhoneDescKey =\n\t\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t\t.description\n\t\t\t\t\t}\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\t\t\t}\n\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t}\n\t}\n)\n\nexport const modifyStateStrings = mutatorAction(\n\t'modifyStateStrings',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (!data.item.moreInfoContent) {\n\t\t\t\t\tdelete location.strings.content[data.infoKey]\n\t\t\t\t} else {\n\t\t\t\t\tconst newStringsObj: any = {}\n\t\t\t\t\tnewStringsObj[store.currentLanguage] = data.item.moreInfoContent\n\t\t\t\t\tlocation.strings.content[data.infoKey] = newStringsObj\n\t\t\t\t}\n\n\t\t\t\tif (!data.regionInfo) {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\tif (data.item.moreInfoContent) {\n\t\t\t\t\t\t\taffectedQualifier.moreInfoText = data.infoKey\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdelete affectedQualifier.moreInfoText\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t\t\tmoreInfoText: data.infoKey,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedQualifier.moreInfoText = data.infoKey\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nconst copyPhaseData = (newObj: any, oldObj: any) => {\n\tnewObj.content['phases'] = []\n\toldObj.content.phases.forEach((phase: any) => {\n\t\tconst currPhaseObj: any = {}\n\t\tcurrPhaseObj['id'] = phase.id\n\t\tcurrPhaseObj['qualifications'] = []\n\t\tphase.qualifications.forEach((qual: any) => {\n\t\t\tcurrPhaseObj.qualifications.push({\n\t\t\t\tquestion: qual.question.toLowerCase(),\n\t\t\t\tmoreInfoText: qual.moreInfoText\n\t\t\t\t\t?.replace(/[^a-z0-9._/\\s]/gi, '')\n\t\t\t\t\t.replace(/\\s/g, '_')\n\t\t\t\t\t.toLowerCase(),\n\t\t\t\tmoreInfoUrl: qual.moreInfoUrl,\n\t\t\t})\n\t\t})\n\n\t\tnewObj.content.phases.push(currPhaseObj)\n\t})\n}\n\nexport const modifyMoreInfoLinks = mutatorAction(\n\t'modifyMoreInfoLinks',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tif (affectedPhase) {\n\t\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\t\taffectedQualifier.moreInfoUrl = data.item.moreInfoUrl\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.moreInfoUrl = data.item.moreInfoUrl\n\t\t\t\t\t} else {\n\t\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t\t\tmoreInfoUrl: data.item.moreInfoUrl,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateQualifier = mutatorAction(\n\t'updateQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() === data.oldId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.question = data.item.qualifierId.toLowerCase()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() === data.oldId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.question = data.item.qualifierId.toLowerCase()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\nexport const addQualifier = mutatorAction(\n\t'addQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\nexport const removeQualifier = mutatorAction(\n\t'removeQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst removeIndex = affectedPhase.qualifications.findIndex(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\taffectedPhase.qualifications.splice(removeIndex, 1)\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst removeIndex = affectedPhase.qualifications.findIndex(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\taffectedPhase.qualifications.splice(removeIndex, 1)\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\nexport const removePhase = mutatorAction(\n\t'removePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst removeIndex = regionVaccinationObj.content.phases.findIndex(\n\t\t\t\t\t\t(phase: any) => phase.id === data.phaseId\n\t\t\t\t\t)\n\n\t\t\t\t\tregionVaccinationObj.content.phases.splice(removeIndex, 1)\n\t\t\t\t} else {\n\t\t\t\t\tconst removeIndex = location.vaccination.content.phases.findIndex(\n\t\t\t\t\t\t(phase: any) => phase.id === data.phaseId\n\t\t\t\t\t)\n\n\t\t\t\t\tlocation.vaccination.content.phases.splice(removeIndex, 1)\n\t\t\t\t}\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const addPhase = mutatorAction('addPhase', (data: any | undefined) => {\n\tif (data) {\n\t\tconst store = getAppStore()\n\t\tif (store?.repoFileData) {\n\t\t\tstore.pendingChanges = true\n\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\tconst phaseId = formatId(data.item.name)\n\n\t\t\tconst emptyQualifications: any = []\n\n\t\t\tif (!location.vaccination.content.phases) {\n\t\t\t\tlocation.vaccination.content.phases = []\n\t\t\t}\n\n\t\t\tlocation.vaccination.content.phases.push({\n\t\t\t\tid: phaseId,\n\t\t\t\tlabel: data.item.name,\n\t\t\t\tqualifications: emptyQualifications,\n\t\t\t})\n\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t}\n\t}\n})\n\nexport const duplicatePhase = mutatorAction(\n\t'duplicatePhase',\n\t(\n\t\tdata:\n\t\t\t| {\n\t\t\t\t\tname: string\n\t\t\t\t\tlocationKey: string\n\t\t\t\t\tphaseId: string\n\t\t\t\t\tisRegion?: boolean\n\t\t\t\t\tregionInfo?: { key: string }\n\t\t\t  }\n\t\t\t| undefined\n\t) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tconst phaseSource =\n\t\t\t\t\tdata.isRegion &&\n\t\t\t\t\tdata.regionInfo?.key &&\n\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination?.content.phases\n\t\t\t\t\t\t? location.regions[\n\t\t\t\t\t\t\t\tdata.regionInfo.key\n\t\t\t\t\t\t  ].vaccination.content.phases.find(\n\t\t\t\t\t\t\t\t(item: { id: string }) => item.id === data.phaseId\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: location.vaccination.content.phases.find(\n\t\t\t\t\t\t\t\t(item: { id: string }) => item.id === data.phaseId\n\t\t\t\t\t\t  )\n\t\t\t\tconst nextPhaseId = formatId(data.name)\n\n\t\t\t\tconst newItem = {\n\t\t\t\t\tid: nextPhaseId,\n\t\t\t\t\tlabel: data.name,\n\t\t\t\t\tqualifications: phaseSource.qualifications?.map((item: any) => {\n\t\t\t\t\t\tconst newContentKey = item.moreInfoText?.replace(\n\t\t\t\t\t\t\tnew RegExp(data.phaseId + '$'),\n\t\t\t\t\t\t\tnextPhaseId\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (newContentKey) {\n\t\t\t\t\t\t\tlocation.strings.content[newContentKey] =\n\t\t\t\t\t\t\t\tlocation.strings.content[item.moreInfoText]\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tquestion: item.question,\n\t\t\t\t\t\t\tmoreInfoUrl: item.moreInfoUrl,\n\t\t\t\t\t\t\tmoreInfoText: newContentKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t}\n\n\t\t\t\tif (data.isRegion && data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tregionVaccinationObj.content.phases.push(newItem)\n\t\t\t\t} else {\n\t\t\t\t\t// State level region phase\n\t\t\t\t\tlocation.vaccination.content.phases.push(newItem)\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updatePhase = mutatorAction(\n\t'updatePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tconst phaseId = data.item.phaseId\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(' (active)', '')\n\t\t\t\t\t.trim()\n\n\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t(phase: any) => phase.id === phaseId\n\t\t\t\t)\n\n\t\t\t\taffectedPhase.label = data.item.name\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setActivePhase = mutatorAction(\n\t'setActivePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tregionVaccinationObj.content['activePhase'] = data.phaseId\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t} else {\n\t\t\t\t\tlocation.vaccination.content['activePhase'] = data.phaseId\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateGlobalQualifiers = mutatorAction(\n\t'updateGlobalQualifiers',\n\t(item: any | undefined) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tconst { customStrings } = store.globalFileData\n\t\t\tstore.pendingChanges = true\n\t\t\tlet qualifierKey = ''\n\n\t\t\tif (item.isNew) {\n\t\t\t\tconst qualifierKeyBank = item.qualifier\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(/[^A-Za-z0-9]/g, '_')\n\t\t\t\t\t.split('_')\n\t\t\t\t\t.filter((i: string) => i) as string[]\n\n\t\t\t\tconst customStringKeys = Object.keys(customStrings.content)\n\n\t\t\t\tlet qKey = ''\n\t\t\t\tfor (let i = 0; i < qualifierKeyBank.length; i++) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tqKey = qualifierKeyBank[0]\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqKey = `${qKey}_${qualifierKeyBank[i]}`\n\t\t\t\t\t}\n\t\t\t\t\tqualifierKey = `c19.eligibility.question/${item.tagKey.toLowerCase()}.${qKey}`\n\n\t\t\t\t\tif (!customStringKeys.includes(qualifierKey)) {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tqualifierKey = qualifierKey.endsWith('_')\n\t\t\t\t\t? qualifierKey.substr(0, qualifierKey.length - 1)\n\t\t\t\t\t: qualifierKey\n\t\t\t} else {\n\t\t\t\tqualifierKey = item.key\n\t\t\t}\n\n\t\t\tstore.globalFileData.customStrings.content[qualifierKey] = {\n\t\t\t\t...store.globalFileData.customStrings.content[qualifierKey],\n\t\t\t\t[store.currentLanguage]: item.qualifier,\n\t\t\t}\n\n\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t}\n\t}\n)\n\nexport const translateLocationName = mutatorAction(\n\t'translateLocationName',\n\t(item: any) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (store.globalFileData.cdcStateNames.content[item.key]) {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content[item.key] = {\n\t\t\t\t\t\t...store.globalFileData.cdcStateNames.content[item.key],\n\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content = {\n\t\t\t\t\t\t...store.globalFileData.cdcStateNames.content,\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const translateQualifier = mutatorAction(\n\t'translateQualifier',\n\t(item: any) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (store.globalFileData.customStrings.content[item.key]) {\n\t\t\t\t\tstore.globalFileData.customStrings.content[item.key] = {\n\t\t\t\t\t\t...store.globalFileData.customStrings.content[item.key],\n\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstore.globalFileData.customStrings.content = {\n\t\t\t\t\t\t...store.globalFileData.customStrings.content,\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const translateMisc = mutatorAction('translateMisc', (item: any) => {\n\tif (item) {\n\t\tconst store = getAppStore()\n\t\tif (item.category === 'state' && item.parent !== 'global') {\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][item.toKey]\n\t\t\t\t) {\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][\n\t\t\t\t\t\titem.toKey\n\t\t\t\t\t] = item.to\n\t\t\t\t} else {\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key] = {\n\t\t\t\t\t\t...store.repoFileData[item.parent].strings.content[item.key],\n\t\t\t\t\t\t...{ [item.toKey]: item.to },\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t} else {\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst customStringKeys = Object.keys(\n\t\t\t\t\tstore.globalFileData.customStrings.content\n\t\t\t\t)\n\t\t\t\tconst isCustomString = customStringKeys.includes(item.key)\n\n\t\t\t\tif (isCustomString) {\n\t\t\t\t\tif (store.globalFileData.customStrings.content[item.key]) {\n\t\t\t\t\t\tstore.globalFileData.customStrings.content[item.key] = {\n\t\t\t\t\t\t\t...store.globalFileData.customStrings.content[item.key],\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.globalFileData.customStrings.content = {\n\t\t\t\t\t\t\t...store.globalFileData.customStrings.content,\n\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (store.globalFileData.cdcStateLinks.content[item.key]) {\n\t\t\t\t\t\tstore.globalFileData.cdcStateLinks.content[item.key] = {\n\t\t\t\t\t\t\t...store.globalFileData.cdcStateLinks.content[item.key],\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.globalFileData.cdcStateLinks.content = {\n\t\t\t\t\t\t\t...store.globalFileData.cdcStateLinks.content,\n\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n})\n\nconst recursiveFindAndReplace = (key: string, saveObj: any, location: any) => {\n\tif (\n\t\tlocation.strings &&\n\t\tlocation.strings.content &&\n\t\tlocation.strings.content[key]\n\t) {\n\t\tlocation.strings.content[key] = saveObj\n\t\treturn\n\t}\n\tif (location.regions && location.regions.length > 0) {\n\t\tlocation.regions.forEach((region: any) => {\n\t\t\trecursiveFindAndReplace(key, saveObj, region)\n\t\t})\n\t}\n}\n\nexport const updateStrings = mutatorAction(\n\t'udpateStrings',\n\t(stringsList: any) => {\n\t\tif (stringsList) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.pendingChanges = true\n\t\t\tObject.keys(stringsList).forEach((stringId: string) => {\n\t\t\t\tif (store.globalFileData.customStrings.content[stringId]) {\n\t\t\t\t\tstore.globalFileData.customStrings.content[stringId] =\n\t\t\t\t\t\tstringsList[stringId]\n\t\t\t\t} else if (store.globalFileData.cdcStateLinks.content[stringId]) {\n\t\t\t\t\tstore.globalFileData.cdcStateLinks.content[stringId] =\n\t\t\t\t\t\tstringsList[stringId]\n\t\t\t\t} else if (store.globalFileData.cdcStateNames.content[stringId]) {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content[stringId] =\n\t\t\t\t\t\tstringsList[stringId]\n\t\t\t\t} else {\n\t\t\t\t\tfor (const item of Object.keys(store.repoFileData)) {\n\t\t\t\t\t\tconst location = store.repoFileData[item]\n\t\t\t\t\t\tif (JSON.stringify(location).includes(stringId)) {\n\t\t\t\t\t\t\trecursiveFindAndReplace(stringId, stringsList[stringId], location)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t}\n\t}\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { action } from 'satcheljs'\n\nexport const createPR = action('createPR', (fileData: any) => ({\n\tfileData,\n}))\n\nexport const getRepoFileData = action('getRepoFileData')\n\nexport const initializeGitData = action('initializeGitData')\n\nexport const loadPR = action('loadPR', (prNumber: any) => ({\n\tprNumber,\n}))\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n import {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tIColumn,\n\tFontIcon,\n\tDialog,\n\tDialogType,\n\tDialogFooter,\n\tPrimaryButton,\n\tDefaultButton,\n\tCallout\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useCallback } from 'react'\nimport { initializeGitData, loadPR } from '../actions/repoActions'\nimport { getAppStore } from '../store/store'\n\nimport './Dashboard.scss'\n\nexport default observer(function Dashboard() {\n\n\tconst state = getAppStore()\n\n\tconst [prList, setPRList] = useState<any[]>([])\n\tconst [issueList, setIssueList] = useState<any[]>([])\n\tconst [hideDialog, { toggle: toggleHideDialog }] = useBoolean(true);\n\tconst [noteKeys, setNoteKeys] = useState<any>([])\n\n\tuseEffect(() => {\n\t\tif(state.issues){\n\t\t\tconst tempPRList:any = [];\n\t\t\tconst tempIssueList:any = [];\n\t\t\tstate.issues.forEach( (item:any) => {\n\n\t\t\t\tconst requestUpdate:Date = new Date(item.updated_at);\n\t\t\t\tconst isScrappedIssue = item.labels.some( (x:any) => x.name.toLowerCase() === \"scrapped changes\" )\n\n\t\t\t\tif(item.pull_request){\n\t\t\t\t\ttempPRList.push({ title:item.title, author:item.user.login, update:requestUpdate.toLocaleString(), action:item});\n\t\t\t\t}\n\t\t\t\telse if (isScrappedIssue){\n\t\t\t\t\ttempIssueList.push({ title:item.title, author:item.user.login, update:requestUpdate.toLocaleString(), action:item});\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tsetPRList(tempPRList);\n\t\t\tsetIssueList(tempIssueList);\n\t\t}\n\t},[state.issues])\n\n\tconst onIssueActionRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\n\t\treturn (<a className=\"tableActionLink\" href={item?.action?.html_url} target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\tView</a>)\n\n\t};\n\n\n\tconst onPRActionRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\n\t\treturn (\n\t\t\t<div className=\"actionsColumn\">\n\t\t\t\t<a className=\"tableActionLink\" href={item?.action?.html_url} target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t/> \n\t\t\t\t\tApprove\n\t\t\t\t</a>\n\t\t\t\t<div className=\"loadPRButton\" onClick={() => loadPR(item.action.number)}>\n\t\t\t\t\t<FontIcon iconName=\"DrillDownSolid\"/>Load Data\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\n\t};\n\n\tconst toggleCallout = useCallback((id: number) => {\n\t\tconst tempItems = [...noteKeys]\n\t\tconst index = tempItems.indexOf(id)\n\t\tif (index > -1) {\n\t\t\ttempItems.splice(index, 1)\n\t\t} else {\n\t\t\ttempItems.push(id)\n\t\t}\n\n\t\tsetNoteKeys(tempItems)\n\t},[noteKeys])\n\n\n\tconst onPRNotesRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\t\tif (!item.action.body) {\n\t\t\treturn null\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<FontIcon\n\t\t\t\t\tclassName={`infoButton pr-${item.action.number}`}\n\t\t\t\t\ticonName=\"InfoSolid\"\n\t\t\t\t\tonClick={() => toggleCallout(item.action.number)}\n\t\t\t\t/>\n\t\t\t\t{noteKeys.includes(item.action.number) && (\n\t\t\t\t\t<Callout\n\t\t\t\t\t\tonDismiss={() => toggleCallout(item.action.number)}\n\t\t\t\t\t\ttarget={`.infoButton.pr-${item.action.number}`}\n\t\t\t\t\t\tgapSpace={4}\n\t\t\t\t\t\tsetInitialFocus={true}\n\t\t\t\t\t\trole=\"alertDialog\"\n\t\t\t\t\t\tclassName=\"infoCallout\"\n\t\t\t\t\t\tdirectionalHint={5}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"infoCalloutBody\">\n\t\t\t\t\t\t\t<div className=\"infoHeader\">Notes</div>\n\t\t\t\t\t\t\t<div className=\"infoBody\">\n\t\t\t\t\t\t\t\t{item.action.body}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t</>\n\t\t)\n\t};\n\n\tconst prColumns = [\n\t\t{\n\t\t\tkey: 'titleCol',\n\t\t\tname: 'Title',\n\t\t\tfieldName: 'title',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'notesCol',\n\t\t\tname: 'Notes',\n\t\t\tfieldName: 'notes',\n\t\t\tminWidth: 100,\n\t\t\tisResizable: true,\n\t\t\tonRender: onPRNotesRender\n\t\t},\n\t\t{\n\t\t\tkey: 'authorCol',\n\t\t\tname: 'Author',\n\t\t\tfieldName: 'author',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'updateCol',\n\t\t\tname: 'Last Update',\n\t\t\tfieldName: 'update',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel:'Actions Column',\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onPRActionRender\n\t\t},\n\t];\n\n\tconst issueColumns = [\n\t\t{\n\t\t\tkey: 'titleCol',\n\t\t\tname: 'Title',\n\t\t\tfieldName: 'title',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'authorCol',\n\t\t\tname: 'Author',\n\t\t\tfieldName: 'author',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'updateCol',\n\t\t\tname: 'Last Update',\n\t\t\tfieldName: 'update',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel:'Actions Column',\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onIssueActionRender\n\t\t},\n\n\t];\n\n\tconst refreshData = useCallback(() => {\n\t\tinitializeGitData()\n\t\ttoggleHideDialog()\n\t},[toggleHideDialog])\n\n\tconst onRefreshDataClick = useCallback(() => {\n\t\tif (state.pendingChanges) {\n\t\t\ttoggleHideDialog()\n\t\t} else {\n\t\t\tinitializeGitData()\n\t\t}\n\t},[state.pendingChanges, toggleHideDialog])\n\n\treturn (\n\t\t<div className=\"dashboardPageWrapper\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ Dashboard</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">Dashboard</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{!state.isDataRefreshing ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"refreshRow\">\n\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"refreshDataHeaderButton\"\n\t\t\t\t\t\t\t\tonClick={onRefreshDataClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName=\"Refresh\"\n\t\t\t\t\t\t\t\t\tclassName=\"refreshIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\tRefresh Data\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sectionHeader\">Pending PRs</div>\n\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={prList}\n\t\t\t\t\t\t\tcolumns={prColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !prList.length && (\n\t\t\t\t\t\t\t<div style={{textAlign:\"center\"}}>No pending PRs at this time.</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sectionHeader\">Location Updates</div>\n\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={issueList}\n\t\t\t\t\t\t\tcolumns={issueColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !issueList.length && (\n\t\t\t\t\t\t\t<div style={{textAlign:\"center\"}}>No pending location updates at this time.</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>):(\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<ProgressIndicator description=\"Loading content...\" />\n\t\t\t\t\t</section>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Dialog\n\t\t\t\thidden={hideDialog}\n\t\t\t\tonDismiss={toggleHideDialog}\n\t\t\t\tdialogContentProps={{\n\t\t\t\t\ttype: DialogType.normal,\n\t\t\t\t\tcloseButtonAriaLabel: 'Close',\n\t\t\t\t\ttitle: 'Refresh Data'\n\t\t\t\t}}\n\t\t\t\tmodalProps={{isBlocking: false}}\n\t\t\t>\n\t\t\t<div className=\"dialogBodyText\">You have pending changes in the review tab to be submitted, refreshing the data will revert those changes.<br/><br/>Do you want to proceed?</div>\n\t\t\t<DialogFooter>\n\t\t\t\t<PrimaryButton onClick={refreshData} text=\"Ok\" />\n\t\t\t\t<DefaultButton onClick={toggleHideDialog} text=\"Cancel\" />\n\t\t\t\t</DialogFooter>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { FC, memo } from 'react'\n\nconst CONTACT_EMAIL = process.env.REACT_APP_CONTACT_US_EMAIL\nconst CODE_OF_CONDUCT_URL = process.env.REACT_APP_CODE_OF_CONDUCT_URL\n\nexport const Footer: FC = memo(function Footer() {\n\treturn (\n\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\n\t\t\t<div className=\"appFooterRow\">\n\t\t\t\t<Link href=\"https://go.microsoft.com/fwlink/?LinkId=521839\">\n\t\t\t\t\tPrivacy &amp; Cookies\n\t\t\t\t</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link href={`mailto:${CONTACT_EMAIL}`}>Contact Us</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link href={CODE_OF_CONDUCT_URL}>Code of Conduct</Link>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n\nconst Link: FC<{\n\thref?: string\n}> = memo(function Link({ children, href }) {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"div\"\n\t\t\tstyle={{\n\t\t\t\tcursor: 'pointer',\n\t\t\t\tmarginLeft: 15,\n\t\t\t\tmarginRight: 15,\n\t\t\t\tdisplay: 'flex',\n\t\t\t\talignContent: 'center',\n\t\t\t}}\n\t\t\tonClick={() => href && window.open(href, '_blank')}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\n\nexport const getStateCustomStrings = (\n\tselectedState: any,\n\tkeyFilter: string\n): string => {\n\tconst returnVal = getCustomStrings(selectedState.value, keyFilter)\n\tif (returnVal.length > 0) return returnVal[0].text\n\n\treturn ''\n}\n\nexport const getRegionCustomStrings = (\n\tselectedRegion: any,\n\tkeyFilter: string\n): string => {\n\tconst { repoFileData } = getAppStore()\n\tconst selectedState =\n\t\trepoFileData?.[selectedRegion.value.info.path.split('/')[0]]\n\n\tconst returnVal = getCustomStrings(selectedState, keyFilter)\n\tif (returnVal.length > 0) return returnVal[0].text\n\n\treturn ''\n}\n\nconst getCustomStrings = (selectedState: any, keyFilter: string): any[] => {\n\tconst { globalFileData, currentLanguage } = getAppStore()\n\n\tconst customStringsList: any[] = selectedState\n\t\t? [\n\t\t\t\t...Object.entries(selectedState?.strings?.content ?? {}),\n\t\t\t\t...Object.entries(globalFileData.customStrings.content),\n\t\t  ]\n\t\t: [...Object.entries(globalFileData.customStrings.content)]\n\tconst filteredList = keyFilter\n\t\t? customStringsList.filter(([key, _value]: [string, any]) =>\n\t\t\t\tkey.includes(keyFilter.toLowerCase())\n\t\t  )\n\t\t: customStringsList\n\n\treturn filteredList.map(([key, value]: [string, any]) => {\n\t\treturn {\n\t\t\tkey: key,\n\t\t\ttext: value[currentLanguage],\n\t\t}\n\t})\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n\tDefaultButton,\n\tTextField,\n\tDropdown,\n\tIDropdownOption,\n\tCheckbox\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport {\n\tgetStateCustomStrings,\n\tgetRegionCustomStrings,\n} from '../selectors/locationSelectors'\n\nimport './LocationForm.scss'\n\nexport interface LocationFormProp {\n\titem?: any\n\tonSubmit?: (locationData: any, prevItem: any) => void\n\tonCancel?: () => void\n\tisRegion?: boolean\n}\n\nconst setInitialData = (item?: any, isRegion?: boolean) => {\n\tconst getStrings = (item: any, keyFilter: string, isRegion?: boolean) => {\n\t\treturn isRegion\n\t\t\t? getRegionCustomStrings(item, keyFilter)\n\t\t\t: getStateCustomStrings(item, keyFilter)\n\t}\n\n\tif (item) {\n\t\tconst { info, vaccination } = item?.value || {}\n\t\tconst {\n\t\t\tinfo: vacInfo,\n\t\t\tscheduling_phone,\n\t\t\teligibility_plan,\n\t\t\tworkflow,\n\t\t\tscheduling,\n\t\t\tproviders,\n\t\t\teligibility,\n\t\t} = vaccination?.content?.links || {}\n\n\t\treturn {\n\t\t\tdetails: info.content.name,\n\t\t\tregionType: info.content.type,\n\t\t\tinfo: vacInfo?.url || '',\n\t\t\tworkflow: workflow?.url || '',\n\t\t\tscheduling: scheduling?.url || '',\n\t\t\tproviders: providers?.url || '',\n\t\t\teligibility: eligibility?.url || '',\n\t\t\teligibilityPlan: eligibility_plan?.url || '',\n\t\t\tschedulingPhone: scheduling_phone?.text\n\t\t\t\t? getStrings(item, scheduling_phone.text, isRegion)\n\t\t\t\t: '',\n\t\t\tschedulingPhoneDesc: scheduling_phone?.description\n\t\t\t\t? getStrings(item, scheduling_phone.description, isRegion)\n\t\t\t\t: '',\n\t\t\tnoPhaseLabel: vaccination.content?.noPhaseLabel || false\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\tdetails: '',\n\t\t\tregionType: '',\n\t\t\tinfo: '',\n\t\t\tworkflow: '',\n\t\t\tscheduling: '',\n\t\t\tproviders: '',\n\t\t\teligibility: '',\n\t\t\teligibilityPlan: '',\n\t\t\tschedulingPhone: '',\n\t\t\tschedulingPhoneDesc: '',\n\t\t\tnoPhaseLabel: false\n\t\t}\n\t}\n}\n\nexport default observer(function LocationForm(props: LocationFormProp) {\n\tconst { onSubmit, onCancel, item, isRegion } = props\n\tconst [formData, setFormData] = useState<any>(setInitialData(item, isRegion))\n\tconst fieldChanges = useRef<any>(formData)\n\tconst regionTypeOptions = [\n\t\t{\n\t\t\tkey: 'state',\n\t\t\ttext: 'State',\n\t\t},\n\t\t{\n\t\t\tkey: 'territory',\n\t\t\ttext: 'Territory',\n\t\t},\n\t\t{\n\t\t\tkey: 'tribal_land',\n\t\t\ttext: 'Tribal land',\n\t\t},\n\t\t{\n\t\t\tkey: 'county',\n\t\t\ttext: 'County',\n\t\t},\n\t\t{\n\t\t\tkey: 'city',\n\t\t\ttext: 'City',\n\t\t},\n\t].filter((region) => (isRegion ? region.key !== 'state' : true))\n\n\tconst baseTitle = isRegion ? 'sublocation' : 'location'\n\tconst formTitle = item ? `Edit ${baseTitle}` : `Add new ${baseTitle}`\n\n\tconst handleRegionChange = useCallback(\n\t\t(_ev: any, item?: IDropdownOption) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\tregionType: item?.key,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst onNoLabelChange = useCallback(\n\t\t(_ev: any, checked?: boolean) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\tnoPhaseLabel: checked,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t[formData, fieldChanges])\n\n\tconst canSubmit = useCallback(() => {\n\t\treturn formData.details !== '' && formData.regionType !== ''\n\t}, [formData])\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{formTitle}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<div className=\"detailsGroup\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Details\"\n\t\t\t\t\t\tname=\"details\"\n\t\t\t\t\t\tvalue={formData.details}\n\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tselectedKey={formData.regionType}\n\t\t\t\t\t\tplaceholder=\"Region type\"\n\t\t\t\t\t\toptions={regionTypeOptions}\n\t\t\t\t\t\tonChange={handleRegionChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"General information link for the region:\"\n\t\t\t\t\tname=\"info\"\n\t\t\t\t\tvalue={formData.info}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Link to an existing eligibility workflow tool:\"\n\t\t\t\t\tname=\"workflow\"\n\t\t\t\t\tvalue={formData.workflow}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Appointment registration scheduler:\"\n\t\t\t\t\tname=\"scheduling\"\n\t\t\t\t\tvalue={formData.scheduling}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"List of scheduling providers and locations:\"\n\t\t\t\t\tname=\"providers\"\n\t\t\t\t\tvalue={formData.providers}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Eligibility criteria about the current phase:\"\n\t\t\t\t\tname=\"eligibility\"\n\t\t\t\t\tvalue={formData.eligibility}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Documentation describing the rollout phases in detail:\"\n\t\t\t\t\tname=\"eligibilityPlan\"\n\t\t\t\t\tvalue={formData.eligibilityPlan}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"A scheduling hotline:\"\n\t\t\t\t\tname=\"schedulingPhone\"\n\t\t\t\t\tvalue={formData.schedulingPhone}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Description of scheduling hotline:\"\n\t\t\t\t\tname=\"schedulingPhoneDesc\"\n\t\t\t\t\tvalue={formData.schedulingPhoneDesc}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<Checkbox\n\t\t\t\t\tlabel=\"No phase label\"\n\t\t\t\t\tchecked={formData.noPhaseLabel}\n\t\t\t\t\tonChange={onNoLabelChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext=\"Submit\"\n\t\t\t\t\tdisabled={!canSubmit()}\n\t\t\t\t\tonClick={() => onSubmit?.(formData, item)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton text=\"Cancel\" onClick={() => onCancel?.()} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n    DefaultButton,\n    TextField\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport { getAppStore } from '../store/store'\nimport { formatId } from '../utils/textUtils'\n\nimport './LocationForm.scss'\n\nexport interface PhaseFormProp {\n    item?: any\n    selectedState?: any\n    onSubmit?: (phaseData: any) => void\n    onCancel?: () => void\n    duplicate?: boolean,\n    isRegion?: boolean\n    regionInfo?: any\n}\n\nconst setInitialData = (item: any) => {\n    if (item) {\n        return {\n            phaseId: item.keyId,\n            name: item.name.includes(' (active)') ? item.name.replace(' (active)','') : item.name,\n            isActive: item.keyId.includes(' (active)')\n        }\n    } else {\n        return {\n            phaseId: null,\n            name: '',\n            isActive: false\n        }\n    }\n}\n\nexport default observer(function PhaseForm(props: PhaseFormProp) {\n    const { onSubmit, onCancel, item, duplicate=false, selectedState, isRegion, regionInfo } = props\n    const [formData, setFormData] = useState<any>(setInitialData(item))\n\tconst [hasError, setHasError] = useState<boolean>(false)\n\tconst { repoFileData } = getAppStore()\n    const fieldChanges = useRef<any>(formData)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst isDuplicate = useCallback(() => {\n            if(!duplicate)\n                return ''\n\n            const location = repoFileData[selectedState.key]\n            const nextPhaseId = formatId(formData.name);\n\t\t    const nameExists = (isRegion && regionInfo?.key && location.regions[regionInfo.key].vaccination?.content.phases && \n                !!location.regions[regionInfo.key].vaccination.content.phases.find((item: {id: string}) => item.id === nextPhaseId)) ||\n                !!location.vaccination.content.phases.find((item: {id: string}) => item.id === nextPhaseId)\n\n\t\t\tif (nameExists) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn 'Phase is too similar to one already in use, please revise.'\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[repoFileData, setHasError, duplicate, formData?.name, selectedState?.key, isRegion, regionInfo?.key]\n\t)\n\n\tconst disableSubmit = useCallback((): boolean => {\n\t\treturn hasError || formData.name === ''\n\t}, [formData, hasError])\n\n\n\tconst formTitle = duplicate ? 'Duplicate Phase' : item ? 'Edit Phase' : 'New Phase'\n\n    return (\n        <div className=\"modalWrapper\">\n            <div className=\"modalHeader\">\n                <div className=\"title\">{formTitle}</div>\n            </div>\n            <div className=\"modalBody\">\n                <TextField\n                    label=\"Phase Name:\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleTextChange}\n\t\t\t\t\tonGetErrorMessage={isDuplicate}\n                />\n            </div>\n            <div className=\"modalFooter\">\n                <PrimaryButton text=\"Submit\" disabled={disableSubmit()} onClick={() => onSubmit?.(formData)} />\n                <DefaultButton text=\"Cancel\" onClick={() => onCancel?.()}/>\n            </div>\n        </div>\n    )\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\n\nexport const getPhaseQualifierItems = (selectedState?: any) => {\n    return getCustomStrings(selectedState, 'eligibility.question')\n}\n\nexport const getPhaseQualifierItemsByKey = (selectedState?: any, selectedKey?: any) => {\n    return getPhaseQualifierItems(selectedState).filter(qualifier => {\n        return qualifier.key.startsWith(`c19.eligibility.question/${selectedKey}.`) || qualifier.key.endsWith(`c19.eligibility.question/${selectedKey}`)\n    })\n}\n\nexport const getPhaseTagItems = (selectedState?: any) => {\n    const phaseQualifiers = getPhaseQualifierItems(selectedState);\n\n    const tagKeys: any[] = []\n    const tagList: any[] = []\n    phaseQualifiers.forEach(qualifier => {\n        const baseKey = qualifier.key.split('/')\n        const tagKey = baseKey[1].split('.')[0];\n\n        if (!tagKeys.includes(tagKey)) {\n            tagKeys.push(tagKey)\n            tagList.push({\n                key: tagKey,\n                text: toProperCase(tagKey)\n            })\n        }\n    })\n\n    return tagList.sort((a,b) => (a.text > b.text) ? 1 : -1)\n}\n\nexport const getPhaseMoreInfoItems = (selectedState?: any) => {\n    return getCustomStrings(selectedState, 'eligibility.moreinfo')\n}\n\nexport const getPhaseMoreInfoTextByKey = (selectedState?: any, selectedKey?: any) => {\n    if (selectedKey) {\n        const res = getExactCustomStrings(selectedState, selectedKey)\n        if (res.length > 0) {\n            return res[0].text\n        }\n    }\n\n    return ''\n}\nexport const getPhaseMoreInfoUrl = (isRegion:boolean, rowItems:any) => {\n        if(isRegion){\n        const regionPhases = rowItems.item.location.value.vaccination.content.phases\n        const currPhase = regionPhases?.find((phase: { id: any }) => phase.id === rowItems.item.groupId)\n        if (currPhase){\n            const currQualification = currPhase?.qualifications.find((qualification: { question: any }) => qualification.question === rowItems.item.qualifierId)\n            if (currQualification) {\n                return currQualification.moreInfoUrl \n            }\n        }\n        }\n        return rowItems.item.moreInfoUrl\n    }\nconst getCustomStrings = (selectedState?: any, keyFilter?: string) => {\n    const { globalFileData, currentLanguage } = getAppStore();\n    const qualifierList: any[] = selectedState\n        ? [...Object.entries(selectedState.value?.strings?.content ?? {}), ...Object.entries(globalFileData.customStrings.content)]\n        : [...Object.entries(globalFileData.customStrings.content)]\n\n    const filteredList = keyFilter ? qualifierList.filter(([key, _value]:[string, any]) => key.includes(keyFilter)) : qualifierList\n    return filteredList\n        .map(([key, value]:[string, any]) => {\n            return {\n                key: key,\n                text: value[currentLanguage]\n            }\n        })\n        .sort((a,b) => (a.text > b.text) ? 1 : -1)\n}\n\nconst getExactCustomStrings = (selectedState?: any, keyFilter?: string) => {\n    const { globalFileData, currentLanguage } = getAppStore();\n    const qualifierList: any[] = selectedState\n        ? [...Object.entries(selectedState.value?.strings?.content ?? {}), ...Object.entries(globalFileData.customStrings.content)]\n        : [...Object.entries(globalFileData.customStrings.content)]\n\n    const filteredList = keyFilter ? qualifierList.filter(([key, _value]:[string, any]) => key.toLowerCase() === keyFilter) : qualifierList\n    return filteredList\n        .map(([key, value]:[string, any]) => {\n            return {\n                key: key,\n                text: value[currentLanguage]\n            }\n        })\n        .sort((a,b) => (a.text > b.text) ? 1 : -1)\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tIconButton,\n\tDropdown,\n\tDirectionalHint,\n\tTextField,\n\tFontIcon,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useState, useRef, useEffect } from 'react'\nimport {\n\tgetPhaseTagItems,\n\tgetPhaseQualifierItems,\n\tgetPhaseMoreInfoTextByKey,\n\tgetPhaseQualifierItemsByKey,\n\tgetPhaseMoreInfoUrl,\n} from '../selectors/phaseSelectors'\nimport { getAppStore } from '../store/store'\n\nimport './PhaseQualifierForm.scss'\nexport interface PhaseQualifierFormProps {\n\tselectedState: any\n\trowItems: any\n\tisEditable: boolean\n\tisRegion: boolean\n\tgroupKey: string\n\tonRowItemRemove?: (item: any, groupKey: any) => void\n\tonRowItemTextChange: (item: any, prevItem: any) => void\n\tonRowItemQualifierChange: (item: any, prevItem: any) => void\n}\n\nexport default observer(function PhaseQualiferForm(\n\tprops: PhaseQualifierFormProps\n) {\n\tconst {\n\t\tselectedState,\n\t\trowItems,\n\t\tisEditable,\n\t\tisRegion,\n\t\tonRowItemRemove,\n\t\tonRowItemTextChange,\n\t\tonRowItemQualifierChange,\n\t\tgroupKey,\n\t} = props\n\tconst phaseTagItems = useRef(getPhaseTagItems(selectedState))\n\tconst phaseQualifierItems = useRef(getPhaseQualifierItems(selectedState))\n\tconst [filteredQualifierItems, setFilteredQualifierItems] = useState<any[]>(\n\t\tgetPhaseQualifierItemsByKey(selectedState, rowItems.item.tagKey)\n\t)\n\n\tconst { globalFileData, repoFileData } = getAppStore()\n\n\tlet overrideIconFlag = false\n\tlet moreInfoKey = rowItems.item.moreInfoKey\n\tif (isRegion) {\n\t\tconst regionPhases = rowItems.item.location.value.vaccination.content.phases\n\t\tconst currPhase = regionPhases?.find(\n\t\t\t(phase: { id: any }) => phase.id === rowItems.item.groupId\n\t\t)\n\t\tif (currPhase) {\n\t\t\tconst currQualification = currPhase?.qualifications.find(\n\t\t\t\t(qualification: { question: any }) =>\n\t\t\t\t\tqualification.question === rowItems.item.qualifierId\n\t\t\t)\n\t\t\tif (currQualification) {\n\t\t\t\toverrideIconFlag = true\n\t\t\t\tmoreInfoKey = currQualification.moreInfoText\n\t\t\t}\n\t\t}\n\t}\n\n\tconst [moreInfoText, setMoreInfoText] = useState<string>(\n\t\tgetPhaseMoreInfoTextByKey(selectedState, moreInfoKey)\n\t)\n\n\tconst [moreInfoUrl, setMoreInfoUrl] = useState<string>(\n\t\tgetPhaseMoreInfoUrl(isRegion, rowItems)\n\t)\n\n\tconst changedItem = useRef<any>(rowItems.item)\n\tchangedItem.current.moreInfoContent = moreInfoText\n\n\tuseEffect(() => {\n\t\tif (globalFileData) {\n\t\t\tphaseQualifierItems.current = getPhaseQualifierItems(selectedState)\n\t\t\tsetFilteredQualifierItems(\n\t\t\t\tgetPhaseQualifierItemsByKey(selectedState, rowItems.item.tagKey)\n\t\t\t)\n\t\t}\n\t}, [\n\t\tglobalFileData,\n\t\trepoFileData,\n\t\tphaseQualifierItems,\n\t\tselectedState,\n\t\trowItems,\n\t])\n\n\tconst onTagChange = useCallback(\n\t\t(_event, option) => {\n\t\t\tsetFilteredQualifierItems(\n\t\t\t\tphaseQualifierItems.current.filter(\n\t\t\t\t\t(q) => q.key.split('/')[1].split('.')[0] === option.key\n\t\t\t\t)\n\t\t\t)\n\t\t\tsetMoreInfoText('')\n\t\t\tsetMoreInfoUrl('')\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tkey: `${rowItems.item.groupId}-c19.eligibility.question/${option.key}`,\n\t\t\t\t\ttagKey: option.key,\n\t\t\t\t\tqualifierId: undefined,\n\t\t\t\t\ttext: '',\n\t\t\t\t\tmoreInfoKey: '',\n\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\t[phaseQualifierItems, rowItems]\n\t)\n\n\tconst onQualifierChange = useCallback(\n\t\t(_event, option) => {\n\t\t\tsetMoreInfoText('')\n\t\t\tsetMoreInfoUrl('')\n\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tqualifierId: option.key,\n\t\t\t\t\ttext: option.text,\n\t\t\t\t\tmoreInfoKey: '',\n\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t},\n\t\t\t}\n\t\t\tonRowItemQualifierChange(changedItem.current, rowItems.item)\n\t\t},\n\t\t[onRowItemQualifierChange, rowItems]\n\t)\n\n\tconst onMoreInfoTextChange = useCallback(\n\t\t(_event, value) => {\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tmoreInfoContent: value,\n\t\t\t\t},\n\t\t\t}\n\t\t\tsetMoreInfoText(value)\n\t\t},\n\t\t[setMoreInfoText]\n\t)\n\n\tconst onMoreInfoUrlChange = useCallback(\n\t\t(_event, value) => {\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tmoreInfoUrl: value,\n\t\t\t\t},\n\t\t\t}\n\t\t\tsetMoreInfoUrl(value)\n\t\t},\n\t\t[setMoreInfoUrl]\n\t)\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"phaseDetailRow\"\n\t\t\tstyle={{ pointerEvents: isEditable ? 'unset' : 'none' }}\n\t\t>\n\t\t\t<div className=\"mainRow\">\n\t\t\t\t<FontIcon\n\t\t\t\t\ticonName=\"InfoSolid\"\n\t\t\t\t\tclassName=\"infoIcon\"\n\t\t\t\t\tstyle={{ visibility: overrideIconFlag ? 'visible' : 'hidden' }}\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\toptions={phaseTagItems.current}\n\t\t\t\t\tdefaultSelectedKey={rowItems.item.tagKey}\n\t\t\t\t\tplaceholder=\"Tag\"\n\t\t\t\t\tclassName=\"tagDropdown\"\n\t\t\t\t\tstyles={{ root: { minWidth: 250 } }}\n\t\t\t\t\tonChange={onTagChange}\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\ttitle={rowItems.item.text}\n\t\t\t\t\toptions={filteredQualifierItems}\n\t\t\t\t\tdefaultSelectedKey={rowItems.item.qualifierId}\n\t\t\t\t\tplaceholder=\"Qualifier\"\n\t\t\t\t\tstyles={{ root: { width: '100%', minWidth: 0 } }}\n\t\t\t\t\tonChange={onQualifierChange}\n\t\t\t\t/>\n\t\t\t\t<IconButton\n\t\t\t\t\ticonProps={{ iconName: 'MoreVertical' }}\n\t\t\t\t\tstyles={{ menuIcon: { visibility: 'hidden', width: 0, margin: 0 } }}\n\t\t\t\t\tmenuProps={{\n\t\t\t\t\t\tisBeakVisible: false,\n\t\t\t\t\t\tdirectionalHint: DirectionalHint.rightTopEdge,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'removeRow',\n\t\t\t\t\t\t\t\ttext: 'Remove',\n\t\t\t\t\t\t\t\tonClick: () => onRowItemRemove?.(rowItems.item, groupKey),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'details',\n\t\t\t\t\t\t\t\ttext: 'Details',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}}\n\t\t\t\t\ttitle=\"More\"\n\t\t\t\t\taria-label=\"More\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"detailsRow\">\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder=\"More info text\"\n\t\t\t\t\tmultiline={true}\n\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\tresizable={false}\n\t\t\t\t\tstyles={{ root: { width: 'calc(100% - 32px)', padding: '5px 0' } }}\n\t\t\t\t\tvalue={moreInfoText}\n\t\t\t\t\tonChange={onMoreInfoTextChange}\n\t\t\t\t\tonBlur={() => onRowItemTextChange(changedItem.current, rowItems.item)}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder=\"More info url\"\n\t\t\t\t\tstyles={{ root: { width: 'calc(100% - 32px)', padding: '5px 0' } }}\n\t\t\t\t\tvalue={moreInfoUrl}\n\t\t\t\t\tonChange={onMoreInfoUrlChange}\n\t\t\t\t\tonBlur={() => onRowItemTextChange(changedItem.current, rowItems.item)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { \n\tFontIcon,\n\tModal,\n } from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useRef, useCallback } from 'react'\nimport {\n\tmodifyStateStrings,\n\tmodifyMoreInfoLinks,\n\tsetActivePhase,\n\tupdateQualifier,\n\taddQualifier,\n\tremoveQualifier,\n\tremovePhase,\n\tduplicatePhase,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { formatId } from '../utils/textUtils'\nimport PhaseForm from './PhaseForm'\nimport PhaseQualifierForm from './PhaseQualifierForm'\n\nimport './Locations.scss'\n\nexport interface LocationsPhasesProp {\n\tisRegion: boolean\n\tvalue: any\n\tselectedState: any\n}\n\nexport default observer(function LocationsPhases(props: LocationsPhasesProp) {\n\tconst {\n\t\tglobalFileData,\n\t\tcurrentLanguage,\n\t\trepoFileData,\n\t\tisEditable,\n\t} = getAppStore()\n\tconst { isRegion, value, selectedState } = props\n\tconst [phaseList, setPhaseList] = useState<any[]>([])\n\tconst groupToggleState = useRef<any[]>([])\n\tconst selectedModalFormItem = useRef<any>(null)\n\n\tconst [\n\t\tisDuplaceModalOpen,\n\t\t{ setTrue: openDuplicateModal, setFalse: dismissDuplicateModal },\n\t] = useBoolean(false)\n\n\tconst onDuplicateSubmit = ({name}: {name: string}) => {\n\t\tconst nextPhaseId = formatId(name);\n\t\tconst phases = repoFileData[selectedState.key].vaccination.content.phases;\n\t\tconst nameExists = !!phases.find((item: {id: string}) => item.id === nextPhaseId);\n\n\t\tif(nameExists) {\n\t\t\treturn\n\t\t}\n\n\t\tduplicatePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: selectedModalFormItem.current.key,\n\t\t\tname,\n\t\t\tisRegion,\n\t\t\tregionInfo: value\n\t\t})\n\t}\n\n\tconst onDuplicatePhaseClick = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenDuplicateModal()\n\t\t},\n\t\t[openDuplicateModal]\n\t)\n\n\tuseEffect(() => {\n\t\tif (repoFileData) {\n\t\t\tdismissDuplicateModal()\n\n\t\t\tconst tempPhaseList: any[] = []\n\t\t\tconst currentStateObj: any = repoFileData[selectedState.key]\n\t\t\tlet phaseObj = currentStateObj.vaccination.content.phases\n\t\t\tconst regionObj = isRegion\n\t\t\t\t? repoFileData[selectedState.key].regions[value.key]\n\t\t\t\t: null\n\n\t\t\tif (isRegion && regionObj.vaccination.content.phases) {\n\t\t\t\tphaseObj = regionObj.vaccination.content.phases\n\t\t\t}\n\n\t\t\tphaseObj.forEach((phase: any) => {\n\t\t\t\tlet isCollapsed = true\n\n\t\t\t\tif (isRegion) {\n\t\t\t\t\tisCollapsed = groupToggleState.current.length > 0 ? !groupToggleState.current.includes(phase.id) : true\n\t\t\t\t} else {\n\t\t\t\t\tif (groupToggleState.current.length > 0) {\n\t\t\t\t\t\tisCollapsed = !groupToggleState.current.includes(phase.id)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisCollapsed = value.value.id !== phase.id\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet isActivePhase = false\n\t\t\t\tif (isRegion && regionObj.vaccination.content.activePhase) {\n\t\t\t\t\tisActivePhase = phase.id === regionObj.vaccination.content.activePhase\n\t\t\t\t} else {\n\t\t\t\t\tisActivePhase =\n\t\t\t\t\t\tphase.id === currentStateObj.vaccination.content.activePhase\n\t\t\t\t}\n\n\t\t\t\tconst tempPhaseObj: any = {\n\t\t\t\t\tkey: phase.id,\n\t\t\t\t\tname: phase.label || phase.id,\n\t\t\t\t\tcount: phase.qualifications.length,\n\t\t\t\t\tisCollapsed: isCollapsed,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tname: phase.label || phase.id,\n\t\t\t\t\t\tkeyId: phase.id,\n\t\t\t\t\t\tisActive: isActivePhase,\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\tconst phaseItems: any[] = []\n\n\t\t\t\tphase.qualifications.forEach((qualification: any) => {\n\t\t\t\t\tconst keyId: string = String(qualification.question).toLowerCase()\n\t\t\t\t\tlet label = `*Translation not found* (${keyId})`\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tcurrentStateObj.strings &&\n\t\t\t\t\t\tcurrentStateObj.strings.content[keyId]\n\t\t\t\t\t) {\n\t\t\t\t\t\tlabel =\n\t\t\t\t\t\t\tcurrentStateObj.strings.content[keyId][currentLanguage] || label\n\t\t\t\t\t} else if (globalFileData.customStrings.content[keyId]) {\n\t\t\t\t\t\tlabel =\n\t\t\t\t\t\t\tglobalFileData.customStrings.content[keyId][currentLanguage] ||\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t}\n\n\t\t\t\t\tphaseItems.push({\n\t\t\t\t\t\tkey: phase.id + '-' + keyId,\n\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\tmoreInfoKey: qualification?.moreInfoText\n\t\t\t\t\t\t\t? qualification.moreInfoText.toLowerCase()\n\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t\t\tmoreInfoUrl: qualification.moreInfoUrl,\n\t\t\t\t\t\tqualifierId: keyId,\n\t\t\t\t\t\ttagKey: keyId.split('/')[1].split('.')[0],\n\t\t\t\t\t\tgroupId: phase.id,\n\t\t\t\t\t\tlocation: value,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\ttempPhaseObj['items'] = phaseItems\n\t\t\t\ttempPhaseList.push(tempPhaseObj)\n\t\t\t})\n\n\t\t\tsetPhaseList(tempPhaseList)\n\t\t}\n\t}, [repoFileData, globalFileData, selectedState, currentLanguage, isRegion, value, dismissDuplicateModal])\n\n\tconst onAddQualifierClick = (phaseId: any) => {\n\t\tconst newItem = {\n\t\t\tkey: `${phaseId}-c19.eligibility.question/new_qualifier`,\n\t\t\ttext: '',\n\t\t\tmoreInfoKey: '',\n\t\t\tmoreInfoUrl: '',\n\t\t\tqualifierId: 'c19.eligibility.question/new_qualifier',\n\t\t\ttagKey: 'new_tagKey',\n\t\t\tgroupId: phaseId,\n\t\t\tlocation: value,\n\t\t}\n\n\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\tif (group.key === phaseId) {\n\t\t\t\t// const checkNewQualIndex = group.items.findIndex(\n\t\t\t\t// \t(i: any) => i.key === newItem.key\n\t\t\t\t// )\n\t\t\t\t// if (checkNewQualIndex === -1) {\n\t\t\t\t\tgroup.items.push(newItem)\n\t\t\t\t//}\n\t\t\t}\n\n\t\t\treturn group\n\t\t})\n\t\tsetPhaseList(tempPhaseList)\n\t}\n\n\tconst onRemoveRowItem = (item: any, groupKey:any) => {\n\t\tif (item.qualifierId !== 'c19.eligibility.question/new_qualifier') {\n\t\t\tremoveQualifier({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: item,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else {\n\t\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\t\tif (group.key === groupKey) {\n\t\t\t\t\tconst newItemIndex = group.items.findIndex( (i:any) => i.qualifierId ===  'c19.eligibility.question/new_qualifier')\n\t\t\t\t\tif(newItemIndex !== -1){\n\t\t\t\t\t\tgroup.items.splice(newItemIndex,1)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn group\n\t\t\t})\n\n\t\t\tsetPhaseList(tempPhaseList)\n\t\t}\n\t}\n\n\tconst onRemovePhaseGroupClick = (phaseId: any) => {\n\t\tremovePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: phaseId,\n\t\t\tregionInfo: isRegion ? value : null,\n\t\t})\n\t}\n\n\tconst onSetActivePhase = (phaseId: string) => {\n\t\tsetActivePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: phaseId,\n\t\t\tregionInfo: isRegion ? value : null,\n\t\t})\n\t}\n\n\tconst onToggleCollapse = (toggleGroup: any) => {\n\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\tif (group.key === toggleGroup.key) {\n\t\t\t\tgroup.isCollapsed = !group.isCollapsed\n\t\t\t}\n\n\t\t\treturn group\n\t\t})\n\t\tgroupToggleState.current = tempPhaseList.filter( group => !group.isCollapsed ).map(group => group.key)\n\t\tsetPhaseList(tempPhaseList)\n\t}\n\n\tconst onChangeRowItemText = (currentItem: any, initItem: any) => {\n\t\tif (\n\t\t\tinitItem.moreInfoUrl?.toLowerCase() !==\n\t\t\tcurrentItem.moreInfoUrl?.toLowerCase()\n\t\t) {\n\t\t\tmodifyMoreInfoLinks({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else if (initItem.moreInfoContent !== currentItem.moreInfoContent) {\n\t\t\tlet calcInfoKey = currentItem.qualifierId.replace('question', 'moreinfo')\n\t\t\tcalcInfoKey += `.${selectedState.value.info.content.metadata.code_alpha.toLowerCase()}`\n\t\t\tif (isRegion) {\n\t\t\t\tcalcInfoKey += `.${value.name.toLowerCase()}`\n\t\t\t}\n\t\t\tcalcInfoKey += `.${currentItem.groupId}`\n\n\t\t\tmodifyStateStrings({\n\t\t\t\tinfoKey: calcInfoKey,\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t}\n\t}\n\n\tconst onChangeRowItemQualifier = (currentItem: any, initItem: any) => {\n\t\tif (initItem.qualifierId !== 'c19.eligibility.question/new_qualifier') {\n\t\t\tupdateQualifier({\n\t\t\t\toldId: initItem.qualifierId,\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else {\n\t\t\taddQualifier({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"phaseGridContainer\">\n\t\t\t{phaseList.length > 0\n\t\t\t\t? phaseList.map((group: any, idx: number) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={`phasegroup-${idx}`}>\n\t\t\t\t\t\t\t\t<div className=\"phaseGroupHeader\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"groupHeaderLabel\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tonToggleCollapse(group)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\t\t\tgroup.isCollapsed ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{group.name ? (\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.name} <small>({group.data.keyId})</small>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t`Phase ${group.data.keyId}`\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"groupHeaderButtons\">\n\t\t\t\t\t\t\t\t\t\t{isEditable ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDuplicatePhaseClick(group)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"DuplicateRow\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\tDuplicate\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"removePhaseGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRemovePhaseGroupClick(group.data.keyId)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"Blocked2Solid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#d13438' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.data.isActive ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"activeGroup\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleFill\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActive Phase\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"activeGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onSetActivePhase(group.data.keyId)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleRing\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSet as Active\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.data.isActive && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"activeGroup\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleFill\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActive Phase\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ display: group.isCollapsed ? 'none' : 'block' }}>\n\t\t\t\t\t\t\t\t\t{group.items.length > 0 && (\n\t\t\t\t\t\t\t\t\t\tgroup.items.map((groupItem: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<PhaseQualifierForm\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={groupItem.key+'_'+idx}\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroupKey={group.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\trowItems={{ item: groupItem }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisEditable={isEditable}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisRegion={isRegion}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemRemove={onRemoveRowItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemTextChange={onChangeRowItemText}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemQualifierChange={onChangeRowItemQualifier}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"phaseBottomGroup\"\n\t\t\t\t\t\t\t\t\t\tstyle={{marginTop: group.items.length > 0 ? 0 : '20px'}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierGroup\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onAddQualifierClick(group.data.keyId)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\tAdd Qualifier\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\tisOpen={isDuplaceModalOpen}\n\t\t\t\t\t\t\t\t\tisModeless={false}\n\t\t\t\t\t\t\t\t\tisDarkOverlay={true}\n\t\t\t\t\t\t\t\t\tisBlocking={false}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<PhaseForm\n\t\t\t\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t\t\t\t\tduplicate={true}\n\t\t\t\t\t\t\t\t\t\tisRegion={isRegion}\n\t\t\t\t\t\t\t\t\t\tregionInfo={value}\n\t\t\t\t\t\t\t\t\t\tonCancel={dismissDuplicateModal}\n\t\t\t\t\t\t\t\t\t\tonSubmit={onDuplicateSubmit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t  })\n\t\t\t\t: null}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tIColumn,\n\tFontIcon,\n\tModal,\n\tSearchBox,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport {\n\tupdateLocationList,\n\taddPhase,\n\tupdatePhase,\n\tupdateLocationData,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\nimport LocationForm from './LocationForm'\nimport LocationsPhases from './LocationsPhases'\nimport PhaseForm from './PhaseForm'\n\nimport './Locations.scss'\n\nexport interface LocationsRegionsProp {\n\tselectedState: any\n\tonNavigateBack: () => void\n}\n\nexport default observer(function LocationsRegions(props: LocationsRegionsProp) {\n\tconst [filteredRegionsList, setFilteredRegionsList] = useState<any[]>([])\n\tconst stateRegionsFullList = useRef<any[]>([])\n\tconst [selectedPhaseItem, setSelectedPhaseItem] = useState<{\n\t\tisRegion: boolean\n\t\tvalue: any\n\t\tselectedState: any\n\t}>({ isRegion: false, value: null, selectedState: null })\n\tconst [\n\t\tisLocationModalOpen,\n\t\t{ setTrue: openLocationModal, setFalse: dismissLocationModal },\n\t] = useBoolean(false)\n\tconst [\n\t\tisPhaseModalOpen,\n\t\t{ setTrue: openPhaseModal, setFalse: dismissPhaseModal },\n\t] = useBoolean(false)\n\tconst selectedModalFormItem = useRef<any>(null)\n\n\tconst state = getAppStore()\n\n\tconst { selectedState, onNavigateBack } = props\n\n\tconst subLocationsColumns = [\n\t\t{\n\t\t\tkey: 'regionCol',\n\t\t\tname: 'Region',\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'activePhaseCol',\n\t\t\tname: 'Active Phase ID',\n\t\t\tfieldName: 'phase',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editLocation',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tconst phaseColumns = [\n\t\t{\n\t\t\tkey: 'idCol',\n\t\t\tname: 'Phase ID',\n\t\t\tfieldName: 'keyId',\n\t\t\tminWidth: 50,\n\t\t\tmaxWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'nameCol',\n\t\t\tname: 'Name',\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'qualCol',\n\t\t\tname: '# of qualifications',\n\t\t\tfieldName: 'qualifications',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editPhase',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tconst [phaseItemList, setPhaseItemList] = useState<any[]>([])\n\n\tuseEffect(() => {\n\t\tconst selectedStateObj = state.repoFileData[selectedState.key]\n\t\tconst regions = selectedStateObj?.regions ?? {}\n\t\tif (Object.keys(regions).length > 0) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(regions).forEach(([key, value]) => {\n\t\t\t\tconst valObj = value as any\n\t\t\t\ttempList.push({\n\t\t\t\t\tkey: key,\n\t\t\t\t\tname: toProperCase(valObj.info.content.name),\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tphase: valObj.vaccination.content.activePhase\n\t\t\t\t\t\t? valObj.vaccination.content.activePhase\n\t\t\t\t\t\t: selectedStateObj.vaccination.content.activePhase,\n\t\t\t\t})\n\t\t\t})\n\t\t\tsetFilteredRegionsList(tempList)\n\t\t\tstateRegionsFullList.current = tempList\n\t\t}\n\n\t\tif (selectedStateObj) {\n\t\t\tconst newList = setInitialPhaseItems({\n\t\t\t\tkey: selectedStateObj.info.content.id,\n\t\t\t\tvalue: selectedStateObj,\n\t\t\t})\n\t\t\tsetPhaseItemList(newList)\n\t\t}\n\t}, [state.repoFileData, selectedState, stateRegionsFullList, setPhaseItemList])\n\n\tconst selectedPhase = useCallback(\n\t\t(isRegion: boolean, value: any) => {\n\t\t\tsetSelectedPhaseItem({ isRegion, value, selectedState })\n\t\t},\n\t\t[selectedState]\n\t)\n\n\tconst onLocationFormSubmit = useCallback(\n\t\t(locationData, prevItem) => {\n\t\t\tdismissLocationModal()\n\t\t\tif (!prevItem) {\n\t\t\t\tupdateLocationList(locationData, true, selectedState)\n\t\t\t} else {\n\t\t\t\tupdateLocationData(locationData, true, prevItem, selectedState)\n\t\t\t}\n\t\t},\n\t\t[dismissLocationModal, selectedState]\n\t)\n\n\tconst onLocationFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenLocationModal()\n\t\t},\n\t\t[openLocationModal]\n\t)\n\n\tconst onPhaseFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenPhaseModal()\n\t\t},\n\t\t[openPhaseModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tconst fieldContent = item[column?.fieldName as keyof any] as string\n\n\t\t\tif (column?.key === 'editCol') {\n\t\t\t\treturn state.isEditable ? (\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tcolumn?.fieldName === 'editLocation'\n\t\t\t\t\t\t\t\t? onLocationFormOpen(item)\n\t\t\t\t\t\t\t\t: onPhaseFormOpen(item)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onLocationFormOpen, onPhaseFormOpen, state.isEditable]\n\t)\n\n\tconst onRegionFilter = useCallback(\n\t\t(_event: any, text?: string | undefined) => {\n\t\t\tif (text) {\n\t\t\t\tsetFilteredRegionsList(\n\t\t\t\t\tstateRegionsFullList.current.filter(\n\t\t\t\t\t\t(region) => region.name.toLowerCase().indexOf(text) > -1\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tsetFilteredRegionsList(stateRegionsFullList.current)\n\t\t\t}\n\t\t},\n\t\t[stateRegionsFullList]\n\t)\n\n\tconst onPhaseFormSubmit = (phaseData: any) => {\n\t\tdismissPhaseModal()\n\n\t\tif (phaseData.phaseId) {\n\t\t\tupdatePhase({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: phaseData,\n\t\t\t})\n\t\t} else {\n\t\t\taddPhase({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: phaseData,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"bodyContainer\">\n\t\t\t<div className=\"bodyHeader subContent\">\n\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t<div className=\"breadCrumbs\">\n\t\t\t\t\t\t<span className=\"crumbLink\" onClick={onNavigateBack}>\n\t\t\t\t\t\t\t/ Locations{' '}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"crumbLink\"\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetSelectedPhaseItem({\n\t\t\t\t\t\t\t\t\t\t\tisRegion: false,\n\t\t\t\t\t\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\t\t\t\t\t\tselectedState: null,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t/ {selectedState.text + ' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{selectedPhaseItem.isRegion ? (\n\t\t\t\t\t\t\t\t\t<>/ {selectedPhaseItem.value.name}</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>/ Phase Overview</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>/ {selectedState.text}</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mainTitle\">\n\t\t\t\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{selectedPhaseItem.isRegion ? (\n\t\t\t\t\t\t\t\t\t<>{selectedPhaseItem.value.name} Region Phase Overview</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>{selectedState.text} Phase Overview</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>{selectedState.text}</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<LocationsPhases\n\t\t\t\t\t\t\tisRegion={selectedPhaseItem.isRegion}\n\t\t\t\t\t\t\tvalue={selectedPhaseItem.value}\n\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"listTitle\">Phases</div>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onPhaseFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Phase\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{selectedState.value.vaccination.content.phases &&\n\t\t\t\t\t\tselectedState.value.vaccination.content.phases.length > 0 ? (\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\titems={phaseItemList}\n\t\t\t\t\t\t\t\tcolumns={phaseColumns}\n\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\tonItemInvoked={(item) => selectedPhase(false, item)}\n\t\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>No phases available at this time.</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"listTitle\">Sublocation</div>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t{stateRegionsFullList.current.length > 0 ? (\n\t\t\t\t\t\t\t\t<SearchBox\n\t\t\t\t\t\t\t\t\tstyles={{ root: { width: 400 } }}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\t\tonChange={(ev, text) => onRegionFilter(ev, text)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Sublocation\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{stateRegionsFullList.current.length > 0 ? (\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\titems={filteredRegionsList}\n\t\t\t\t\t\t\t\tcolumns={subLocationsColumns}\n\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\tselectionPreservedOnEmptyClick={true}\n\t\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\tonItemInvoked={(item) => selectedPhase(true, item)}\n\t\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>No regions available at this time.</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<Modal\n\t\t\t\tisOpen={isLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<LocationForm\n\t\t\t\t\titem={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissLocationModal}\n\t\t\t\t\tonSubmit={onLocationFormSubmit}\n\t\t\t\t\tisRegion={true}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t\t<Modal\n\t\t\t\tisOpen={isPhaseModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<PhaseForm\n\t\t\t\t\titem={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissPhaseModal}\n\t\t\t\t\tonSubmit={onPhaseFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n\nconst setInitialPhaseItems = (selectedState: any): any[] => {\n\tif (!selectedState.value.vaccination.content.phases) {\n\t\treturn []\n\t}\n\treturn selectedState.value.vaccination.content.phases.map(\n\t\t(phase: any, idx: number) => {\n\t\t\tconst activePhase: string =\n\t\t\t\tselectedState.value.vaccination.content.activePhase\n\t\t\treturn {\n\t\t\t\tkey: String(phase.id) + idx,\n\t\t\t\tkeyId: String(phase.id) + (phase.id === activePhase ? ' (active)' : ''),\n\t\t\t\tname:\n\t\t\t\t\ttoProperCase(phase.label ?? phase.id) +\n\t\t\t\t\t(phase.id === activePhase ? ' (active)' : ''),\n\t\t\t\tqualifications: phase.qualifications.length,\n\t\t\t\tvalue: phase,\n\t\t\t\tisNew: false,\n\t\t\t}\n\t\t}\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tFontIcon,\n\tModal,\n\tIColumn,\n\tSearchBox,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport {\n\tupdateLocationList,\n\tupdateLocationData,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport LocationForm from './LocationForm'\n\nimport './Locations.scss'\n\nexport interface LocationsStatesProp {\n\tonSelectedItem: (item: any) => void\n}\n\nexport default observer(function LocationsStates(props: LocationsStatesProp) {\n\tconst { onSelectedItem } = props\n\n\tconst [\n\t\tisLocationModalOpen,\n\t\t{ setTrue: openLocationModal, setFalse: dismissLocationModal },\n\t] = useBoolean(false)\n\tconst [filteredStateList, setFilteredStateList] = useState<any[]>([])\n\tconst stateRepoFullList = useRef<any[]>([])\n\tconst selectedLocationItem = useRef<any>(null)\n\n\tconst state = getAppStore()\n\n\tconst locationColumns = [\n\t\t{\n\t\t\tkey: 'stateCol',\n\t\t\tname: 'State',\n\t\t\tfieldName: 'text',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'regionCol',\n\t\t\tname: 'Sublocations',\n\t\t\tfieldName: 'regions',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editLocation',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tuseEffect(() => {\n\t\tif (state.repoFileData) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(state.repoFileData).forEach(\n\t\t\t\t([key, value]: [string, any]) => {\n\t\t\t\t\tconst stateId = value?.info?.content.id\n\t\t\t\t\tconst stateNames = state?.globalFileData?.cdcStateNames.content\n\n\t\t\t\t\tconst stateLabel =\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`] &&\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][state.currentLanguage] &&\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][\n\t\t\t\t\t\t\tstate.currentLanguage\n\t\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t\t? stateNames[`cdc/${stateId}/state_name`][state.currentLanguage]\n\t\t\t\t\t\t\t: `*Translation Not Found* (${stateId})`\n\n\t\t\t\t\ttempList.push({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\ttext: stateLabel,\n\t\t\t\t\t\tregions: value?.regions ? Object.keys(value.regions).length : 0,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\t\t\tsetFilteredStateList(tempList)\n\t\t\tstateRepoFullList.current = tempList\n\t\t}\n\t}, [state.repoFileData, state.globalFileData, state.currentLanguage, stateRepoFullList])\n\n\tconst onStateFilter = useCallback(\n\t\t(_event: any, text?: string | undefined) => {\n\t\t\tif (text) {\n\t\t\t\tsetFilteredStateList(\n\t\t\t\t\tstateRepoFullList.current.filter(\n\t\t\t\t\t\t(state) => state.text.toLowerCase().indexOf(text) > -1\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tsetFilteredStateList(stateRepoFullList.current)\n\t\t\t}\n\t\t},\n\t\t[stateRepoFullList]\n\t)\n\n\tconst openSelection = useCallback(\n\t\t(item: any) => {\n\t\t\tonSelectedItem(item)\n\t\t},\n\t\t[onSelectedItem]\n\t)\n\n\tconst onLocationFormSubmit = useCallback(\n\t\t(locationData, prevItem) => {\n\t\t\tdismissLocationModal()\n\t\t\tif (!prevItem) {\n\t\t\t\tupdateLocationList(locationData, false)\n\t\t\t} else {\n\t\t\t\tupdateLocationData(locationData, false, prevItem)\n\t\t\t}\n\t\t},\n\t\t[dismissLocationModal]\n\t)\n\n\tconst onLocationFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedLocationItem.current = item ?? null\n\t\t\topenLocationModal()\n\t\t},\n\t\t[openLocationModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tconst fieldContent = item[column?.fieldName as keyof any] as string\n\n\t\t\tif (column?.key === 'editCol') {\n\t\t\t\treturn state.isEditable ? (\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\tonClick={() => onLocationFormOpen(item)}\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onLocationFormOpen, state.isEditable]\n\t)\n\n\treturn (\n\t\t<div className=\"bodyContainer\">\n\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t<div className=\"breadCrumbs\">/ Locations</div>\n\t\t\t\t\t<div className=\"mainTitle\">Locations</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"bodyContent\">\n\t\t\t\t{state.repoFileData ? (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t<SearchBox\n\t\t\t\t\t\t\t\tstyles={{ root: { width: 400 } }}\n\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\tonChange={(ev, text) => onStateFilter(ev, text)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Location\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={filteredStateList}\n\t\t\t\t\t\t\tcolumns={locationColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tselectionPreservedOnEmptyClick={true}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\tonItemInvoked={openSelection}\n\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t) : (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<ProgressIndicator description=\"Loading content...\" />\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tisOpen={isLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<LocationForm\n\t\t\t\t\titem={selectedLocationItem.current}\n\t\t\t\t\tonCancel={dismissLocationModal}\n\t\t\t\t\tonSubmit={onLocationFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { useState, useCallback } from 'react'\nimport LocationsRegions from './LocationsRegions'\nimport LocationsStates from './LocationsStates'\n\nimport './Locations.scss'\n\nexport default observer(function Locations() {\n\tconst [selectedState, setSelectedState] = useState<any>(null)\n\n\tconst onNavigateBack = useCallback(() => {\n\t\tsetSelectedState(null)\n\t}, [])\n\n\treturn (\n\t\t<div className=\"locationPageContainer\">\n\t\t\t{!selectedState ? (\n\t\t\t\t<LocationsStates onSelectedItem={setSelectedState} />\n\t\t\t) : (\n\t\t\t\t<LocationsRegions\n\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\tonNavigateBack={onNavigateBack}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { DefaultButton } from 'office-ui-fabric-react'\nimport { loginUser } from '../actions/authActions'\n\nimport './Login.scss'\n\nexport default observer(function Login() {\n\treturn (\n\t\t<div className=\"loginPageContainer\">\n\t\t\t<div className=\"loginContainer\">\n\t\t\t\t<h3>Data Composer</h3>\n\t\t\t\t<DefaultButton text=\"Login with Github\" onClick={loginUser} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n\tDefaultButton,\n\tTextField,\n\tDropdown,\n\tIDropdownOption,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport { getGlobalQualifierValidationTexts } from '../selectors/qualifierSelectors'\n\nimport './AddQualifierForm.scss'\n\nexport interface AddQualifierFormProp {\n\titem?: any\n\ttagsOptions: IDropdownOption[]\n\tonSubmit?: (newQualifier: any) => void\n\tonCancel?: () => void\n}\n\nconst setInitialData = (item: any) => {\n\tif (item) {\n\t\treturn {\n\t\t\ttagKey: item.key.split('/')[1].split('.')[0],\n\t\t\tkey: item.key,\n\t\t\tqualifier: item.text,\n\t\t\tisNew: false,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\ttagKey: '',\n\t\t\tkey: '',\n\t\t\tqualifier: '',\n\t\t\tisNew: true,\n\t\t}\n\t}\n}\n\nexport default observer(function AddQualifierForm(props: AddQualifierFormProp) {\n\tconst { onSubmit, onCancel, item, tagsOptions } = props\n\tconst [formData, setFormData] = useState<any>(setInitialData(item))\n\tconst fieldChanges = useRef<any>(formData)\n\tconst globalQualifiersList = useRef<string[]>(\n\t\tgetGlobalQualifierValidationTexts()\n\t)\n\tconst [hasError, setHasError] = useState<boolean>(false)\n\tconst [isAddingTag, setIsAddingTag] = useState<boolean>(false)\n\n\tconst handleTagChange = useCallback(\n\t\t(_ev: any, item?: IDropdownOption) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\ttagKey: item?.key,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst isDuplicate = useCallback(\n\t\t(newQualifier: string) => {\n\t\t\tconst newQualifierText = newQualifier.toLowerCase().replaceAll(' ', '')\n\t\t\tif (globalQualifiersList.current.includes(newQualifierText)) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn 'Qualifier already exist, please revise.'\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[globalQualifiersList, setHasError]\n\t)\n\n\tconst isTagDuplicate = useCallback(\n\t\t(newTag: string) => {\n\t\t\tconst newTagKey = newTag.toLowerCase().replaceAll(' ', '_')\n\t\t\tconst tagKeys = tagsOptions.map((t) => t.key)\n\t\t\tif (tagKeys.includes(newTagKey)) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn 'Tag already exist, please revise.'\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[setHasError, tagsOptions]\n\t)\n\n\tconst disableSubmit = useCallback((): boolean => {\n\t\tif (hasError) return true\n\t\treturn formData.qualifier === ''\n\t}, [formData, hasError])\n\n\tconst createNewTag = useCallback(() => {\n\t\tconst newTagKey = formData.tagKey.replaceAll(' ', '_')\n\t\ttagsOptions.push({ key: newTagKey, text: formData.tagKey })\n\t\ttagsOptions.sort((a, b) => (a.text > b.text ? 1 : -1))\n\n\t\tfieldChanges.current = {\n\t\t\t...fieldChanges.current,\n\t\t\t...{\n\t\t\t\ttagKey: newTagKey,\n\t\t\t},\n\t\t}\n\n\t\tsetIsAddingTag(false)\n\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t}, [formData, tagsOptions, fieldChanges, setIsAddingTag])\n\n\tconst formTitle = item ? 'Edit Qualifier' : 'New Qualifier'\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{formTitle}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<div className=\"tagRow\">\n\t\t\t\t\t{!isAddingTag ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tselectedKey={formData.tagKey}\n\t\t\t\t\t\t\t\tplaceholder=\"Tag\"\n\t\t\t\t\t\t\t\toptions={tagsOptions}\n\t\t\t\t\t\t\t\tonChange={handleTagChange}\n\t\t\t\t\t\t\t\tdisabled={!formData.isNew}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{formData.isNew && <PrimaryButton\n\t\t\t\t\t\t\t\ttext=\"New tag\"\n\t\t\t\t\t\t\t\tonClick={() => setIsAddingTag(true)}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"tagKey\"\n\t\t\t\t\t\t\t\tplaceholder=\"Type new tag\"\n\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\tvalidateOnLoad={false}\n\t\t\t\t\t\t\t\tonGetErrorMessage={() => isTagDuplicate(formData.tagKey)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PrimaryButton text=\"Ok\" onClick={() => createNewTag()} />\n\t\t\t\t\t\t\t<DefaultButton\n\t\t\t\t\t\t\t\ttext=\"Cancel\"\n\t\t\t\t\t\t\t\tonClick={() => setIsAddingTag(false)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"\"\n\t\t\t\t\tname=\"qualifier\"\n\t\t\t\t\tplaceholder=\"Qualifier text...\"\n\t\t\t\t\tvalue={formData.qualifier}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\tmultiline={true}\n\t\t\t\t\tautoAdjustHeight={false}\n\t\t\t\t\tresizable={false}\n\t\t\t\t\tdisabled={!formData.tagKey || isAddingTag}\n\t\t\t\t\tvalidateOnLoad={false}\n\t\t\t\t\tonGetErrorMessage={() => isDuplicate(formData.qualifier)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext=\"Submit\"\n\t\t\t\t\tdisabled={disableSubmit()}\n\t\t\t\t\tonClick={() => onSubmit?.(formData)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton text=\"Cancel\" onClick={() => onCancel?.()} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\n\nexport const isQualifierTextDuplicate = (qualifierText: string): boolean => {\n    const store = getAppStore()\n    const { content } = store.globalFileData.customStrings\n\tconst newQualifier = qualifierText.toLowerCase().replaceAll(' ','')\n\n    const existingQualifierTexts = Object.entries(content)\n        .filter(([key, _value]: [string, any]) => key.startsWith('c19.eligibility.question/'))\n        .map(([_key, value]: [string, any]) => {\n            return value[store.currentLanguage].toLowerCase().replaceAll(' ','')\n        })\n\n    return existingQualifierTexts.includes(newQualifier)\n}\n\nexport const getGlobalQualifierValidationTexts = (): string[] => {\n    const store = getAppStore()\n    const { content } = store.globalFileData.customStrings\n\n    return Object.entries(content)\n        .filter(([key, _value]: [string, any]) => key.startsWith('c19.eligibility.question/'))\n        .map(([_key, value]: [string, any]) => {\n            return value[store.currentLanguage].toLowerCase().replaceAll(' ','')\n        })\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tIGroup,\n\tDetailsList,\n\tFontIcon,\n\tModal,\n\tIDropdownOption,\n\tIColumn,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { updateGlobalQualifiers } from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\nimport AddQualifierForm from './AddQualiferForm'\n\nimport './QualifierPanel.scss'\n\nexport default observer(function QualifierPanel() {\n\tconst { globalFileData, currentLanguage, isEditable } = getAppStore()\n\tconst [qualifierGroup, setQualifierGroup] = useState<IGroup[]>([])\n\tconst [qualifierGroupItems, setQualifierGroupItems] = useState<any[]>([])\n\tconst [\n\t\tisAddQualifierModalOpen,\n\t\t{ setTrue: openAddQualifierModal, setFalse: dismissAddQualifierModal },\n\t] = useBoolean(false)\n\tconst formItem = useRef<any>(null)\n\n\tuseEffect(() => {\n\t\tif (globalFileData?.customStrings) {\n\t\t\tconst groupKeys: any[] = []\n\t\t\tconst questionItemKeys: any[] = []\n\n\t\t\tconst tempQualifierGroup: IGroup[] = []\n\t\t\tconst tempQualifierGroupItems: any[] = []\n\n\t\t\tconst contentObj = globalFileData.customStrings.content\n\t\t\tconst questionKeys = Object.keys(contentObj)\n\t\t\t\t.filter((k) => k.includes('eligibility.question'))\n\t\t\t\t.sort((a, b) => (a > b ? 1 : -1))\n\n\t\t\tquestionKeys.forEach((key) => {\n\t\t\t\tconst questionGroupKey = key.split('/')[1].split('.')\n\n\t\t\t\tif (!groupKeys.includes(questionGroupKey[0])) {\n\t\t\t\t\tgroupKeys.push(questionGroupKey[0])\n\n\t\t\t\t\ttempQualifierGroup.push({\n\t\t\t\t\t\tkey: questionGroupKey[0],\n\t\t\t\t\t\tname: toProperCase(questionGroupKey[0]),\n\t\t\t\t\t\tstartIndex: tempQualifierGroupItems.length,\n\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\tisCollapsed: true,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst groupIdx = tempQualifierGroup.findIndex(\n\t\t\t\t\t\t(obj) => obj.key === questionGroupKey[0]\n\t\t\t\t\t)\n\t\t\t\t\ttempQualifierGroup[groupIdx].count++\n\t\t\t\t}\n\n\t\t\t\tif (!questionItemKeys.includes(key)) {\n\t\t\t\t\tquestionItemKeys.push(key)\n\n\t\t\t\t\ttempQualifierGroupItems.push({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\ttext: contentObj[key][currentLanguage]\n\t\t\t\t\t\t\t? contentObj[key][currentLanguage]\n\t\t\t\t\t\t\t: `*Translation Not Found* (${currentLanguage})`,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetQualifierGroup(tempQualifierGroup)\n\t\t\tsetQualifierGroupItems(tempQualifierGroupItems)\n\t\t}\n\t}, [globalFileData, currentLanguage, setQualifierGroup, setQualifierGroupItems])\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: 'questionColKey',\n\t\t\tname: 'Question',\n\t\t\tfieldName: 'text',\n\t\t\tminWidth: 100,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editQualifier',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (isEditable ? true : loc.key !== 'editCol'))\n\n\tconst onAddQualifierFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tformItem.current = item ?? null\n\t\t\topenAddQualifierModal()\n\t\t},\n\t\t[openAddQualifierModal, formItem]\n\t)\n\n\tconst addQualifierSubmit = useCallback(\n\t\t(newQualifier) => {\n\t\t\tupdateGlobalQualifiers(newQualifier)\n\t\t\tsetTimeout(() => dismissAddQualifierModal(), 100)\n\t\t},\n\t\t[dismissAddQualifierModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tconst fieldContent = item[column?.fieldName as keyof any] as string\n\n\t\t\tif (column?.key === 'editCol') {\n\t\t\t\treturn isEditable ? (\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\tonClick={() => onAddQualifierFormOpen(item)}\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onAddQualifierFormOpen, isEditable]\n\t)\n\n\tconst tagsOptions: IDropdownOption[] = qualifierGroup.map((tag) => {\n\t\treturn {\n\t\t\tkey: tag.key,\n\t\t\ttext: tag.name,\n\t\t}\n\t})\n\n\treturn (\n\t\t<div className=\"qualifierPanelContainer\">\n\t\t\t<div className=\"panelHeader\">\n\t\t\t\t<div className=\"panelHeaderTitle\">Qualifiers</div>\n\t\t\t</div>\n\t\t\t<div className=\"panelBody\">\n\t\t\t\t<section>\n\t\t\t\t\t{!!globalFileData?.customStrings?.content && (\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"addQualiferHeaderButton\"\n\t\t\t\t\t\t\t\tonClick={() => onAddQualifierFormOpen(null)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\tclassName=\"addQualifierIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\tAdd Qualifier\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<DetailsList\n\t\t\t\t\t\titems={qualifierGroupItems}\n\t\t\t\t\t\tgroups={qualifierGroup}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tgroupProps={{\n\t\t\t\t\t\t\tshowEmptyGroups: false,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcompact={true}\n\t\t\t\t\t\tisHeaderVisible={false}\n\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\tclassName=\"qualifierGroupItem\"\n\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tisOpen={isAddQualifierModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<AddQualifierForm\n\t\t\t\t\titem={formItem.current}\n\t\t\t\t\ttagsOptions={tagsOptions}\n\t\t\t\t\tonSubmit={addQualifierSubmit}\n\t\t\t\t\tonCancel={dismissAddQualifierModal}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport {\n\tPrimaryButton,\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tTextField,\n\tMessageBar,\n\tMessageBarType,\n} from 'office-ui-fabric-react'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { createPR } from '../actions/repoActions'\nimport { getAppStore } from '../store/store'\nimport { getObjDiffs } from '../utils/dataUtils'\n\nimport './Review.scss'\n\nexport interface ReviewProp {\n\tshowDashboard: () => void\n}\n\nconst setInitialFormData = (initData: any | undefined) => {\n\tif (!initData) return {\n\t\tprTitle: '',\n\t\tprDetails: ''\n\t}\n\treturn {\n\t\tprTitle: initData.title ?? '',\n\t\tprDetails: initData.body ?? ''\n\t}\n}\n\nexport default observer(function Review(props: ReviewProp) {\n\tconst { showDashboard } = props\n\tconst changesColumns = [\n\t\t{\n\t\t\tkey: 'labelCol',\n\t\t\tname: 'Pending Changes',\n\t\t\tfieldName: 'label',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t]\n\n\tconst [changesList, setChangesList] = useState<any[]>([])\n\tconst [locationUpdates, setLocationUpdates] = useState<any[]>([])\n\tconst [globalUpdates, setGlobalUpdates] = useState<any[]>([])\n\tconst [showLoading, setShowLoading] = useState<boolean>(false)\n\tconst [errorMessage, setErrorMessage] = useState<\n\t\t{ message: string } | undefined\n\t>()\n\tconst state = getAppStore()\n\tconst [formData, setFormData] = useState<any>(setInitialFormData(state.loadedPRData))\n\tconst fieldChanges = useRef<any>(formData)\n\tconst changeSummary = useRef<any[]>([])\n\n\tuseEffect(() => {\n\t\tconst tempChangesList: any[] = []\n\t\tconst tempLocationUpdates: any[] = []\n\t\tconst tempGlobalUpdates: any[] = []\n\n\t\ttry {\n\t\t\tif (\n\t\t\t\tJSON.stringify(state.initGlobalFileData.customStrings).toLowerCase() !==\n\t\t\t\tJSON.stringify(state.globalFileData.customStrings).toLowerCase()\n\t\t\t) {\n\t\t\t\ttempChangesList.push({\n\t\t\t\t\tlabel: `Global strings information updated`,\n\t\t\t\t\tvalue: state.globalFileData.customStrings,\n\t\t\t\t})\n\t\t\t\ttempGlobalUpdates.push(state.globalFileData.customStrings)\n\n\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\tkey: 'global',\n\t\t\t\t\ttype: 'customStrings',\n\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.initGlobalFileData.customStrings)),\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.globalFileData.customStrings))\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tJSON.stringify(state.initGlobalFileData.cdcStateNames).toLowerCase() !==\n\t\t\t\tJSON.stringify(state.globalFileData.cdcStateNames).toLowerCase()\n\t\t\t) {\n\t\t\t\ttempChangesList.push({\n\t\t\t\t\tlabel: `State names information updated`,\n\t\t\t\t\tvalue: state.globalFileData.cdcStateNames,\n\t\t\t\t})\n\t\t\t\ttempGlobalUpdates.push(state.globalFileData.cdcStateNames)\n\n\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\tkey: 'global',\n\t\t\t\t\ttype: 'cdcStateNames',\n\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.initGlobalFileData.cdcStateNames)),\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.globalFileData.cdcStateNames))\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tJSON.stringify(state.initGlobalFileData.cdcStateLinks).toLowerCase() !==\n\t\t\t\tJSON.stringify(state.globalFileData.cdcStateLinks).toLowerCase()\n\t\t\t) {\n\t\t\t\ttempChangesList.push({\n\t\t\t\t\tlabel: `State links information updated`,\n\t\t\t\t\tvalue: state.globalFileData.cdcStateLinks,\n\t\t\t\t})\n\t\t\t\ttempGlobalUpdates.push(state.globalFileData.cdcStateLinks)\n\n\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\tkey: 'global',\n\t\t\t\t\ttype: 'cdcStateLinks',\n\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.initGlobalFileData.cdcStateLinks)),\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.globalFileData.cdcStateLinks))\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tObject.keys(state.repoFileData).forEach((location: any) => {\n\t\t\t\tif (state.initRepoFileData) {\n\t\t\t\t\tif (!state.initRepoFileData[location]) {\n\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\tlabel: `New location added - ${location}`,\n\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t})\n\t\t\t\t\t\ttempLocationUpdates.push({\n\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\tdata: state.repoFileData[location],\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet addChanges = false\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.initRepoFileData[location].info\n\t\t\t\t\t\t\t).toLowerCase() !==\n\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].info).toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\t\tlabel: `Updated information for ${location}`,\n\t\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.initRepoFileData[location].info)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tJSON.parse(JSON.stringify(state.repoFileData[location].info))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\taddChanges = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tstate.repoFileData[location].regions &&\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.initRepoFileData[location].regions\n\t\t\t\t\t\t\t)?.toLowerCase() !==\n\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\tstate.repoFileData[location].regions\n\t\t\t\t\t\t\t\t).toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\t\tlabel: `Updated regions for ${location}`,\n\t\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\ttype: 'regions',\n\t\t\t\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\tstate.initRepoFileData[location].regions ?? {}\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].regions)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\taddChanges = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.initRepoFileData[location].vaccination\n\t\t\t\t\t\t\t).toLowerCase() !==\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.repoFileData[location].vaccination\n\t\t\t\t\t\t\t).toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\t\tlabel: `Updated phase information for ${location}`,\n\t\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\ttype: 'vaccination',\n\t\t\t\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.initRepoFileData[location].vaccination)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].vaccination)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\taddChanges = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.initRepoFileData[location].strings\n\t\t\t\t\t\t\t).toLowerCase() !==\n\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].strings).toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\t\tlabel: `Updated strings information for ${location}`,\n\t\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\ttype: 'strings',\n\t\t\t\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.initRepoFileData[location].strings)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].strings)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\taddChanges = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (addChanges) {\n\t\t\t\t\t\t\ttempLocationUpdates.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\tdata: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetLocationUpdates(tempLocationUpdates)\n\t\t\tsetChangesList(tempChangesList)\n\t\t\tsetGlobalUpdates(tempGlobalUpdates)\n\t\t} catch (err) {\n\t\t\tsetErrorMessage(err)\n\t\t}\n\t}, [state.initRepoFileData, state.repoFileData, state.initGlobalFileData, state.globalFileData, changeSummary])\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\treturn (\n\t\t<div className=\"reviewPageContainer\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ Review</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">Review</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{errorMessage && (\n\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\tmessageBarType={MessageBarType.error}\n\t\t\t\t\t\t\tdismissButtonAriaLabel=\"Close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p>Unexpected {errorMessage?.toString()}</p>\n\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t)}\n\t\t\t\t\t{!showLoading ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<div className=\"submitContainer\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Title (Optional):\"\n\t\t\t\t\t\t\t\t\tname=\"prTitle\"\n\t\t\t\t\t\t\t\t\tvalue={formData.prTitle}\n\t\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Details (Optional):\"\n\t\t\t\t\t\t\t\t\tname=\"prDetails\"\n\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\tvalue={formData.prDetails}\n\t\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\t\titems={changesList}\n\t\t\t\t\t\t\t\t\tcolumns={changesColumns}\n\t\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PrimaryButton\n\t\t\t\t\t\t\t\t\ttext=\"Submit changes\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetShowLoading(true)\n\t\t\t\t\t\t\t\t\t\tcreatePR([\n\t\t\t\t\t\t\t\t\t\t\tglobalUpdates,\n\t\t\t\t\t\t\t\t\t\t\tlocationUpdates,\n\t\t\t\t\t\t\t\t\t\t\tshowDashboard,\n\t\t\t\t\t\t\t\t\t\t\tformData,\n\t\t\t\t\t\t\t\t\t\t\tchangeSummary.current,\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<section className=\"loadingContainer\">\n\t\t\t\t\t\t\t<ProgressIndicator description=\"Saving changes...\" />\n\t\t\t\t\t\t</section>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDropdown,\n\tTextField,\n\tFontIcon,\n\tMessageBar,\n\tMessageBarType,\n\tProgressIndicator,\n} from '@fluentui/react'\nimport parse from 'csv-parse/lib/sync'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useCallback, useEffect, useRef, createRef } from 'react'\nimport {\n\ttranslateLocationName,\n\ttranslateQualifier,\n\ttranslateMisc,\n\tupdateStrings,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { convertCSVDataToObj } from '../utils/dataUtils'\nimport {\n\tgetLanguageOptions,\n\ttoProperCase,\n\tgetLanguageDisplayText,\n\tcreateCSVDataString,\n} from '../utils/textUtils'\nimport './Translate.scss'\n\nconst filterDropdownStyles = {\n\tdropdown: { border: 'none' },\n\ttitle: {\n\t\tfontSize: '14px',\n\t\tcolor: '#0078d4 !important',\n\t\tborder: 'none',\n\t\tbackgroundColor: 'transparent',\n\t},\n\tcaretDown: {\n\t\tcolor: '#0078d4 !important',\n\t\tfontSize: '14px',\n\t},\n\tdropdownOptionText: { fontSize: '14px' },\n}\n\nexport default observer(function Translate() {\n\tconst { globalFileData, repoFileData, currentLanguage } = getAppStore()\n\tconst languageOptions = getLanguageOptions()\n\tconst translationFilter = [\n\t\t{\n\t\t\tkey: 'missing',\n\t\t\ttext: 'Needs Translation',\n\t\t},\n\t\t{\n\t\t\tkey: 'all',\n\t\t\ttext: 'Show All',\n\t\t},\n\t]\n\n\tconst miscFilter = [\n\t\t{\n\t\t\tkey: 'all',\n\t\t\ttext: 'All',\n\t\t},\n\t\t{\n\t\t\tkey: 'state',\n\t\t\ttext: 'State-specific',\n\t\t},\n\t\t{\n\t\t\tkey: 'state_link',\n\t\t\ttext: 'State Links',\n\t\t},\n\t\t{\n\t\t\tkey: 'other',\n\t\t\ttext: 'Uncategorized',\n\t\t},\n\t]\n\tconst [showLoading, setShowLoading] = useState<boolean>(false)\n\n\tconst locationChanges = useRef<any>({})\n\tconst qualifierChanges = useRef<any>({})\n\tconst miscChanges = useRef<any>({})\n\n\tconst locationFullList = useRef<any[]>([])\n\tconst qualifierFullList = useRef<any[]>([])\n\tconst miscFullList = useRef<any[]>([])\n\tconst stateSpecificOptions = useRef<any[]>([])\n\n\tconst mainLanguage = useRef<string>(currentLanguage)\n\tconst toLanguage = useRef<string>(languageOptions[0].key)\n\n\tconst fileUploadRef = createRef<HTMLInputElement>()\n\tconst [errorMessage, setErrorMessage] = useState<\n\t\t{ message: string } | undefined\n\t>()\n\n\tconst [locationList, setLocationList] = useState<any[]>([])\n\tconst [qualifierList, setQualifierList] = useState<any[]>([])\n\tconst [miscList, setMiscList] = useState<any[]>([])\n\n\tconst [translationFilterState, setTranslationFilterState] = useState<string>(\n\t\ttranslationFilter[0].key\n\t)\n\tconst [miscFilterState, setMiscFilterState] = useState<string>(\n\t\tmiscFilter[0].key\n\t)\n\tconst [\n\t\tmiscStateSpecFilterState,\n\t\tsetMiscStateSpecFilterState,\n\t] = useState<string>('')\n\tconst [isSectionCollapse, setSectionCollapse] = useState<any>({\n\t\tlocations: false,\n\t\tqualifiers: false,\n\t\tmisc: false,\n\t})\n\n\tconst buildTranslationsLists = useCallback(() => {\n\t\tconst tempMiscList: any[] = []\n\n\t\tif (repoFileData) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(repoFileData).forEach(([_key, value]: [string, any]) => {\n\t\t\t\tconst stateId = value?.info?.content.id\n\t\t\t\tconst stateNames = globalFileData?.cdcStateNames.content\n\t\t\t\tconst stateLinks = globalFileData?.cdcStateLinks.content\n\n\t\t\t\tconst stateLabel =\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`] &&\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][mainLanguage.current] &&\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][\n\t\t\t\t\t\tmainLanguage.current\n\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t? stateNames[`cdc/${stateId}/state_name`][mainLanguage.current]\n\t\t\t\t\t\t: `*Translation Not Found* (${stateId})`\n\n\t\t\t\tconst stateLinkLabel =\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`] &&\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`][mainLanguage.current] &&\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`][\n\t\t\t\t\t\tmainLanguage.current\n\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t? stateLinks[`cdc/${stateId}/state_link`][mainLanguage.current]\n\t\t\t\t\t\t: `*Translation Not Found* (${stateId})`\n\n\t\t\t\tconst translateToValue = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateNames?.[`cdc/${stateId}/state_name`]?.[toLanguage.current]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateNames?.[`cdc/${stateId}/state_name`]?.[toLanguage.current]\n\n\t\t\t\tconst translateLinkToValue = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateLinks?.[`cdc/${stateId}/state_link`]?.[toLanguage.current]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateLinks?.[`cdc/${stateId}/state_link`]?.[toLanguage.current]\n\n\t\t\t\ttempList.push({\n\t\t\t\t\tkey: `cdc/${stateId}/state_name`,\n\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\tfrom: stateLabel,\n\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\tto: translateToValue,\n\t\t\t\t\t_to: translateToValue,\n\t\t\t\t\tparent: 'global',\n\t\t\t\t\tcategory: 'locations',\n\t\t\t\t})\n\n\t\t\t\ttempMiscList.push({\n\t\t\t\t\tkey: `cdc/${stateId}/state_link`,\n\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\tfrom: stateLinkLabel,\n\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\tto: translateLinkToValue,\n\t\t\t\t\t_to: translateLinkToValue,\n\t\t\t\t\tparent: 'global',\n\t\t\t\t\tcategory: 'state_link',\n\t\t\t\t})\n\t\t\t})\n\t\t\tlocationFullList.current = tempList.sort((a, b) =>\n\t\t\t\ta.from > b.from ? 1 : -1\n\t\t\t)\n\t\t}\n\n\t\tif (globalFileData) {\n\t\t\tconst tempQualifierList: any[] = []\n\t\t\tObject.entries(globalFileData.customStrings.content).forEach(\n\t\t\t\t([key, value]: [string, any]) => {\n\t\t\t\t\tif (key.startsWith('c19.eligibility.question')) {\n\t\t\t\t\t\ttempQualifierList.push({\n\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\tparent: 'global',\n\t\t\t\t\t\t\tcategory: 'qualifiers',\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttempMiscList.push({\n\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\tparent: 'global',\n\t\t\t\t\t\t\tcategory: 'other',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\tqualifierFullList.current = tempQualifierList.sort((a, b) =>\n\t\t\t\ta.from > b.from ? 1 : -1\n\t\t\t)\n\t\t}\n\n\t\tconst stateStrings: any[] = []\n\t\tif (repoFileData) {\n\t\t\tObject.entries(repoFileData)\n\t\t\t\t.filter(([_key, value]: [string, any]) => value.strings)\n\t\t\t\t.forEach(([aKey, value]: [string, any]) => {\n\t\t\t\t\tObject.entries(value.strings.content).forEach(\n\t\t\t\t\t\t([bKey, value]: [string, any]) => {\n\t\t\t\t\t\t\tstateStrings.push({\n\t\t\t\t\t\t\t\tkey: bKey,\n\t\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\t\tparent: aKey,\n\t\t\t\t\t\t\t\tcategory: 'state',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t}\n\t\tmiscFullList.current = tempMiscList\n\t\t\t.concat(stateStrings)\n\t\t\t.sort((a, b) => (a.key > b.key ? 1 : -1))\n\n\t\tconst tempMiscStateSpecificList: any[] = []\n\t\tconst tempKeys: any[] = []\n\t\tmiscFullList.current.forEach((i) => {\n\t\t\tif (!tempKeys.includes(i.parent) && i.category === 'state') {\n\t\t\t\ttempMiscStateSpecificList.push({\n\t\t\t\t\tkey: i.parent,\n\t\t\t\t\ttext: toProperCase(i.parent),\n\t\t\t\t})\n\n\t\t\t\ttempKeys.push(i.parent)\n\t\t\t}\n\t\t})\n\t\tstateSpecificOptions.current = tempMiscStateSpecificList.sort((a, b) =>\n\t\t\ta.key > b.key ? 1 : -1\n\t\t)\n\t}, [globalFileData, repoFileData])\n\n\tuseEffect(() => {\n\t\tmainLanguage.current = currentLanguage\n\t\tbuildTranslationsLists()\n\t}, [currentLanguage, mainLanguage, buildTranslationsLists])\n\n\tconst onCollapseSection = useCallback(\n\t\t(name: string) => {\n\t\t\tsetSectionCollapse({\n\t\t\t\t...isSectionCollapse,\n\t\t\t\t...{ [name]: !isSectionCollapse[name] },\n\t\t\t})\n\t\t},\n\t\t[setSectionCollapse, isSectionCollapse]\n\t)\n\n\tconst handleLocationTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst value = ev.target.value\n\t\t\tconst idx = locationList.findIndex((i) => i.from === rowItem.from)\n\t\t\tlocationList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\tto: value,\n\t\t\t}\n\t\t\tsetLocationList([...locationList])\n\t\t\tlocationChanges.current = locationList[idx]\n\t\t},\n\t\t[locationChanges, locationList, setLocationList]\n\t)\n\n\tconst handleQualifierTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst value = ev.target.value\n\t\t\tconst idx = qualifierList.findIndex((i) => i.from === rowItem.from)\n\t\t\tqualifierList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\tto: value,\n\t\t\t}\n\t\t\tsetQualifierList([...qualifierList])\n\t\t\tqualifierChanges.current = qualifierList[idx]\n\t\t},\n\t\t[qualifierChanges, qualifierList, setQualifierList]\n\t)\n\n\tconst handleMiscTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst value = ev.target.value\n\t\t\tconst idx = miscList.findIndex((i) => i.from === rowItem.from)\n\t\t\tmiscList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\tto: value,\n\t\t\t}\n\t\t\tsetMiscList([...miscList])\n\t\t\tmiscChanges.current = miscList[idx]\n\t\t},\n\t\t[miscChanges, miscList, setMiscList]\n\t)\n\n\tconst updateLocationTranslation = useCallback((item) => {\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = toProperCase(item.to).trim()\n\t\t\ttranslateLocationName(item)\n\t\t}\n\t}, [])\n\n\tconst updateQualifierTranslation = useCallback((item) => {\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = String(item.to).trim()\n\t\t\ttranslateQualifier(item)\n\t\t}\n\t}, [])\n\n\tconst updateMiscTranslation = useCallback((item) => {\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = String(item.to).trim()\n\t\t\ttranslateMisc(item)\n\t\t}\n\t}, [])\n\n\tconst onLanguageChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\ttoLanguage.current = option.key\n\t\t\tbuildTranslationsLists()\n\t\t\tif (translationFilterState === 'missing') {\n\t\t\t\tsetLocationList(locationFullList.current.filter((i) => !i._to))\n\t\t\t\tsetQualifierList(qualifierFullList.current.filter((i) => !i._to))\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current.filter((i) => !i._to))\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) => !i._to && i.category === miscFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetLocationList(locationFullList.current)\n\t\t\t\tsetQualifierList(qualifierFullList.current)\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current)\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter((i) => i.category === miscFilterState)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\ttranslationFilterState,\n\t\t\tmiscFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tbuildTranslationsLists,\n\t\t\tsetLocationList,\n\t\t\tsetQualifierList,\n\t\t\tsetMiscList,\n\t\t]\n\t)\n\n\tconst onTranslationFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tif (option.key === 'missing') {\n\t\t\t\tsetLocationList(locationFullList.current.filter((i) => !i._to))\n\t\t\t\tsetQualifierList(qualifierFullList.current.filter((i) => !i._to))\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current.filter((i) => !i._to))\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) => !i._to && i.category === miscFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetLocationList(locationFullList.current)\n\t\t\t\tsetQualifierList(qualifierFullList.current)\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current)\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter((i) => i.category === miscFilterState)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetTranslationFilterState(option.key)\n\t\t},\n\t\t[\n\t\t\tsetMiscList,\n\t\t\tsetLocationList,\n\t\t\tsetQualifierList,\n\t\t\tlocationFullList,\n\t\t\tqualifierFullList,\n\t\t\tmiscFullList,\n\t\t\tmiscFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tsetTranslationFilterState,\n\t\t]\n\t)\n\n\tconst onMiscFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tconst selectedMiscStateOptionKey =\n\t\t\t\tmiscStateSpecFilterState || stateSpecificOptions.current[0].key\n\t\t\tconst filteredList = miscFullList.current.filter((i) => {\n\t\t\t\tif (option.key === 'all') {\n\t\t\t\t\treturn translationFilterState === 'missing' ? !i._to : i\n\t\t\t\t} else {\n\t\t\t\t\tif (translationFilterState === 'missing') {\n\t\t\t\t\t\tif (option.key === 'state') {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\ti.category === option.key &&\n\t\t\t\t\t\t\t\ti.parent === selectedMiscStateOptionKey\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn !i._to && i.category === option.key\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (option.key === 'state') {\n\t\t\t\t\t\t\treturn i.category === option.key && selectedMiscStateOptionKey\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn i.category === option.key\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetMiscList(filteredList)\n\t\t\tsetMiscFilterState(option.key)\n\t\t\tsetMiscStateSpecFilterState(selectedMiscStateOptionKey)\n\t\t},\n\t\t[\n\t\t\tmiscFullList,\n\t\t\ttranslationFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tsetMiscStateSpecFilterState,\n\t\t\tsetMiscList,\n\t\t\tsetMiscFilterState,\n\t\t]\n\t)\n\n\tconst onMiscStateSpecificFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tsetMiscList(miscFullList.current.filter((i) => i.parent === option.key))\n\t\t\tsetMiscStateSpecFilterState(option.key)\n\t\t},\n\t\t[setMiscList, miscFullList]\n\t)\n\n\tconst onReaderLoadData = (readerEvent: any) => {\n\t\ttry {\n\t\t\tconst content = readerEvent.target.result\n\t\t\tconst contentObj = convertCSVDataToObj(parse(content, { columns: true }))\n\t\t\tif (Object.keys(contentObj).length > 0) {\n\t\t\t\tupdateStrings(contentObj)\n\t\t\t\tsetShowLoading(false)\n\t\t\t} else {\n\t\t\t\tthrow new Error('Invalid File Content.')\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetErrorMessage(err)\n\t\t\tsetShowLoading(false)\n\t\t}\n\t}\n\n\tconst onFileUpload = (e: any) => {\n\t\tsetErrorMessage(undefined)\n\t\tif (e.target.files.length > 0) {\n\t\t\tsetShowLoading(true)\n\t\t\tconst file = e.target.files[0]\n\t\t\tif (file.type === 'text/csv') {\n\t\t\t\tconst reader = new FileReader()\n\t\t\t\treader.onload = onReaderLoadData\n\t\t\t\treader.readAsText(file, 'UTF-8')\n\t\t\t} else {\n\t\t\t\tsetErrorMessage(new Error('Invalid File Type.'))\n\t\t\t\tsetShowLoading(false)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst triggerFileOnClick = () => {\n\t\tfileUploadRef.current?.click()\n\t}\n\n\tconst searchForStrings = (elem: any, resultObj: any) => {\n\t\tif (elem.strings && elem.strings.content) {\n\t\t\tObject.assign(resultObj, elem.strings.content)\n\t\t}\n\t\tif (elem.regions && elem.regions.length > 0) {\n\t\t\telem.regions.forEach((region: any) => {\n\t\t\t\tsearchForStrings(region, resultObj)\n\t\t\t})\n\t\t}\n\t}\n\n\tconst onFileDownload = () => {\n\t\tconst stringsObj = {}\n\t\tObject.assign(\n\t\t\tstringsObj,\n\t\t\tglobalFileData.customStrings.content,\n\t\t\tglobalFileData.cdcStateNames.content,\n\t\t\tglobalFileData.cdcStateLinks.content\n\t\t)\n\t\tObject.keys(repoFileData).forEach((location: string) => {\n\t\t\tsearchForStrings(repoFileData[location], stringsObj)\n\t\t})\n\t\tconst stringData = createCSVDataString(stringsObj)\n\t\tconst csvData = new Blob([stringData], { type: 'text/csv' })\n\t\tconst csvUrl = URL.createObjectURL(csvData)\n\t\twindow.open(csvUrl)\n\t}\n\n\treturn (\n\t\t<div className=\"translatePageContainer\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ Translate</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">Translate</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{errorMessage && (\n\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\tmessageBarType={MessageBarType.error}\n\t\t\t\t\t\t\tdismissButtonAriaLabel=\"Close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p>Unexpected {errorMessage?.toString()}</p>\n\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t)}\n\t\t\t\t\t{!showLoading ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<div className=\"filterGroup\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label htmlFor={\"availDropdown\"}>Translate from:</label>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tid=\"availDropdown\"\n\t\t\t\t\t\t\t\t\t\tselectedKey={toLanguage.current}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Available languages\"\n\t\t\t\t\t\t\t\t\t\toptions={languageOptions}\n\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\tonChange={onLanguageChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label htmlFor={\"translateDropdown\"}>Show:</label>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tid=\"translateDropdown\"\n\t\t\t\t\t\t\t\t\t\tselectedKey={translationFilterState}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Needs Translation\"\n\t\t\t\t\t\t\t\t\t\toptions={translationFilter}\n\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\tonChange={onTranslationFilterChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"fileOptions\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tref={fileUploadRef}\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\tonChange={onFileUpload}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<button onClick={onFileDownload}>\n\t\t\t\t\t\t\t\t\t\t<FontIcon iconName=\"Download\" />\n\t\t\t\t\t\t\t\t\t\tDownload Template\n\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t<button onClick={triggerFileOnClick}>\n\t\t\t\t\t\t\t\t\t\t<FontIcon iconName=\"CircleAdditionSolid\" className=\"blue\" />\n\t\t\t\t\t\t\t\t\t\tUpload File\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\t\tonClick={() => onCollapseSection('locations')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\tisSectionCollapse.locations ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>Locations</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isSectionCollapse.locations &&\n\t\t\t\t\t\t\t\t(locationList.length > 0 ? (\n\t\t\t\t\t\t\t\t\tlocationList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`locationRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleLocationTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateLocationTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\t\tNo missing location translations found for:{' '}\n\t\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\t\tonClick={() => onCollapseSection('qualifiers')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\tisSectionCollapse.qualifiers\n\t\t\t\t\t\t\t\t\t\t\t? 'ChevronRight'\n\t\t\t\t\t\t\t\t\t\t\t: 'ChevronDown'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>Qualifiers</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isSectionCollapse.qualifiers &&\n\t\t\t\t\t\t\t\t(qualifierList.length > 0 ? (\n\t\t\t\t\t\t\t\t\tqualifierList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`qualifierRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t} qualifier`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleQualifierTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateQualifierTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\t\tNo missing qualifier translations found for:{' '}\n\t\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\t\tonClick={() => onCollapseSection('misc')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\tisSectionCollapse.misc ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>Miscellaneous</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isSectionCollapse.misc &&\n\t\t\t\t\t\t\t\t(miscList.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"miscFilterGroup\">\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={miscFilterState}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Filter Miscellaneous\"\n\t\t\t\t\t\t\t\t\t\t\t\toptions={miscFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onMiscFilterChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{miscFilterState === 'state' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={miscStateSpecFilterState}\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={stateSpecificOptions.current}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onMiscStateSpecificFilterChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{miscList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`miscRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t\t} misc`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleMiscTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateMiscTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\t\tNo missing miscellaneous translations found for:{' '}\n\t\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<section className=\"loadingContainer\">\n\t\t\t\t\t\t\t<ProgressIndicator description=\"Updating translations...\" />\n\t\t\t\t\t\t</section>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { useEffect } from 'react'\nimport { clearState } from '../store/localStorage'\n\nconst GH_REPO = process.env.REACT_APP_REPO_NAME\nconst GH_REPO_OWNER = process.env.REACT_APP_REPO_OWNER\n\nexport default observer(function UnAuthorized() {\n\tuseEffect(() => {\n\t\tclearState()\n\t}, [])\n\n\treturn (\n\t\t<div className=\"appBodyLeft\">\n\t\t\t<div className=\"dashboardPageWrapper\">\n\t\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t\t<div className=\"mainTitle\">Welcome!</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<section style={{ width: '70%', margin: '0px auto' }}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThank you for your interest in helping to manage the data,\n\t\t\t\t\t\tunfortunately right now access to this tool requires collaborator\n\t\t\t\t\t\tpermissions on{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref={`https://www.github.com/${GH_REPO_OWNER}/${GH_REPO}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tthis repo\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t. Feel free to request access over on GitHub!\n\t\t\t\t\t</p>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDropdown,\n\tIconButton,\n\tPersona,\n\tPersonaSize,\n\tPivot,\n\tPivotItem,\n\tContextualMenu,\n\tMessageBar,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useState, useEffect, useRef } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { loginUser } from '../actions/authActions'\nimport { logoutUser } from '../mutators/authMutators'\nimport { setCurrentLanguage } from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { getLanguageOptions } from '../utils/textUtils'\nimport Dashboard from './Dashboard'\nimport { Footer } from './Footer'\nimport Locations from './Locations'\nimport Login from './Login'\nimport QualifierPanel from './QualifierPanel'\nimport Review from './Review'\nimport Translate from './Translate'\nimport UnAuthorized from './UnAuthorized'\n\nimport './App_reset_styles.scss'\nimport './App.scss'\n\nexport default observer(function App() {\n\tconst state = getAppStore()\n\tconst [isPanelOpen, { setTrue: showPanel, setFalse: hidePanel }] = useBoolean(\n\t\tfalse\n\t)\n\tconst [\n\t\tisPersonaMenuOpen,\n\t\t{ setTrue: showPersonaMenu, setFalse: hidePersonaMenu },\n\t] = useBoolean(false)\n\tconst [selectedKey, setSelectedKey] = useState<string>('Dashboard')\n\tconst personaComponent = useRef(null)\n\n\tuseEffect(() => {\n\t\tif (state.accessToken) loginUser()\n\t}, [state.accessToken])\n\n\tuseEffect(() => {\n\t\tif (state.pendingChanges) {\n\t\t\twindow.onbeforeunload = function () {\n\t\t\t\treturn true\n\t\t\t}\n\t\t} else {\n\t\t\twindow.onbeforeunload = null\n\t\t}\n\t}, [state.pendingChanges])\n\n\tconst togglePanel = useCallback(\n\t\t(item?: any) => {\n\t\t\tif (item.props.headerText === 'Locations') {\n\t\t\t\tshowPanel()\n\t\t\t} else {\n\t\t\t\thidePanel()\n\t\t\t}\n\t\t\tsetSelectedKey(item.props.headerText)\n\t\t},\n\t\t[showPanel, hidePanel, setSelectedKey]\n\t)\n\n\tconst showDashboard = useCallback(() => {\n\t\tsetSelectedKey('Dashboard')\n\t}, [setSelectedKey])\n\n\tconst renderRepoMessageBar = () => {\n\t\tif (state.loadedPRData && state.prChanges) {\n\t\t\treturn (\n\t\t\t\t<MessageBar\n\t\t\t\t\tmessageBarType={5}\n\t\t\t\t\tisMultiline={true}\n\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t>\n\t\t\t\t\tYou are currently working on: <strong>PR: {state.loadedPRData.number} - {state.loadedPRData.title}</strong><br/>\n\t\t\t\t\tLast updated by: {state.prChanges?.last_commit?.commit?.committer?.name}<br/>\n\t\t\t\t\tLast updated on: {new Date(state.loadedPRData.updated_at).toLocaleString()}\n\t\t\t\t</MessageBar>\n\t\t\t)\n\t\t}\n\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className=\"rootContentWrapper\">\n\t\t\t{state.isAuthenticated ? (\n\t\t\t\t<>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t<div className=\"appPageContainer\">\n\t\t\t\t\t\t\t\t<div className=\"appHeaderWrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"appHeaderContainer\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\ticonProps={{ iconName: 'waffle' }}\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Apps\"\n\t\t\t\t\t\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\t\t\t\t\t\ticon: { fontSize: '24px', color: 'white' },\n\t\t\t\t\t\t\t\t\t\t\t\trootHovered: { backgroundColor: 'transparent' },\n\t\t\t\t\t\t\t\t\t\t\t\trootPressed: { backgroundColor: 'transparent' },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className=\"appHeaderTitle\">Data Composer</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"appHeaderPersona\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey={state.currentLanguage}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e, o) => setCurrentLanguage(o)}\n\t\t\t\t\t\t\t\t\t\t\t\tariaLabel=\"Pick Language\"\n\t\t\t\t\t\t\t\t\t\t\t\toptions={getLanguageOptions()}\n\t\t\t\t\t\t\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tdropdown: { border: 'none' },\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaretDown: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tdropdownOptionText: { fontSize: '14px' },\n\t\t\t\t\t\t\t\t\t\t\t\t\troot: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectors: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t':hover': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,.25);',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tref={personaComponent}\n\t\t\t\t\t\t\t\t\t\t\tonClick={showPersonaMenu}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"appHeaderPersonaDetails\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"appHeaderUsername\">\n\t\t\t\t\t\t\t\t\t\t\t\t{state.userDisplayName}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Persona\n\t\t\t\t\t\t\t\t\t\t\t\ttext={state.userDisplayName}\n\t\t\t\t\t\t\t\t\t\t\t\tsize={PersonaSize.size32}\n\t\t\t\t\t\t\t\t\t\t\t\thidePersonaDetails={true}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<ContextualMenu\n\t\t\t\t\t\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'logoutUserPersonaMenu',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: 'Logout',\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlogoutUser()\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\thidden={!isPersonaMenuOpen}\n\t\t\t\t\t\t\t\t\t\t\ttarget={personaComponent}\n\t\t\t\t\t\t\t\t\t\t\tonItemClick={hidePersonaMenu}\n\t\t\t\t\t\t\t\t\t\t\tonDismiss={hidePersonaMenu}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"appBodyWrapper\">\n\t\t\t\t\t\t\t\t\t{state.isAuthorized ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"appBodyLeft\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Pivot\n\t\t\t\t\t\t\t\t\t\t\t\t\tonLinkClick={togglePanel}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={selectedKey}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem headerText=\"Dashboard\" itemKey=\"Dashboard\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.pendingChanges && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou have pending changes, please click on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treview tab to submit these changes.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderRepoMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dashboard />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem headerText=\"Locations\" itemKey=\"Locations\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.pendingChanges && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou have pending changes, please click on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treview tab to submit these changes.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderRepoMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Locations />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theaderText=\"Translate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemKey=\"Translate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.pendingChanges && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou have pending changes, please click on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treview tab to submit these changes.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderRepoMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Translate />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{state.pendingChanges && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem headerText=\"Review\" itemKey=\"Review\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Review showDashboard={showDashboard} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Pivot>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{state.isEditable && isPanelOpen && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"appBodyRight\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<QualifierPanel />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<UnAuthorized />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t\t<div>404 page not found.</div>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t)}\n\t\t\t<Footer />\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nimport { AppState } from '../store/schema/AppState'\n\nexport const firebaseApp = firebase.initializeApp({\n\tapiKey: process.env.REACT_APP_FIREBASE_KEY,\n\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n})\n\nexport const loginUserService = async (): Promise<AppState | undefined> => {\n\tlet authResp = undefined\n\n\tconst provider = new firebase.auth.GithubAuthProvider()\n\tprovider.addScope('repo')\n\n\tconst response = await firebaseApp.auth().signInWithPopup(provider)\n\n\tif (response) {\n\t\tconst oauthCreds = response.credential as firebase.auth.OAuthCredential\n\t\tauthResp = {\n\t\t\tisAuthenticated: true,\n\t\t\taccessToken: oauthCreds.accessToken,\n\t\t\temail: response.user?.email,\n\t\t\tuserDisplayName: response.user?.displayName,\n\t\t\tusername: response.additionalUserInfo?.username,\n\t\t} as AppState\n\t}\n\n\treturn authResp\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport parse from 'csv-parse/lib/sync'\nimport { getAppStore } from '../store/store'\nimport { convertCSVDataToObj } from '../utils/dataUtils'\nimport {\n\tb64_to_utf8,\n\tutf8_to_b64,\n\tcreateCSVDataString,\n} from '../utils/textUtils'\n\nconst createPath = (obj: any, pathInput: string, value: any = undefined) => {\n\tlet path = pathInput.split('/')\n\tlet current = obj\n\twhile (path.length > 1) {\n\t\tconst [head, ...tail] = path\n\t\tpath = tail\n\t\tif (current[head] === undefined) {\n\t\t\tcurrent[head] = {}\n\t\t}\n\t\tcurrent = current[head]\n\t}\n\tif (!current[path[0]]) {\n\t\tcurrent[path[0]] = {}\n\t} else {\n\t\tcurrent[path[0]] = { ...current[path[0]], ...value }\n\t}\n\treturn obj\n}\n\nconst getContent = async (url: string, token: string) => {\n\tconst response = await fetch(`${url}`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAuthorization: `token ${token}`,\n\t\t},\n\t})\n\tconst data = await response.json()\n\n\treturn data\n}\n\nexport const repoServices = async (\n\tcommand: string,\n\textraData: any = undefined\n): Promise<any | undefined> => {\n\tconst state = getAppStore()\n\tconst githubRepoOwner = process.env.REACT_APP_REPO_OWNER\n\tconst githubRepoName = process.env.REACT_APP_REPO_NAME\n\n\tswitch (command) {\n\t\tcase 'checkAccess':\n\t\t\tconst loadAccessResponse = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/collaborators/${state.username}`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\tAccept: 'application/vnd.github.v3+json',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\t\t\treturn loadAccessResponse\n\n\t\tcase 'getBranches':\n\t\t\tconst loadBranchesResponse = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/branches`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\treturn await loadBranchesResponse.json()\n\t\tcase 'getPullRequests':\n\t\t\tconst loadPRResponse = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/pulls/${extraData}`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst commentResp = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues/${extraData}/comments`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst commentsObj = await commentResp.json()\n\t\t\tconst changes: any[] = []\n\t\t\tif (commentsObj && commentsObj.length > 0) {\n\t\t\t\tcommentsObj.forEach((comment: { body: string }) => {\n\t\t\t\t\tchanges.push(JSON.parse(comment.body.substr(1, comment.body.length - 2)))\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst commitResp = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/pulls/${extraData}/commits`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\treturn {data: await loadPRResponse.json(), changes, commits: await commitResp.json()}\n\t\tcase 'getIssues':\n\t\t\tconst loadIssuesResponse = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst prList = await loadIssuesResponse.clone().json()\n\t\t\tconst prChangeList: any[] = []\n\t\t\tprList.forEach(async (item: any) => {\n\t\t\t\tconst commentResp = await fetch(\n\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues/${item.number}/comments`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tconst commentsObj = await commentResp.json()\n\t\t\t\tif (commentsObj && commentsObj.length > 0) {\n\t\t\t\t\tconst changes = JSON.parse(\n\t\t\t\t\t\tcommentsObj[0].body.substr(1, commentsObj[0].body.length - 2)\n\t\t\t\t\t)\n\t\t\t\t\tprChangeList.push({\n\t\t\t\t\t\tprNumber: item.number,\n\t\t\t\t\t\tprDescription: item.body,\n\t\t\t\t\t\tprChanges: changes,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn [await loadIssuesResponse.json(), prChangeList]\n\n\n\t\tcase 'getRepoFileData':\n\t\t\tconst query = !extraData\n\t\t\t\t? `https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data`\n\t\t\t\t: `https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data?ref=${extraData}`\n\n\t\t\tconst dataFolderResp = await fetch(query,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\t\t\tconst dataFolderObj = await dataFolderResp.json()\n\t\t\tconst policyFolderGitUrl = dataFolderObj.find(\n\t\t\t\t(folder: { name: string }) => folder.name === 'policies'\n\t\t\t).git_url\n\t\t\tconst loadPolicyFolderResponse = await fetch(\n\t\t\t\t`${policyFolderGitUrl}?recursive=true`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\t\t\tconst policyFolderData = await loadPolicyFolderResponse.json()\n\t\t\tconst stateData: any = {}\n\t\t\tpolicyFolderData.tree.forEach(async (element: any) => {\n\t\t\t\tif (element.type === 'tree') {\n\t\t\t\t\tcreatePath(stateData, element.path)\n\t\t\t\t} else {\n\t\t\t\t\tconst lastInstance = element.path.lastIndexOf('/')\n\t\t\t\t\tconst filePath = element.path.substring(0, lastInstance)\n\t\t\t\t\tconst fileName: string = element.path.substring(lastInstance + 1)\n\t\t\t\t\tconst fileType: string = fileName.split('.')[0]\n\t\t\t\t\tconst fileObj: any = {}\n\n\t\t\t\t\tconst fileData = await getContent(\n\t\t\t\t\t\tString(element.url),\n\t\t\t\t\t\tString(state.accessToken)\n\t\t\t\t\t)\n\n\t\t\t\t\tswitch (fileName.split('.')[1].toLowerCase()) {\n\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\tfileObj[fileType] = {\n\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\tcontent: JSON.parse(b64_to_utf8(fileData.content)),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'md':\n\t\t\t\t\t\t\tfileObj['desc_md'] = {\n\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\tcontent: b64_to_utf8(fileData.content),\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'csv':\n\t\t\t\t\t\t\tfileObj['strings'] = {\n\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\tcontent: convertCSVDataToObj(\n\t\t\t\t\t\t\t\t\tparse(b64_to_utf8(fileData.content), { columns: true })\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fileObj !== {}) {\n\t\t\t\t\t\tcreatePath(stateData, filePath, fileObj)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst localizationFolderGitUrl = dataFolderObj.find(\n\t\t\t\t(folder: { name: string }) => folder.name === 'localization'\n\t\t\t).git_url\n\n\t\t\tconst localizationResponse = await fetch(\n\t\t\t\t`${localizationFolderGitUrl}?recursive=true`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst localizationData = await localizationResponse.json()\n\n\t\t\tconst customStrings = localizationData.tree.find(\n\t\t\t\t(file: { path: string }) => file.path === 'custom-strings.csv'\n\t\t\t)\n\t\t\tconst cdcStateNames = localizationData.tree.find(\n\t\t\t\t(file: { path: string }) => file.path === 'cdc-state-names.csv'\n\t\t\t)\n\t\t\tconst cdcStateLinks = localizationData.tree.find(\n\t\t\t\t(file: { path: string }) => file.path === 'cdc-state-links.csv'\n\t\t\t)\n\n\t\t\tlet customStringsData: any = {}\n\t\t\tlet cdcStateNamesData: any = {}\n\t\t\tlet cdcStateLinksData: any = {}\n\n\t\t\tconst customStringsDataParse = await getContent(\n\t\t\t\tString(customStrings.url),\n\t\t\t\tString(state.accessToken)\n\t\t\t)\n\t\t\tcustomStringsData = convertCSVDataToObj(\n\t\t\t\tparse(b64_to_utf8(customStringsDataParse.content), { columns: true })\n\t\t\t)\n\n\t\t\tconst cdcStateNamesDataParse = await getContent(\n\t\t\t\tString(cdcStateNames.url),\n\t\t\t\tString(state.accessToken)\n\t\t\t)\n\t\t\tcdcStateNamesData = convertCSVDataToObj(\n\t\t\t\tparse(b64_to_utf8(cdcStateNamesDataParse.content), { columns: true })\n\t\t\t)\n\n\t\t\tconst cdcStateLinksDataParse = await getContent(\n\t\t\t\tString(cdcStateLinks.url),\n\t\t\t\tString(state.accessToken)\n\t\t\t)\n\t\t\tcdcStateLinksData = convertCSVDataToObj(\n\t\t\t\tparse(b64_to_utf8(cdcStateLinksDataParse.content), { columns: true })\n\t\t\t)\n\n\t\t\tcustomStrings['content'] = customStringsData\n\t\t\tcdcStateNames['content'] = cdcStateNamesData\n\t\t\tcdcStateLinks['content'] = cdcStateLinksData\n\n\t\t\treturn [stateData, customStrings, cdcStateNames, cdcStateLinks]\n\n\t\tcase 'createPR':\n\t\t\tif (state?.mainBranch) {\n\t\t\t\tconst mainBranch = state?.mainBranch\n\t\t\t\tlet branchName = `refs/heads/${state.username}-policy-${Date.now()}`\n\t\t\t\tconst globalUpdates = extraData[0]\n\t\t\t\tconst locationUpdates = extraData[1]\n\t\t\t\tconst prFormData = extraData[3]\n\t\t\t\tconst changeSummary = extraData[4]\n\n\t\t\t\tlet workingBranch = state.loadedPRData\n\n\t\t\t\tif (!state.loadedPRData) {\n\t\t\t\t\tconst createBranchResponse = await fetch(\n\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/git/refs`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tref: branchName,\n\t\t\t\t\t\t\t\tsha: mainBranch.commit.sha,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\tworkingBranch = await createBranchResponse.json()\n\t\t\t\t} else {\n\t\t\t\t\tbranchName = `refs/heads/${state.loadedPRData.head.ref}`\n\t\t\t\t}\n\n\t\t\t\tif (workingBranch) {\n\t\t\t\t\tif (globalUpdates) {\n\t\t\t\t\t\tfor (const i in globalUpdates) {\n\t\t\t\t\t\t\tconst updateObj = globalUpdates[i]\n\t\t\t\t\t\t\tconst fileData = createCSVDataString(updateObj.content)\n\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/localization/${updateObj.path}`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\tmessage: `updated ${updateObj.path}`,\n\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(fileData),\n\t\t\t\t\t\t\t\t\t\tsha: updateObj.sha,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (locationUpdates) {\n\t\t\t\t\t\tfor (const i in locationUpdates) {\n\t\t\t\t\t\t\tconst locationObj = locationUpdates[i].data\n\n\t\t\t\t\t\t\t//Info\n\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${locationObj.info.path}`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\tmessage: `updated ${locationObj.info.path}`,\n\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(locationObj.info.content, null, '\\t')\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tsha: locationObj.info.sha,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t//Vaccingation\n\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${locationObj.vaccination.path}`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\tmessage: `updated ${locationObj.vaccination.path}`,\n\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\t\tlocationObj.vaccination.content,\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t'\\t'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tsha: locationObj.vaccination.sha,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t//Strings\n\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${locationObj.strings.path}`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\tmessage: `updated ${locationObj.strings.path}`,\n\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\tcreateCSVDataString(locationObj.strings.content)\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tsha: locationObj.strings.sha,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Regions\n\t\t\t\t\t\t\tif (locationObj.regions) {\n\t\t\t\t\t\t\t\tconst regionKeys = Object.keys(locationObj.regions)\n\t\t\t\t\t\t\t\tfor (const key of regionKeys) {\n\t\t\t\t\t\t\t\t\tconst regionObj = locationObj.regions[key]\n\t\t\t\t\t\t\t\t\t//Info\n\t\t\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${regionObj.info.path}`,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: `updated ${regionObj.info.path}`,\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(regionObj.info.content, null, '\\t')\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tsha: regionObj.info.sha,\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t//Vaccination\n\t\t\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${regionObj.vaccination.path}`,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: `updated ${regionObj.vaccination.path}`,\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tregionObj.vaccination.content,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'\\t'\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tsha: regionObj.vaccination.sha,\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tlet prTitle = ''\n\t\t\t\tif (!state.loadedPRData) {\n\t\t\t\t\tprTitle = !prFormData.prTitle ? 'auto PR creation' : prFormData.prTitle\n\t\t\t\t\tconst prResp = await fetch(\n\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/pulls`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\thead: branchName,\n\t\t\t\t\t\t\t\tbase: 'main',\n\t\t\t\t\t\t\t\ttitle: prTitle,\n\t\t\t\t\t\t\t\tbody: prFormData.prDetails\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\tconst prRespClone = await prResp.clone().json()\n\n\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues/${prRespClone.number}/labels`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tlabels: ['data-composer-submission', 'requires-data-accuracy-review']\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues/${prRespClone.number}/comments`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tbody: `\\`${JSON.stringify(changeSummary)}\\``\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\treturn prResp.json()\n\t\t\t\t} else {\n\t\t\t\t\tprTitle = !prFormData.prTitle ? state.loadedPRData.title : prFormData.prTitle\n\t\t\t\t\tconst prDetails = !prFormData.prDetails ? state.loadedPRData.body : prFormData.prDetails\n\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/pulls/${state.loadedPRData.number}`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\ttitle: prTitle,\n\t\t\t\t\t\t\t\tbody: prDetails\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues/${state.loadedPRData.number}/comments`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tbody: `\\`${JSON.stringify(changeSummary)}\\``\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\treturn state.loadedPRData\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t}\n\n\treturn undefined\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { orchestrator } from 'satcheljs'\nimport { loginUser } from '../actions/authActions'\nimport { initializeGitData } from '../actions/repoActions'\nimport { setUserAuthData, setUserNoAccess } from '../mutators/authMutators'\nimport { loginUserService } from '../services/loginUserService'\nimport { repoServices } from '../services/repoServices'\nimport { getAppStore } from '../store/store'\n\norchestrator(loginUser, async () => {\n\ttry {\n\t\tlet resp: any\n\t\tconst state = getAppStore()\n\n\t\tif (state.accessToken) {\n\t\t\tresp = {\n\t\t\t\taccessToken: state.accessToken,\n\t\t\t\temail: state.email,\n\t\t\t\tisAuthenticated: state.isAuthenticated,\n\t\t\t\tuserDisplayName: state.userDisplayName,\n\t\t\t\tusername: state.username,\n\t\t\t}\n\t\t} else {\n\t\t\tresp = await loginUserService()\n\t\t}\n\n\t\tif (resp) {\n\t\t\tsetUserAuthData(resp)\n\t\t\tconst accessResp = await repoServices('checkAccess')\n\t\t\tif (accessResp.ok) {\n\t\t\t\tinitializeGitData()\n\t\t\t} else {\n\t\t\t\tsetUserNoAccess()\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tconsole.warn('Error logging in', error)\n\t}\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { orchestrator } from 'satcheljs'\nimport {\n\tcreatePR,\n\tgetRepoFileData,\n\tinitializeGitData,\n\tloadPR\n} from '../actions/repoActions'\nimport {\n\tsetBranchList,\n\thandleCreatePR,\n\tsetRepoFileData,\n\tsetIssuesList,\n\tinitStoreData,\n\tsetLoadedPRData\n} from '../mutators/repoMutators'\nimport { repoServices } from '../services/repoServices'\n\n\norchestrator(createPR, async (message) => {\n\tconst { fileData } = message\n\tlet resp = await repoServices('createPR', fileData)\n\n\tif(resp){\n\n\t\tresp = await repoServices('getBranches')\n\t\tsetBranchList(resp)\n\n\t\tresp = await repoServices('getRepoFileData')\n\t\tsetRepoFileData(resp)\n\n\t\tresp = await repoServices('getIssues')\n\t\tsetIssuesList(resp, fileData[2]())\n\n\t\thandleCreatePR()\n\t}\n})\n\norchestrator(getRepoFileData, async () => {\n\tconst resp = await repoServices('getRepoFileData')\n\tsetRepoFileData(resp)\n})\n\norchestrator(initializeGitData, async () => {\n\tinitStoreData(true)\n\n\tlet resp = await repoServices('getBranches')\n\tsetBranchList(resp)\n\n\tresp = await repoServices('getRepoFileData')\n\tsetRepoFileData(resp)\n\n\tresp = await repoServices('getIssues')\n\tsetIssuesList(resp)\n\n\thandleCreatePR()\n\n\tinitStoreData(false)\n})\n\norchestrator(loadPR, async (message) => {\n\tconst { prNumber } = message\n\n\tif (prNumber) {\n\t\tconst prResp = await repoServices('getPullRequests', prNumber)\n\t\tsetLoadedPRData(prResp)\n\n\t\tconst resp = await repoServices('getRepoFileData', prResp.data.head.ref)\n\t\tsetRepoFileData(resp)\n\t}\n})","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { initializeIcons } from '@fluentui/react/lib/Icons'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './components/App'\nimport './orchestrators/authOrchestrators'\nimport './orchestrators/repoOrchestrators'\n\nfunction render() {\n\ttry {\n\t\tconst basePath = process.env.REACT_APP_BASE_PATH\n\t\tinitializeIcons()\n\t\tReactDOM.render(\n\t\t\t<React.StrictMode>\n\t\t\t\t<Router basename={basePath}>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</React.StrictMode>,\n\t\t\tdocument.getElementById('root')\n\t\t)\n\t} catch (err) {\n\t\tconsole.error('error rendering app', err)\n\t}\n}\n\nrender()\n"],"sourceRoot":""}