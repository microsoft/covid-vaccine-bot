/*! For license information please see main.975c9de7.chunk.js.LICENSE.txt */
(this["webpackJsonp@covid-vax-bot/data-portal"]=this["webpackJsonp@covid-vax-bot/data-portal"]||[]).push([[0],{111:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},203:function(e,t){},205:function(e,t){},214:function(e,t,n){"use strict";n.r(t);var a=n(270),i=n(0),c=n.n(i),o=n(52),s=n.n(o),r=n(98),l=n(6),u=n(290),d=n(272),b=n(271),h=n(4),j=n(279),f=n(134),v=n(280),p=n(256),m=n(15),g=n(18),O=n(7),x=n(20),y=n(11),k=Object(y.createStore)("appState",{isAuthenticated:!1,isAuthorized:!0,accessToken:void 0,username:void 0,email:void 0,userDisplayName:void 0,branches:void 0,issues:void 0,repoFileData:void 0,initRepoFileData:void 0,globalFileData:void 0,initGlobalFileData:void 0,mainBranch:void 0,currentLanguage:"en-us",toggleQualifier:!1,isEditable:!0,pendingChanges:!1,isDataRefreshing:!1}),C=function(e){var t={};return e.forEach((function(e){var n=Object.keys(e).find((function(e){return"String ID"===e.trim()})),a=e[n];delete e[n],t[a.toLowerCase()]=e})),t},N=Object(y.mutatorAction)("initStoreData",(function(e){k().isDataRefreshing=e})),w=Object(y.mutatorAction)("setBranchList",(function(e){if(e){var t=k();t.branches=e;var n=e.find((function(e){return"main"===e.name}));t.mainBranch=n}})),D=Object(y.mutatorAction)("setIssuesList",(function(e,t){e&&(k().issues=e,t&&t())})),I=Object(y.mutatorAction)("handleCreatePR",(function(){k().pendingChanges=!1})),S=Object(y.mutatorAction)("setRepoFileData",(function(e){if(e){var t=k();t.repoFileData=e[0],t.initRepoFileData=e[0],t.globalFileData={customStrings:e[1],cdcStateNames:e[2],cdcStateLinks:e[3]},t.initGlobalFileData={customStrings:e[1],cdcStateNames:e[2],cdcStateLinks:e[3]}}})),L=Object(y.mutatorAction)("setCurrentLanguage",(function(e){e&&(k().currentLanguage=e.key)})),F=Object(y.mutatorAction)("updateLocationList",(function(e,t,n){if(e){var a=k(),i=function(e){var t=e.details.replace(/\s/g,"_").toLowerCase();return{info:{content:{id:t,metadata:{code_alpha:t,code_numeric:0},name:e.details,type:e.regionType},name:"info.json",path:"".concat(t,"/info.json"),sha:"",type:"info",url:""},strings:{content:{}},vaccination:{content:{activePhase:"",links:{eligibility:{url:e.eligibility,text:""},eligibility_plan:{url:e.eligibilityPlan,text:""},info:{url:e.info,text:"cdc/".concat(t,"/state_link")},providers:{url:e.providers,text:"c19.links/vax_providers"},workflow:{url:e.workflow,text:"c19.links/vax_quiz"},scheduling:{url:e.scheduling,text:"c19.links/schedule_vax"},scheduling_phone:{url:"tel:".concat(e.schedulingPhone),text:e.schedulingPhone}}},name:"vaccination.json",path:"".concat(t,"/vaccination.json"),sha:"",type:"vaccination",url:""}}}(e);if(a.pendingChanges=!0,t){var c=a.repoFileData[n.key];i.info.path="".concat(n.key,"/regions/").concat(i.info.path),i.vaccination.path="".concat(n.key,"/regions/").concat(i.vaccination.path);var o="c19.link/scheduling.phone.".concat(i.info.content.id).toLowerCase();if(c.strings.content[o]=Object(x.a)({},a.currentLanguage,e.schedulingPhone),i.vaccination.content.links.scheduling_phone.text=o,""!==e.schedulingPhoneDesc){var s="c19.link/scheduling.phone.description.".concat(i.info.content.id).toLowerCase();c.strings.content[s]=Object(x.a)({},a.currentLanguage,e.schedulingPhoneDesc),i.vaccination.content.links.scheduling_phone.description=s}c.regions?c.regions[i.info.content.id]=i:c.regions=Object(x.a)({},i.info.content.id,i),a.repoFileData=Object(O.a)({},a.repoFileData)}else{a.globalFileData.cdcStateNames.content["cdc/".concat(i.info.content.id,"/state_name")]={"en-us":e.details,"es-us":e.details,"vi-vn":e.details},i.strings.path="".concat(i.info.content.id,"/").concat(i.info.content.id,".csv");var r="c19.link/scheduling.phone.".concat(i.info.content.id).toLowerCase(),l=Object(x.a)({},r,Object(x.a)({},a.currentLanguage,e.schedulingPhone));if(i.vaccination.content.links.scheduling_phone.text=r,""!==e.schedulingPhoneDesc){var u="c19.link/scheduling.phone.description.".concat(i.info.content.id).toLowerCase();l[u]=Object(x.a)({},a.currentLanguage,e.schedulingPhoneDesc),i.vaccination.content.links.scheduling_phone.description=u}i.strings.content=l,a.repoFileData[i.info.content.id]=i,a.repoFileData=Object(O.a)({},a.repoFileData)}}})),R=Object(y.mutatorAction)("updateLocationData",(function(e,t,n,a){if(e){var i=k();if(i.pendingChanges=!0,t){var c=i.repoFileData[a.key],o=c.regions[n.key];o.info.content.name=e.details;var s="c19.link/scheduling.phone.".concat(o.info.content.id).toLowerCase();if(c.strings.content[s]=Object(x.a)({},i.currentLanguage,e.schedulingPhone),o.vaccination.content.links={eligibility:{url:e.eligibility},eligibility_plan:{url:e.eligibilityPlan},info:{url:e.info,text:"cdc/".concat(a.key,"/state_link")},providers:{url:e.providers,text:"c19.links/vax_providers"},workflow:{url:e.workflow,text:"c19.links/vax_quiz"},scheduling:{url:e.scheduling,text:"c19.links/schedule_vax"},scheduling_phone:{url:"tel:".concat(e.schedulingPhone),text:s}},""!==e.schedulingPhoneDesc){var r="c19.link/scheduling.phone.description.".concat(o.info.content.id).toLowerCase();n.value.vaccination.content.links.scheduling_phone.description&&(r=n.value.vaccination.content.scheduling_phone.description),c.strings.content[r]=Object(x.a)({},i.currentLanguage,e.schedulingPhoneDesc),o.vaccination.content.links.scheduling_phone.description=r}}else{var l=i.repoFileData[n.key];i.globalFileData.cdcStateNames.content["cdc/".concat(n.key,"/state_name")]={"en-us":e.details,"es-us":e.details,"vi-vn":e.details},l.info.content.name=e.details;var u="c19.link/scheduling.phone.".concat(n.value.info.content.metadata.code_alpha).toLowerCase();if(l.strings.content[u]=Object(x.a)({},i.currentLanguage,e.schedulingPhone),l.vaccination.content.links={eligibility:{url:e.eligibility},eligibility_plan:{url:e.eligibilityPlan},info:{url:e.info,text:"cdc/".concat(n.key,"/state_link")},providers:{url:e.providers,text:"c19.links/vax_providers"},workflow:{url:e.workflow,text:"c19.links/vax_quiz"},scheduling:{url:e.scheduling,text:"c19.links/schedule_vax"},scheduling_phone:{url:"tel:".concat(e.schedulingPhone),text:u}},""!==e.schedulingPhoneDesc){var d="c19.link/scheduling.phone.description.".concat(n.value.info.content.metadata.code_alpha).toLowerCase();n.value.vaccination.content.links.scheduling_phone.description&&(d=n.value.vaccination.content.scheduling_phone.description),l.strings.content[d]=Object(x.a)({},i.currentLanguage,e.schedulingPhoneDesc),l.vaccination.content.links.scheduling_phone.description=d}}i.repoFileData=Object(O.a)({},i.repoFileData)}})),T=Object(y.mutatorAction)("modifyStateStrings",(function(e){if(e){var t=k();if(null===t||void 0===t?void 0:t.repoFileData){var n;t.pendingChanges=!0;var a=t.repoFileData[e.locationKey];if(null===(n=a.strings)||void 0===n?void 0:n.content[e.infoKey])a.strings.content[e.infoKey][t.currentLanguage]=e.item.moreInfoContent;else{var i={};if(i[t.currentLanguage]=e.item.moreInfoContent,a.strings.content[e.infoKey]=i,e.regionInfo){var c,o=a.regions[e.regionInfo.key].vaccination;(null===(c=o.content)||void 0===c?void 0:c.phases)||A(o,a.vaccination),o.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.find((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()})).moreInfoText=e.infoKey}else{var s=a.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})),r=s.qualifications.find((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));r?r.moreInfoText=e.infoKey:s.qualifications.push({question:e.item.qualifierId,moreInfoText:e.infoKey})}}}}})),A=function(e,t){e.content.phases=[],t.content.phases.forEach((function(t){var n={};n.id=t.id,n.qualifications=[],t.qualifications.forEach((function(e){var t;n.qualifications.push({question:e.question.toLowerCase(),moreInfoText:null===(t=e.moreInfoText)||void 0===t?void 0:t.toLowerCase(),moreInfoUrl:e.moreInfoUrl})})),e.content.phases.push(n)}))},P=Object(y.mutatorAction)("modifyMoreInfoLinks",(function(e){if(e){var t=k();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var a,i=n.regions[e.regionInfo.key].vaccination;(null===(a=i.content)||void 0===a?void 0:a.phases)||A(i,n.vaccination);var c=i.content.phases.find((function(t){return t.id===e.item.groupId}));if(c){var o=c.qualifications.find((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));o&&(o.moreInfoUrl=e.item.moreInfoUrl)}}else{var s=n.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})),r=s.qualifications.find((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));r?r.moreInfoUrl=e.item.moreInfoUrl:s.qualifications.push({question:e.item.qualifierId,moreInfoUrl:e.item.moreInfoUrl})}}}})),q=Object(y.mutatorAction)("updateQualifier",(function(e){if(e){var t=k();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var a,i=n.regions[e.regionInfo.key].vaccination;(null===(a=i.content)||void 0===a?void 0:a.phases)||A(i,n.vaccination);var c=i.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.find((function(t){return t.question.toLowerCase()===e.oldId.toLowerCase()}));c&&(c.question=e.item.qualifierId.toLowerCase())}else{var o=n.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.find((function(t){return t.question.toLowerCase()===e.oldId.toLowerCase()}));o&&(o.question=e.item.qualifierId.toLowerCase())}}}})),K=Object(y.mutatorAction)("addQualifier",(function(e){if(e){var t=k();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var a,i=n.regions[e.regionInfo.key].vaccination;(null===(a=i.content)||void 0===a?void 0:a.phases)||A(i,n.vaccination),i.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.push({question:e.item.qualifierId})}else{n.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.push({question:e.item.qualifierId})}}}})),_=Object(y.mutatorAction)("removeQualifier",(function(e){if(e){var t=k();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var a,i=n.regions[e.regionInfo.key].vaccination;(null===(a=i.content)||void 0===a?void 0:a.phases)||A(i,n.vaccination);var c=i.content.phases.find((function(t){return t.id===e.item.groupId})),o=c.qualifications.findIndex((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));c.qualifications.splice(o,1),t.repoFileData=Object(O.a)({},t.repoFileData)}else{var s=n.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})),r=s.qualifications.findIndex((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));s.qualifications.splice(r,1),t.repoFileData=Object(O.a)({},t.repoFileData)}}}})),z=Object(y.mutatorAction)("removePhase",(function(e){if(e){var t=k();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var a,i=n.regions[e.regionInfo.key].vaccination;(null===(a=i.content)||void 0===a?void 0:a.phases)||A(i,n.vaccination);var c=i.content.phases.findIndex((function(t){return t.id===e.phaseId}));i.content.phases.splice(c,1),t.repoFileData=Object(O.a)({},t.repoFileData)}else{var o=n.vaccination.content.phases.findIndex((function(t){return t.id===e.phaseId}));n.vaccination.content.phases.splice(o,1),t.repoFileData=Object(O.a)({},t.repoFileData)}}}})),E=Object(y.mutatorAction)("addPhase",(function(e){if(e){var t=k();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey],a=e.item.name.replace(/\s/g,"").toLowerCase();n.vaccination.content.phases||(n.vaccination.content.phases=[]),n.vaccination.content.phases.push({id:a,label:e.item.name,qualifications:[]}),t.repoFileData=Object(O.a)({},t.repoFileData)}}})),B=Object(y.mutatorAction)("updatePhase",(function(e){if(e){var t=k();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey],a=e.item.phaseId.toLowerCase().replace(" (active)","").trim();n.vaccination.content.phases.find((function(e){return e.id===a})).label=e.item.name,t.repoFileData=Object(O.a)({},t.repoFileData)}}})),W=Object(y.mutatorAction)("setActivePhase",(function(e){if(e){var t=k();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo)n.regions[e.regionInfo.key].vaccination.content.activePhase=e.phaseId,t.repoFileData=Object(O.a)({},t.repoFileData);else n.vaccination.content.activePhase=e.phaseId,t.repoFileData=Object(O.a)({},t.repoFileData)}}})),H=Object(y.mutatorAction)("updateGlobalQualifiers",(function(e){if(e){var t=k(),n=t.globalFileData.customStrings;t.pendingChanges=!0;var a="";if(e.isNew){for(var i=e.qualifier.toLowerCase().replace(/[^A-Za-z0-9]/g,"_").split("_").filter((function(e){return e})),c=Object.keys(n.content),o="",s=0;s<i.length&&(o=0===s?i[0]:"".concat(o,"_").concat(i[s]),a="c19.eligibility.question/".concat(e.tagKey.toLowerCase(),".").concat(o),c.includes(a));s++);a=a.endsWith("_")?a.substr(0,a.length-1):a}else a=e.key;t.globalFileData.customStrings.content[a]=Object(O.a)(Object(O.a)({},t.globalFileData.customStrings.content[a]),{},Object(x.a)({},t.currentLanguage,e.qualifier)),t.globalFileData=Object(O.a)({},t.globalFileData)}})),U=Object(y.mutatorAction)("translateLocationName",(function(e){if(console.log(e),e){var t=k();if(null===t||void 0===t?void 0:t.globalFileData)t.pendingChanges=!0,t.globalFileData.cdcStateNames.content[e.locKey][e.toKey]=e.to,t.globalFileData=Object(O.a)({},t.globalFileData),console.log(t.globalFileData.cdcStateNames.content)}})),G=function(e){var t=e.replace(/_/g," ").toLowerCase().replace(/\b[a-z](?=[a-z]{2})/g,(function(e){return e.toUpperCase()}));return t.startsWith("us ")?t.replace("us ","US "):t},J=function(e){return"en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th".split(",").map((function(e){return{key:e,text:M(e,e)}})).filter((function(t){return t.key!==e}))},M=function(e,t){return new Intl.DisplayNames([e],{type:"language"}).of(t)},Q=function(e){return btoa(unescape(encodeURIComponent(e)))},V=function(e){return decodeURIComponent(escape(atob(e)))},Y=n(127),Z=n(269),X=n(13),$=n(282),ee=n(275),te=n(45),ne=n(136),ae=n(268),ie=n(137),ce=Object(y.action)("createPR",(function(e){return{fileData:e}})),oe=Object(y.action)("getRepoFileData"),se=Object(y.action)("initializeGitData"),re=(n(164),n(2)),le=Object(m.a)((function(){var e=k(),t=Object(i.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1],o=Object(i.useState)([]),s=Object(l.a)(o,2),r=s[0],u=s[1],d=Object(p.a)(!0),b=Object(l.a)(d,2),h=b[0],j=b[1].toggle;Object(i.useEffect)((function(){if(e.issues){var t=[],n=[];e.issues.forEach((function(e){var a=new Date(e.updated_at),i=e.labels.some((function(e){return"scrapped changes"===e.name.toLowerCase()}));e.pull_request?t.push({title:e.title,author:e.user.login,update:a.toLocaleString(),action:e}):i&&n.push({title:e.title,author:e.user.login,update:a.toLocaleString(),action:e})})),c(t),u(n)}}),[e.issues]);var f=[{key:"titleCol",name:"Title",fieldName:"title",minWidth:200,isResizable:!0},{key:"authorCol",name:"Author",fieldName:"author",minWidth:200,isResizable:!0},{key:"updateCol",name:"Last Update",fieldName:"update",minWidth:200,isResizable:!0},{key:"actionCol",name:"",ariaLabel:"Actions Column",fieldName:"action",minWidth:200,isResizable:!0,onRender:function(e,t,n){var a;return Object(re.jsxs)("a",{className:"tableActionLink",href:null===e||void 0===e||null===(a=e.action)||void 0===a?void 0:a.html_url,target:"_blank",rel:"noreferrer",children:[Object(re.jsx)(Y.a,{iconName:"CircleAdditionSolid"}),"Approve"]})}}],v=[{key:"titleCol",name:"Title",fieldName:"title",minWidth:200,isResizable:!0},{key:"authorCol",name:"Author",fieldName:"author",minWidth:200,isResizable:!0},{key:"updateCol",name:"Last Update",fieldName:"update",minWidth:200,isResizable:!0},{key:"actionCol",name:"",ariaLabel:"Actions Column",fieldName:"action",minWidth:200,isResizable:!0,onRender:function(e,t,n){var a;return Object(re.jsxs)("a",{className:"tableActionLink",href:null===e||void 0===e||null===(a=e.action)||void 0===a?void 0:a.html_url,target:"_blank",rel:"noreferrer",children:[Object(re.jsx)(Y.a,{iconName:"CircleAdditionSolid"}),"View"]})}}],m=Object(i.useCallback)((function(){se(),j()}),[j]),g=Object(i.useCallback)((function(){e.pendingChanges?j():se()}),[e.pendingChanges,j]);return Object(re.jsxs)("div",{className:"dashboardPageWrapper",children:[Object(re.jsxs)("div",{className:"bodyContainer",children:[Object(re.jsx)("div",{className:"bodyHeader",children:Object(re.jsxs)("div",{className:"bodyHeaderTitle",children:[Object(re.jsx)("div",{className:"breadCrumbs",children:"/ Dashboard"}),Object(re.jsx)("div",{className:"mainTitle",children:"Dashboard"})]})}),Object(re.jsx)("div",{className:"bodyContent",children:e.isDataRefreshing?Object(re.jsx)("section",{children:Object(re.jsx)($.a,{description:"Loading content..."})}):Object(re.jsxs)("section",{children:[Object(re.jsxs)("div",{className:"refreshRow",children:[Object(re.jsx)("div",{}),Object(re.jsxs)("div",{className:"refreshDataHeaderButton",onClick:g,children:[Object(re.jsx)(Y.a,{iconName:"Refresh",className:"refreshIcon"}),"Refresh Data"]})]}),Object(re.jsx)("div",{className:"sectionHeader",children:"Pending PRs"}),Object(re.jsxs)("div",{className:"sectionContent",children:[Object(re.jsx)(Z.a,{items:a,columns:f,setKey:"set",layoutMode:X.e.justified,ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"Row checkbox",checkboxVisibility:2}),!a.length&&Object(re.jsx)("div",{style:{textAlign:"center"},children:"No pending PRs at this time."})]}),Object(re.jsx)("div",{className:"sectionHeader",children:"Location Updates"}),Object(re.jsxs)("div",{className:"sectionContent",children:[Object(re.jsx)(Z.a,{items:r,columns:v,setKey:"set",layoutMode:X.e.justified,ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"Row checkbox",checkboxVisibility:2}),!r.length&&Object(re.jsx)("div",{style:{textAlign:"center"},children:"No pending location updates at this time."})]})]})})]}),Object(re.jsxs)(ee.a,{hidden:h,onDismiss:j,dialogContentProps:{type:te.a.normal,closeButtonAriaLabel:"Close",title:"Refresh Data"},modalProps:{isBlocking:!1},children:[Object(re.jsxs)("div",{className:"dialogBodyText",children:["You have pending changes in the review tab to be submitted, refreshing the data will revert those changes.",Object(re.jsx)("br",{}),Object(re.jsx)("br",{}),"Do you want to proceed?"]}),Object(re.jsxs)(ne.a,{children:[Object(re.jsx)(ae.a,{onClick:m,text:"Ok"}),Object(re.jsx)(ie.a,{onClick:j,text:"Cancel"})]})]})]})})),ue=Object(i.memo)((function(){return Object(re.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(re.jsxs)("div",{className:"appFooterRow",children:[Object(re.jsx)(de,{href:"https://go.microsoft.com/fwlink/?LinkId=521839",children:"Privacy & Cookies"})," | ",Object(re.jsx)(de,{href:"mailto:".concat("todo@todo.com"),children:"Contact Us"})," | ",Object(re.jsx)(de,{href:"https://github.com/microsoft/covid-vaccine-bot/blob/main/CODE_OF_CONDUCT.md",children:"Code of Conduct"})]})})})),de=Object(i.memo)((function(e){var t=e.children,n=e.href;return Object(re.jsx)("div",{className:"div",style:{cursor:"pointer",marginLeft:15,marginRight:15,display:"flex",alignContent:"center"},onClick:function(){return n&&window.open(n,"_blank")},children:t})})),be=n(286),he=n(278),je=n(277),fe=n(31),ve=function(e,t){var n,a,i=k(),c=i.globalFileData,o=i.currentLanguage,s=e?[].concat(Object(fe.a)(Object.entries(null!==(n=null===e||void 0===e||null===(a=e.strings)||void 0===a?void 0:a.content)&&void 0!==n?n:{})),Object(fe.a)(Object.entries(c.customStrings.content))):Object(fe.a)(Object.entries(c.customStrings.content));return(t?s.filter((function(e){var n=Object(l.a)(e,2),a=n[0];n[1];return a.includes(t.toLowerCase())})):s).map((function(e){var t=Object(l.a)(e,2);return{key:t[0],text:t[1][o]}}))},pe=(n(111),function(e,t){var n=function(e,t,n){return n?function(e,t){var n=k().repoFileData,a=null===n||void 0===n?void 0:n[e.value.info.path.split("/")[0]],i=ve(a,t);return i.length>0?i[0].text:""}(e,t):function(e,t){var n=ve(e.value,t);return n.length>0?n[0].text:""}(e,t)};if(e){var a,i=(null===e||void 0===e?void 0:e.value)||{},c=i.info,o=i.vaccination,s=(null===o||void 0===o||null===(a=o.content)||void 0===a?void 0:a.links)||{},r=s.info,l=s.scheduling_phone,u=s.eligibility_plan,d=s.workflow,b=s.scheduling,h=s.providers,j=s.eligibility;return{details:c.content.name,regionType:c.content.type,info:(null===r||void 0===r?void 0:r.url)||"",workflow:(null===d||void 0===d?void 0:d.url)||"",scheduling:(null===b||void 0===b?void 0:b.url)||"",providers:(null===h||void 0===h?void 0:h.url)||"",eligibility:(null===j||void 0===j?void 0:j.url)||"",eligibilityPlan:(null===u||void 0===u?void 0:u.url)||"",schedulingPhone:(null===l||void 0===l?void 0:l.text)?n(e,l.text,t):"",schedulingPhoneDesc:(null===l||void 0===l?void 0:l.description)?n(e,l.description,t):""}}return{details:"",regionType:"",info:"",workflow:"",scheduling:"",providers:"",eligibility:"",eligibilityPlan:"",schedulingPhone:"",schedulingPhoneDesc:""}}),me=Object(m.a)((function(e){var t=e.onSubmit,n=e.onCancel,a=e.item,c=e.isRegion,o=Object(i.useState)(pe(a,c)),s=Object(l.a)(o,2),r=s[0],u=s[1],b=Object(i.useRef)(r),h=[{key:"state",text:"State"},{key:"territory",text:"Territory"},{key:"tribal_land",text:"Tribal land"},{key:"county",text:"County"},{key:"city",text:"City"}].filter((function(e){return!c||"state"!==e.key})),j=c?"sublocation":"location",f=a?"Edit ".concat(j):"Add new ".concat(j),v=Object(i.useCallback)((function(e,t){b.current=Object(O.a)(Object(O.a)({},b.current),{regionType:null===t||void 0===t?void 0:t.key}),u(Object(O.a)(Object(O.a)({},r),b.current))}),[r,b]),p=Object(i.useCallback)((function(e){var t=e.target.value;b.current=Object(O.a)(Object(O.a)({},b.current),Object(x.a)({},e.target.name,t)),u(Object(O.a)(Object(O.a)({},r),b.current))}),[r,b]),m=Object(i.useCallback)((function(){return""!==r.details&&""!==r.regionType}),[r]);return Object(re.jsxs)("div",{className:"modalWrapper",children:[Object(re.jsx)("div",{className:"modalHeader",children:Object(re.jsx)("div",{className:"title",children:f})}),Object(re.jsxs)("div",{className:"modalBody",children:[Object(re.jsxs)("div",{className:"detailsGroup",children:[Object(re.jsx)(je.a,{label:"Details",name:"details",value:r.details,onChange:p}),Object(re.jsx)(d.a,{selectedKey:r.regionType,placeholder:"Region type",options:h,onChange:v})]}),Object(re.jsx)(je.a,{label:"General information link for the region:",name:"info",value:r.info,onChange:p}),Object(re.jsx)(je.a,{label:"Link to an existing eligibility workflow tool:",name:"workflow",value:r.workflow,onChange:p}),Object(re.jsx)(je.a,{label:"Appointment registration scheduler:",name:"scheduling",value:r.scheduling,onChange:p}),Object(re.jsx)(je.a,{label:"List of scheduling providers and locations:",name:"providers",value:r.providers,onChange:p}),Object(re.jsx)(je.a,{label:"Eligibility criteria about the current phase:",name:"eligibility",value:r.eligibility,onChange:p}),Object(re.jsx)(je.a,{label:"Documentation describing the rollout phases in detail:",name:"eligibilityPlan",value:r.eligibilityPlan,onChange:p}),Object(re.jsx)(je.a,{label:"A scheduling hotline:",name:"schedulingPhone",value:r.schedulingPhone,onChange:p}),Object(re.jsx)(je.a,{label:"Descripton of scheduling hotline:",name:"schedulingPhoneDesc",value:r.schedulingPhoneDesc,onChange:p})]}),Object(re.jsxs)("div",{className:"modalFooter",children:[Object(re.jsx)(ae.a,{text:"Submit",disabled:!m(),onClick:function(){return null===t||void 0===t?void 0:t(r,a)}}),Object(re.jsx)(ie.a,{text:"Cancel",onClick:function(){return null===n||void 0===n?void 0:n()}})]})]})})),ge=n(12),Oe=function(e){return xe(e,"eligibility.question")},xe=function(e,t){var n,a,i,c=k(),o=c.globalFileData,s=c.currentLanguage,r=e?[].concat(Object(fe.a)(Object.entries(null!==(n=null===(a=e.value)||void 0===a||null===(i=a.strings)||void 0===i?void 0:i.content)&&void 0!==n?n:{})),Object(fe.a)(Object.entries(o.customStrings.content))):Object(fe.a)(Object.entries(o.customStrings.content));return(t?r.filter((function(e){var n=Object(l.a)(e,2),a=n[0];n[1];return a.includes(t)})):r).map((function(e){var t=Object(l.a)(e,2);return{key:t[0],text:t[1][s]}})).sort((function(e,t){return e.text>t.text?1:-1}))},ye=function(e,t){var n,a,i,c=k(),o=c.globalFileData,s=c.currentLanguage,r=e?[].concat(Object(fe.a)(Object.entries(null!==(n=null===(a=e.value)||void 0===a||null===(i=a.strings)||void 0===i?void 0:i.content)&&void 0!==n?n:{})),Object(fe.a)(Object.entries(o.customStrings.content))):Object(fe.a)(Object.entries(o.customStrings.content));return(t?r.filter((function(e){var n=Object(l.a)(e,2),a=n[0];n[1];return a.toLowerCase()===t})):r).map((function(e){var t=Object(l.a)(e,2);return{key:t[0],text:t[1][s]}})).sort((function(e,t){return e.text>t.text?1:-1}))},ke=(n(166),Object(m.a)((function(e){var t=e.selectedState,n=e.rowItems,a=e.isEditable,c=e.isRegion,o=e.onRowItemRemove,s=e.onRowItemTextChange,r=e.onRowItemQualifierChange,b=Object(i.useRef)(function(e){var t=Oe(e),n=[],a=[];return t.forEach((function(e){var t=e.key.split("/")[1].split(".")[0];n.includes(t)||(n.push(t),a.push({key:t,text:G(t)}))})),a.sort((function(e,t){return e.text>t.text?1:-1}))}(t)),h=Object(i.useRef)(Oe(t)),j=Object(i.useState)(function(e,t){return Oe(e).filter((function(e){return e.key.includes(t)}))}(t,n.item.tagKey)),f=Object(l.a)(j,2),v=f[0],p=f[1],m=!1,g=n.item.moreInfoKey;if(c){var x=n.item.location.value.vaccination.content.phases,y=null===x||void 0===x?void 0:x.find((function(e){return e.id===n.item.groupId}));if(y){var k=null===y||void 0===y?void 0:y.qualifications.find((function(e){return e.question===n.item.qualifierId}));k&&(m=!0,g=k.moreInfoText)}}var C=Object(i.useState)(function(e,t){if(t){var n=ye(e,t);if(n.length>0)return n[0].text}return""}(t,g)),N=Object(l.a)(C,2),w=N[0],D=N[1],I=Object(i.useState)(function(e,t){if(e){var n=t.item.location.value.vaccination.content.phases,a=null===n||void 0===n?void 0:n.find((function(e){return e.id===t.item.groupId}));if(a){var i=null===a||void 0===a?void 0:a.qualifications.find((function(e){return e.question===t.item.qualifierId}));if(i)return i.moreInfoUrl}}return t.item.moreInfoUrl}(c,n)),S=Object(l.a)(I,2),L=S[0],F=S[1],R=Object(i.useRef)(n.item);R.current.moreInfoContent=w;var T=Object(i.useCallback)((function(e,t){p(h.current.filter((function(e){return e.key.split("/")[1].split(".")[0]===t.key}))),D(""),F(""),R.current=Object(O.a)(Object(O.a)({},R.current),{key:"".concat(n.item.groupId,"-c19.eligibility.question/").concat(t.key),tagKey:t.key,qualifierId:void 0,text:"",moreInfoKey:"",moreInfoContent:""})}),[h,n]),A=Object(i.useCallback)((function(e,t){D(""),F(""),R.current=Object(O.a)(Object(O.a)({},R.current),{qualifierId:t.key,text:t.text,moreInfoKey:"",moreInfoContent:""}),r(R.current,n.item)}),[r,n]),P=Object(i.useCallback)((function(e,t){R.current=Object(O.a)(Object(O.a)({},R.current),{moreInfoContent:t}),D(t)}),[D]),q=Object(i.useCallback)((function(e,t){R.current=Object(O.a)(Object(O.a)({},R.current),{moreInfoUrl:t}),F(t)}),[F]);return Object(re.jsxs)("div",{className:"phaseDetailRow",style:{pointerEvents:a?"unset":"none"},children:[Object(re.jsxs)("div",{className:"mainRow",children:[Object(re.jsx)(Y.a,{iconName:"InfoSolid",className:"infoIcon",style:{visibility:m?"visible":"hidden"}}),Object(re.jsx)(d.a,{options:b.current,defaultSelectedKey:n.item.tagKey,placeholder:"Tag",className:"tagDropdown",styles:{root:{minWidth:250}},onChange:T}),Object(re.jsx)(d.a,{options:v,defaultSelectedKey:n.item.qualifierId,placeholder:"Qualifier",styles:{root:{width:"100%",minWidth:0}},onChange:A}),Object(re.jsx)(u.a,{iconProps:{iconName:"MoreVertical"},styles:{menuIcon:{visibility:"hidden",width:0,margin:0}},menuProps:{isBeakVisible:!1,directionalHint:ge.a.rightTopEdge,items:[{key:"removeRow",text:"Remove",onClick:function(){return null===o||void 0===o?void 0:o(n.item)}},{key:"details",text:"Details"}]},title:"More","aria-label":"More"})]}),Object(re.jsxs)("div",{className:"detailsRow",children:[Object(re.jsx)(je.a,{placeholder:"More info text",multiline:!0,autoAdjustHeight:!0,resizable:!1,styles:{root:{width:"calc(100% - 32px)",padding:"5px 0"}},value:w,onChange:P,onBlur:function(){return s(R.current,n.item)}}),Object(re.jsx)(je.a,{placeholder:"More info url",styles:{root:{width:"calc(100% - 32px)",padding:"5px 0"}},value:L,onChange:q,onBlur:function(){return s(R.current,n.item)}})]})]})}))),Ce=(n(72),[{key:"question",name:"Question",fieldName:"text",minWidth:200,isResizable:!1,isMultiline:!0}]),Ne=Object(m.a)((function(e){var t=k(),n=t.globalFileData,a=t.currentLanguage,c=t.repoFileData,o=t.isEditable,s=e.isRegion,r=e.value,u=e.selectedState,d=Object(i.useState)([]),b=Object(l.a)(d,2),h=b[0],j=b[1],f=Object(i.useState)([]),v=Object(l.a)(f,2),p=v[0],m=v[1];Object(i.useEffect)((function(){if(c){var e=[],t=[],i=c[u.key],o=i.vaccination.content.phases,l=s?c[u.key].regions[r.key]:null;s&&l.vaccination.content.phases&&(o=l.vaccination.content.phases),o.forEach((function(c){var o=!s&&r.value.id!==c.id,u=!1;u=s&&l.vaccination.content.activePhase?c.id===l.vaccination.content.activePhase:c.id===i.vaccination.content.activePhase,e.push({key:c.id+e.length,name:c.label,startIndex:t.length,count:c.qualifications.length,isCollapsed:o,data:{keyId:c.id,isActive:u}}),c.qualifications.forEach((function(e){var o=String(e.question).toLowerCase(),s="*Translation not found* (".concat(o,")");i.strings&&i.strings.content[o]?s=i.strings.content[o][a]||s:n.customStrings.content[o]&&(s=n.customStrings.content[o][a]||s),t.push({key:c.id+"-"+o+"-"+t.length,text:s,moreInfoKey:(null===e||void 0===e?void 0:e.moreInfoText)?e.moreInfoText.toLowerCase():"",moreInfoContent:"",moreInfoUrl:e.moreInfoUrl,qualifierId:o,tagKey:o.split("/")[1].split(".")[0],groupId:c.id,location:r})}))})),j(e),m(t)}}),[c,n,u,a,s,r]);var g=Object(i.useCallback)((function(e){for(var t=[],n=[],a=p.map((function(t){return t.key.startsWith(e)})).lastIndexOf(!0)+1,i={key:"".concat(e,"-c19.eligibility.question/new_qualifier"),text:"",moreInfoKey:"",moreInfoUrl:"",qualifierId:"c19.eligibility.question/new_qualifier",tagKey:"new_tagKey",groupId:e,location:r},c=0;c<p.length;c++)c===a?(t.push(i),t.push(p[c])):t.push(p[c]);a===p.length&&t.push(i),h.forEach((function(e){n.push(Object(O.a)(Object(O.a)({},e),{startIndex:t.findIndex((function(t){return t.groupId===e.data.keyId})),count:t.filter((function(t){return t.groupId===e.data.keyId})).length}))})),j(n),m(t)}),[p,h,r]),x=function(e){_({locationKey:u.key,item:e,regionInfo:s?r:null})},y=function(e){return function(){e.onToggleCollapse(e.group)}},C=function(e,t){var n,a;if((null===(n=t.moreInfoUrl)||void 0===n?void 0:n.toLowerCase())!==(null===(a=e.moreInfoUrl)||void 0===a?void 0:a.toLowerCase()))P({locationKey:u.key,item:e,regionInfo:s?r:null});else if(t.moreInfoContent!==e.moreInfoContent){var i=e.qualifierId.replace("question","moreinfo");i+=".".concat(u.value.info.content.metadata.code_alpha.toLowerCase()),s&&(i+=".".concat(r.name.toLowerCase())),i+=".".concat(e.groupId),T({infoKey:i,locationKey:u.key,item:e,regionInfo:s?r:null})}},N=function(e,t){"c19.eligibility.question/new_qualifier"!==t.qualifierId?q({oldId:t.qualifierId,locationKey:u.key,item:e,regionInfo:s?r:null}):K({locationKey:u.key,item:e,regionInfo:s?r:null})};return Object(re.jsx)("div",{className:"phaseGridContainer",children:Object(re.jsx)(Z.a,{indentWidth:0,items:p,groups:h,columns:Ce,groupProps:{showEmptyGroups:!0,onRenderHeader:function(e){if(null===e||void 0===e?void 0:e.group){var t=e.group;return Object(re.jsxs)("div",{className:"phaseGroupHeader",children:[Object(re.jsxs)("div",{className:"groupHeaderLabel",onClick:y(e),children:[Object(re.jsx)(Y.a,{iconName:t.isCollapsed?"ChevronRight":"ChevronDown",className:"groupToggleIcon"}),t.name?Object(re.jsxs)("span",{children:[t.name," ",Object(re.jsxs)("small",{children:["(",t.data.keyId,")"]})]}):"Phase ".concat(t.data.keyId)]}),Object(re.jsx)("div",{className:"groupHeaderButtons",children:o?Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("div",{className:"addQualifierGroup",onClick:function(){return g(t.data.keyId)},children:[Object(re.jsx)(Y.a,{iconName:"CircleAdditionSolid",style:{color:"#0078d4"}}),"Add Qualifier"]}),Object(re.jsxs)("div",{className:"removePhaseGroup",onClick:function(){return e=t.data.keyId,void z({locationKey:u.key,phaseId:e,regionInfo:s?r:null});var e},children:[Object(re.jsx)(Y.a,{iconName:"Blocked2Solid",style:{color:"#d13438"}}),"Remove"]}),t.data.isActive?Object(re.jsxs)("div",{className:"activeGroup",children:[Object(re.jsx)(Y.a,{iconName:"CircleFill",style:{color:"#00b7c3"}}),"Active Phase"]}):Object(re.jsxs)("div",{className:"activeGroup",onClick:function(){return e=t.data.keyId,void W({locationKey:u.key,phaseId:e,regionInfo:s?r:null});var e},children:[Object(re.jsx)(Y.a,{iconName:"CircleRing",style:{color:"#00b7c3"}}),"Set as Active"]})]}):Object(re.jsx)(re.Fragment,{children:t.data.isActive&&Object(re.jsxs)("div",{className:"activeGroup",children:[Object(re.jsx)(Y.a,{iconName:"CircleFill",style:{color:"#00b7c3"}}),"Active Phase"]})})})]})}return null}},onRenderRow:function(e){return e?Object(re.jsx)(ke,{rowItems:e,selectedState:u,isEditable:o,isRegion:s,onRowItemRemove:x,onRowItemTextChange:C,onRowItemQualifierChange:N}):null},isHeaderVisible:!1,checkboxVisibility:2,constrainMode:1,selectionMode:1,onShouldVirtualize:function(){return!1}})})})),we=Object(m.a)((function(e){var t=e.onSubmit,n=e.onCancel,a=e.item,c=Object(i.useState)(function(e){return e?{phaseId:e.keyId,name:e.name.includes(" (active)")?e.name.replace(" (active)",""):e.name,isActive:e.keyId.includes(" (active)")}:{phaseId:null,name:"",isActive:!1}}(a)),o=Object(l.a)(c,2),s=o[0],r=o[1],u=Object(i.useRef)(s),d=Object(i.useCallback)((function(e){var t=e.target.value;u.current=Object(O.a)(Object(O.a)({},u.current),Object(x.a)({},e.target.name,t)),r(Object(O.a)(Object(O.a)({},s),u.current))}),[s,u]),b=a?"Edit Phase":"New Phase";return Object(re.jsxs)("div",{className:"modalWrapper",children:[Object(re.jsx)("div",{className:"modalHeader",children:Object(re.jsx)("div",{className:"title",children:b})}),Object(re.jsx)("div",{className:"modalBody",children:Object(re.jsx)(je.a,{label:"Phase Name:",name:"name",value:s.name,onChange:d})}),Object(re.jsxs)("div",{className:"modalFooter",children:[Object(re.jsx)(ae.a,{text:"Submit",disabled:""===s.name,onClick:function(){return null===t||void 0===t?void 0:t(s)}}),Object(re.jsx)(ie.a,{text:"Cancel",onClick:function(){return null===n||void 0===n?void 0:n()}})]})]})})),De=Object(m.a)((function(e){var t=Object(i.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1],o=Object(i.useRef)([]),s=Object(i.useState)({isRegion:!1,value:null,selectedState:null}),r=Object(l.a)(s,2),u=r[0],d=r[1],b=Object(p.a)(!1),h=Object(l.a)(b,2),j=h[0],f=h[1],v=f.setTrue,m=f.setFalse,g=Object(p.a)(!1),O=Object(l.a)(g,2),x=O[0],y=O[1],C=y.setTrue,N=y.setFalse,w=Object(i.useRef)(null),D=k(),I=e.selectedState,S=e.onNavigateBack,L=[{key:"regionCol",name:"Region",fieldName:"name",minWidth:200,isResizable:!0},{key:"activePhaseCol",name:"Active Phase ID",fieldName:"phase",minWidth:200,isResizable:!0},{key:"editCol",name:"",fieldName:"editLocation",minWidth:50,isResizable:!1}].filter((function(e){return!!D.isEditable||"editCol"!==e.key})),T=[{key:"idCol",name:"Phase ID",fieldName:"keyId",minWidth:50,maxWidth:200,isResizable:!1},{key:"nameCol",name:"Name",fieldName:"name",minWidth:200,isResizable:!1},{key:"qualCol",name:"# of qualifications",fieldName:"qualifications",minWidth:200,isResizable:!1},{key:"editCol",name:"",fieldName:"editPhase",minWidth:50,isResizable:!1}].filter((function(e){return!!D.isEditable||"editCol"!==e.key})),A=Object(i.useState)([]),P=Object(l.a)(A,2),q=P[0],K=P[1];Object(i.useEffect)((function(){var e,t=D.repoFileData[I.key],n=null!==(e=null===t||void 0===t?void 0:t.regions)&&void 0!==e?e:{};if(Object.keys(n).length>0){var a=[];Object.entries(n).forEach((function(e){var n=Object(l.a)(e,2),i=n[0],c=n[1],o=c;a.push({key:i,name:G(o.info.content.name),value:c,phase:o.vaccination.content.activePhase?o.vaccination.content.activePhase:t.vaccination.content.activePhase})})),c(a),o.current=a}if(t){var i=Ie({key:t.info.content.id,value:t});K(i)}}),[D.repoFileData,I,o,K]);var _=Object(i.useCallback)((function(e,t){d({isRegion:e,value:t,selectedState:I})}),[I]),z=Object(i.useCallback)((function(e,t){m(),t?R(e,!0,t,I):F(e,!0,I)}),[m,I]),W=Object(i.useCallback)((function(e){w.current=null!==e&&void 0!==e?e:null,v()}),[v]),H=Object(i.useCallback)((function(e){w.current=null!==e&&void 0!==e?e:null,C()}),[C]),U=Object(i.useCallback)((function(e,t,n){var a=e[null===n||void 0===n?void 0:n.fieldName];return"editCol"===(null===n||void 0===n?void 0:n.key)?D.isEditable?Object(re.jsx)(Y.a,{iconName:"Edit",className:"editIcon",onClick:function(){return"editLocation"===(null===n||void 0===n?void 0:n.fieldName)?W(e):H(e)}}):null:Object(re.jsx)("span",{children:a})}),[W,H,D.isEditable]),J=Object(i.useCallback)((function(e,t){c(t?o.current.filter((function(e){return e.name.toLowerCase().indexOf(t)>-1})):o.current)}),[o]);return Object(re.jsxs)("div",{className:"bodyContainer",children:[Object(re.jsx)("div",{className:"bodyHeader subContent",children:Object(re.jsxs)("div",{className:"bodyHeaderTitle",children:[Object(re.jsxs)("div",{className:"breadCrumbs",children:[Object(re.jsxs)("span",{className:"crumbLink",onClick:S,children:["/ Locations"," "]}),u.value?Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("span",{className:"crumbLink",onClick:function(){return d({isRegion:!1,value:null,selectedState:null})},children:["/ ",I.text+" "]}),u.isRegion?Object(re.jsxs)(re.Fragment,{children:["/ ",u.value.name]}):Object(re.jsx)(re.Fragment,{children:"/ Phase Overview"})]}):Object(re.jsxs)(re.Fragment,{children:["/ ",I.text]})]}),Object(re.jsx)("div",{className:"mainTitle",children:u.value?Object(re.jsx)(re.Fragment,{children:u.isRegion?Object(re.jsxs)(re.Fragment,{children:[u.value.name," Region Phase Overview"]}):Object(re.jsxs)(re.Fragment,{children:[I.text," Phase Overview"]})}):Object(re.jsx)(re.Fragment,{children:I.text})})]})}),u.value?Object(re.jsx)("div",{className:"bodyContent",children:Object(re.jsx)("section",{children:Object(re.jsx)(Ne,{isRegion:u.isRegion,value:u.value,selectedState:I})})}):Object(re.jsxs)("div",{className:"bodyContent",children:[Object(re.jsxs)("section",{children:[Object(re.jsx)("div",{className:"listTitle",children:"Phases"}),Object(re.jsxs)("div",{className:"searchRow",children:[Object(re.jsx)("div",{}),D.isEditable&&Object(re.jsxs)("div",{className:"addLocationHeaderButton",onClick:function(){return H(null)},children:[Object(re.jsx)(Y.a,{iconName:"CircleAdditionSolid",style:{color:"#0078d4"}}),"Add Phase"]})]}),I.value.vaccination.content.phases&&I.value.vaccination.content.phases.length>0?Object(re.jsx)(Z.a,{items:q,columns:T,setKey:"set",layoutMode:X.e.justified,checkboxVisibility:2,onItemInvoked:function(e){return _(!1,e)},onRenderItemColumn:U,className:"locationDetailsList"}):Object(re.jsx)("div",{children:"No phases available at this time."})]}),Object(re.jsxs)("section",{children:[Object(re.jsx)("div",{className:"listTitle",children:"Sublocation"}),Object(re.jsxs)("div",{className:"searchRow",children:[o.current.length>0?Object(re.jsx)(be.a,{styles:{root:{width:400}},placeholder:"Search",onChange:function(e,t){return J(e,t)}}):Object(re.jsx)("div",{}),D.isEditable&&Object(re.jsxs)("div",{className:"addLocationHeaderButton",onClick:function(){return W(null)},children:[Object(re.jsx)(Y.a,{iconName:"CircleAdditionSolid",style:{color:"#0078d4"}}),"Add Sublocation"]})]}),o.current.length>0?Object(re.jsx)(Z.a,{items:a,columns:L,setKey:"set",layoutMode:X.e.justified,selectionPreservedOnEmptyClick:!0,ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"Row checkbox",checkboxVisibility:2,onItemInvoked:function(e){return _(!0,e)},onRenderItemColumn:U,className:"locationDetailsList"}):Object(re.jsx)("div",{children:"No regions available at this time."})]})]}),Object(re.jsx)(he.a,{isOpen:j,isModeless:!1,isDarkOverlay:!0,isBlocking:!1,children:Object(re.jsx)(me,{item:w.current,onCancel:m,onSubmit:z,isRegion:!0})}),Object(re.jsx)(he.a,{isOpen:x,isModeless:!1,isDarkOverlay:!0,isBlocking:!1,children:Object(re.jsx)(we,{item:w.current,onCancel:N,onSubmit:function(e){N(),e.phaseId?B({locationKey:I.key,item:e}):E({locationKey:I.key,item:e})}})})]})})),Ie=function(e){return e.value.vaccination.content.phases?e.value.vaccination.content.phases.map((function(t,n){var a,i=e.value.vaccination.content.activePhase;return{key:String(t.id)+n,keyId:String(t.id)+(t.id===i?" (active)":""),name:G(null!==(a=t.label)&&void 0!==a?a:t.id)+(t.id===i?" (active)":""),qualifications:t.qualifications.length,value:t,isNew:!1}})):[]},Se=Object(m.a)((function(e){var t=e.onSelectedItem,n=Object(p.a)(!1),a=Object(l.a)(n,2),c=a[0],o=a[1],s=o.setTrue,r=o.setFalse,u=Object(i.useState)([]),d=Object(l.a)(u,2),b=d[0],h=d[1],j=Object(i.useRef)([]),f=Object(i.useRef)(null),v=k(),m=[{key:"stateCol",name:"State",fieldName:"text",minWidth:200,isResizable:!0},{key:"regionCol",name:"Sublocations",fieldName:"regions",minWidth:200,isResizable:!0},{key:"editCol",name:"",fieldName:"editLocation",minWidth:50,isResizable:!1}].filter((function(e){return!!v.isEditable||"editCol"!==e.key}));Object(i.useEffect)((function(){if(v.repoFileData){var e=[];Object.entries(v.repoFileData).forEach((function(t){var n,a,i=Object(l.a)(t,2),c=i[0],o=i[1],s=null===o||void 0===o||null===(n=o.info)||void 0===n?void 0:n.content.id,r=null===v||void 0===v||null===(a=v.globalFileData)||void 0===a?void 0:a.cdcStateNames.content,u=r["cdc/".concat(s,"/state_name")]&&r["cdc/".concat(s,"/state_name")][v.currentLanguage]&&""!==r["cdc/".concat(s,"/state_name")][v.currentLanguage].trim()?r["cdc/".concat(s,"/state_name")][v.currentLanguage]:"*Translation Not Found* (".concat(s,")");e.push({key:c,text:u,regions:(null===o||void 0===o?void 0:o.regions)?Object.keys(o.regions).length:0,value:o})})),h(e),j.current=e}}),[v.repoFileData,v.globalFileData,v.currentLanguage,j]);var g=Object(i.useCallback)((function(e,t){h(t?j.current.filter((function(e){return e.text.toLowerCase().indexOf(t)>-1})):j.current)}),[j]),O=Object(i.useCallback)((function(e){t(e)}),[t]),x=Object(i.useCallback)((function(e,t){r(),t?R(e,!1,t):F(e,!1)}),[r]),y=Object(i.useCallback)((function(e){f.current=null!==e&&void 0!==e?e:null,s()}),[s]),C=Object(i.useCallback)((function(e,t,n){var a=e[null===n||void 0===n?void 0:n.fieldName];return"editCol"===(null===n||void 0===n?void 0:n.key)?v.isEditable?Object(re.jsx)(Y.a,{iconName:"Edit",className:"editIcon",onClick:function(){return y(e)}}):null:Object(re.jsx)("span",{children:a})}),[y,v.isEditable]);return Object(re.jsxs)("div",{className:"bodyContainer",children:[Object(re.jsx)("div",{className:"bodyHeader",children:Object(re.jsxs)("div",{className:"bodyHeaderTitle",children:[Object(re.jsx)("div",{className:"breadCrumbs",children:"/ Locations"}),Object(re.jsx)("div",{className:"mainTitle",children:"Locations"})]})}),Object(re.jsx)("div",{className:"bodyContent",children:v.repoFileData?Object(re.jsxs)("section",{children:[Object(re.jsxs)("div",{className:"searchRow",children:[Object(re.jsx)(be.a,{styles:{root:{width:400}},placeholder:"Search",onChange:function(e,t){return g(e,t)}}),v.isEditable&&Object(re.jsxs)("div",{className:"addLocationHeaderButton",onClick:function(){return y(null)},children:[Object(re.jsx)(Y.a,{iconName:"CircleAdditionSolid",style:{color:"#0078d4"}}),"Add Location"]})]}),Object(re.jsx)(Z.a,{items:b,columns:m,setKey:"set",layoutMode:X.e.justified,selectionPreservedOnEmptyClick:!0,ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"Row checkbox",checkboxVisibility:2,onItemInvoked:O,onRenderItemColumn:C,className:"locationDetailsList"})]}):Object(re.jsx)("section",{children:Object(re.jsx)($.a,{description:"Loading content..."})})}),Object(re.jsx)(he.a,{isOpen:c,isModeless:!1,isDarkOverlay:!0,isBlocking:!1,children:Object(re.jsx)(me,{item:f.current,onCancel:r,onSubmit:x})})]})})),Le=Object(m.a)((function(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(i.useCallback)((function(){a(null)}),[]);return Object(re.jsx)("div",{className:"locationPageContainer",children:n?Object(re.jsx)(De,{selectedState:n,onNavigateBack:c}):Object(re.jsx)(Se,{onSelectedItem:a})})})),Fe=Object(y.action)("loginUser"),Re=(n(167),Object(m.a)((function(){return Object(re.jsx)("div",{className:"loginPageContainer",children:Object(re.jsxs)("div",{className:"loginContainer",children:[Object(re.jsx)("h3",{children:"Data Composer"}),Object(re.jsx)(ie.a,{text:"Login with Github",onClick:Fe})]})})}))),Te=(n(168),Object(m.a)((function(e){var t=e.onSubmit,n=e.onCancel,a=e.item,c=e.tagsOptions,o=Object(i.useState)(function(e){return e?{tagKey:e.key.split("/")[1].split(".")[0],key:e.key,qualifier:e.text,isNew:!1}:{tagKey:"",key:"",qualifier:"",isNew:!0}}(a)),s=Object(l.a)(o,2),r=s[0],u=s[1],b=Object(i.useRef)(r),h=Object(i.useRef)(function(){var e=k(),t=e.globalFileData.customStrings.content;return Object.entries(t).filter((function(e){var t=Object(l.a)(e,2),n=t[0];return t[1],n.startsWith("c19.eligibility.question/")})).map((function(t){var n=Object(l.a)(t,2);return n[0],n[1][e.currentLanguage].toLowerCase().replaceAll(" ","")}))}()),j=Object(i.useState)(!1),f=Object(l.a)(j,2),v=f[0],p=f[1],m=Object(i.useState)(!1),g=Object(l.a)(m,2),y=g[0],C=g[1],N=Object(i.useCallback)((function(e,t){b.current=Object(O.a)(Object(O.a)({},b.current),{tagKey:null===t||void 0===t?void 0:t.key}),u(Object(O.a)(Object(O.a)({},r),b.current))}),[r,b]),w=Object(i.useCallback)((function(e){var t=e.target.value;b.current=Object(O.a)(Object(O.a)({},b.current),Object(x.a)({},e.target.name,t)),u(Object(O.a)(Object(O.a)({},r),b.current))}),[r,b]),D=Object(i.useCallback)((function(e){var t=e.toLowerCase().replaceAll(" ","");return h.current.includes(t)?(p(!0),"Qualifier already exist, please revise."):(p(!1),"")}),[h,p]),I=Object(i.useCallback)((function(e){var t=e.toLowerCase().replaceAll(" ","_");return c.map((function(e){return e.key})).includes(t)?(p(!0),"Tag already exist, please revise."):(p(!1),"")}),[p,c]),S=Object(i.useCallback)((function(){return!!v||""===r.qualifier}),[r,v]),L=Object(i.useCallback)((function(){var e=r.tagKey.replaceAll(" ","_");c.push({key:e,text:r.tagKey}),c.sort((function(e,t){return e.text>t.text?1:-1})),b.current=Object(O.a)(Object(O.a)({},b.current),{tagKey:e}),C(!1),u(Object(O.a)(Object(O.a)({},r),b.current))}),[r,c,b,C]),F=a?"Edit Qualifier":"New Qualifier";return Object(re.jsxs)("div",{className:"modalWrapper",children:[Object(re.jsx)("div",{className:"modalHeader",children:Object(re.jsx)("div",{className:"title",children:F})}),Object(re.jsxs)("div",{className:"modalBody",children:[Object(re.jsxs)("div",{className:"tagRow",children:[y?Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(je.a,{name:"tagKey",placeholder:"Type new tag",onChange:w,validateOnLoad:!1,onGetErrorMessage:function(){return I(r.tagKey)}}),Object(re.jsx)(ae.a,{text:"Ok",onClick:function(){return L()}}),Object(re.jsx)(ie.a,{text:"Cancel",onClick:function(){return C(!1)}})]}):Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(d.a,{selectedKey:r.tagKey,placeholder:"Tag",options:c,onChange:N,disabled:!r.isNew}),Object(re.jsx)(ae.a,{text:"New tag",onClick:function(){return C(!0)}})]}),Object(re.jsx)("div",{})]}),Object(re.jsx)(je.a,{label:"",name:"qualifier",placeholder:"Qualifier text...",value:r.qualifier,onChange:w,multiline:!0,autoAdjustHeight:!1,resizable:!1,disabled:!r.tagKey||y,validateOnLoad:!1,onGetErrorMessage:function(){return D(r.qualifier)}})]}),Object(re.jsxs)("div",{className:"modalFooter",children:[Object(re.jsx)(ae.a,{text:"Submit",disabled:S(),onClick:function(){return null===t||void 0===t?void 0:t(r)}}),Object(re.jsx)(ie.a,{text:"Cancel",onClick:function(){return null===n||void 0===n?void 0:n()}})]})]})}))),Ae=(n(169),Object(m.a)((function(){var e=k(),t=e.globalFileData,n=e.currentLanguage,a=e.isEditable,c=Object(i.useState)([]),o=Object(l.a)(c,2),s=o[0],r=o[1],u=Object(i.useState)([]),d=Object(l.a)(u,2),b=d[0],h=d[1],j=Object(p.a)(!1),f=Object(l.a)(j,2),v=f[0],m=f[1],g=m.setTrue,O=m.setFalse,x=Object(i.useRef)(null);Object(i.useEffect)((function(){if(null===t||void 0===t?void 0:t.customStrings){var e=[],a=[],i=[],c=[],o=t.customStrings.content;Object.keys(o).filter((function(e){return e.includes("eligibility.question")})).sort((function(e,t){return e>t?1:-1})).forEach((function(t){var s=t.split("/")[1].split(".");if(e.includes(s[0])){var r=i.findIndex((function(e){return e.key===s[0]}));i[r].count++}else e.push(s[0]),i.push({key:s[0],name:G(s[0]),startIndex:c.length,count:1,isCollapsed:!0});a.includes(t)||(a.push(t),c.push({key:t,text:o[t][n]?o[t][n]:"*Translation Not Found* (".concat(n,")")}))})),r(i),h(c)}}),[t,n,r,h]);var y=[{key:"questionColKey",name:"Question",fieldName:"text",minWidth:100,isResizable:!1},{key:"editCol",name:"",fieldName:"editQualifier",minWidth:50,isResizable:!1}].filter((function(e){return!!a||"editCol"!==e.key})),C=Object(i.useCallback)((function(e){x.current=null!==e&&void 0!==e?e:null,g()}),[g,x]),N=Object(i.useCallback)((function(e){H(e),O()}),[O]),w=Object(i.useCallback)((function(e,t,n){var i=e[null===n||void 0===n?void 0:n.fieldName];return"editCol"===(null===n||void 0===n?void 0:n.key)?a?Object(re.jsx)(Y.a,{iconName:"Edit",className:"editIcon",onClick:function(){return C(e)}}):null:Object(re.jsx)("span",{children:i})}),[C,a]),D=s.map((function(e){return{key:e.key,text:e.name}}));return Object(re.jsxs)("div",{className:"qualifierPanelContainer",children:[Object(re.jsx)("div",{className:"panelHeader",children:Object(re.jsx)("div",{className:"panelHeaderTitle",children:"Qualifiers"})}),Object(re.jsx)("div",{className:"panelBody",children:Object(re.jsxs)("section",{children:[Object(re.jsxs)("div",{className:"searchRow",children:[Object(re.jsx)("div",{}),Object(re.jsxs)("div",{className:"addQualiferHeaderButton",onClick:function(){return C(null)},children:[Object(re.jsx)(Y.a,{iconName:"CircleAdditionSolid",className:"addQualifierIcon"}),"Add Qualifier"]})]}),Object(re.jsx)(Z.a,{items:b,groups:s,columns:y,groupProps:{showEmptyGroups:!1},compact:!0,isHeaderVisible:!1,checkboxVisibility:2,className:"qualifierGroupItem",onRenderItemColumn:w})]})}),Object(re.jsx)(he.a,{isOpen:v,isModeless:!1,isDarkOverlay:!0,isBlocking:!1,children:Object(re.jsx)(Te,{item:x.current,tagsOptions:D,onSubmit:N,onCancel:O})})]})}))),Pe=(n(170),Object(m.a)((function(e){var t=e.showDashboard,n=Object(i.useState)([]),a=Object(l.a)(n,2),c=a[0],o=a[1],s=Object(i.useState)([]),r=Object(l.a)(s,2),u=r[0],d=r[1],b=Object(i.useState)([]),h=Object(l.a)(b,2),j=h[0],f=h[1],v=Object(i.useState)(!1),p=Object(l.a)(v,2),m=p[0],g=p[1],O=k();return Object(i.useEffect)((function(){var e=[],t=[],n=[];JSON.stringify(O.initGlobalFileData.customStrings).toLowerCase()!==JSON.stringify(O.globalFileData.customStrings).toLowerCase()&&(e.push({label:"Global strings information updated",value:O.globalFileData.customStrings}),n.push(O.globalFileData.customStrings)),JSON.stringify(O.initGlobalFileData.cdcStateNames).toLowerCase()!==JSON.stringify(O.globalFileData.cdcStateNames).toLowerCase()&&(e.push({label:"State names information updated",value:O.globalFileData.cdcStateNames}),n.push(O.globalFileData.cdcStateNames)),JSON.stringify(O.initGlobalFileData.cdcStateLinks).toLowerCase()!==JSON.stringify(O.globalFileData.cdcStateLinks).toLowerCase()&&(e.push({label:"State links information updated",value:O.globalFileData.cdcStateLinks}),n.push(O.globalFileData.cdcStateLinks)),Object.keys(O.repoFileData).forEach((function(n){if(O.initRepoFileData)if(O.initRepoFileData[n]){var a,i=!1;JSON.stringify(O.initRepoFileData[n].info).toLowerCase()!==JSON.stringify(O.repoFileData[n].info).toLowerCase()&&(e.push({label:"Updated information for ".concat(n),value:O.repoFileData[n]}),i=!0),O.repoFileData[n].regions&&(null===(a=JSON.stringify(O.initRepoFileData[n].regions))||void 0===a?void 0:a.toLowerCase())!==JSON.stringify(O.repoFileData[n].regions).toLowerCase()&&(e.push({label:"Updated regions for ".concat(n),value:O.repoFileData[n]}),i=!0),JSON.stringify(O.initRepoFileData[n].vaccination).toLowerCase()!==JSON.stringify(O.repoFileData[n].vaccination).toLowerCase()&&(e.push({label:"Updated phase information for ".concat(n),value:O.repoFileData[n]}),i=!0),i&&t.push({key:n,data:O.repoFileData[n]})}else e.push({label:"New location added - ".concat(n),value:O.repoFileData[n]}),t.push({key:n,data:O.repoFileData[n]})})),d(t),o(e),f(n)}),[O.initRepoFileData,O.repoFileData,O.initGlobalFileData,O.globalFileData]),Object(re.jsx)("div",{className:"reviewPageContainer",children:Object(re.jsx)("div",{className:"bodyContainer",children:Object(re.jsx)("div",{className:"bodyContent",children:m?Object(re.jsx)("section",{className:"loadingContainer",children:Object(re.jsx)($.a,{description:"Saving changes..."})}):Object(re.jsxs)("section",{children:[Object(re.jsx)(Z.a,{items:c,columns:[{key:"labelCol",name:"Pending Changes",fieldName:"label",minWidth:200,isResizable:!0}],setKey:"set",layoutMode:X.e.justified,checkboxVisibility:2}),Object(re.jsx)("div",{className:"submitContainer",children:Object(re.jsx)(ae.a,{text:"Submit changes",onClick:function(){g(!0),ce([j,u,t])}})})]})})})})}))),qe=(n(171),{dropdown:{border:"none"},title:{fontSize:"14px",color:"#0078d4 !important",border:"none",backgroundColor:"transparent"},caretDown:{color:"#0078d4 !important",fontSize:"14px"},dropdownOptionText:{fontSize:"14px"}}),Ke=(Object(m.a)((function(){var e=Object(i.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=k(),o=c.globalFileData,s=c.currentLanguage,r=J(s),u=Object(i.useState)(r[0]),b=Object(l.a)(u,2),h=b[0],j=b[1],f=Object(i.useRef)({}),v=Object(i.useRef)(s);Object(i.useEffect)((function(){v.current=s,j(J(s)[0])}),[s,v,j]),Object(i.useEffect)((function(){var e=Object.entries(o.cdcStateNames.content).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return{locKey:n,fromKey:v.current,from:a[v.current],toKey:h.key,to:h.key&&a[h.key]?a[h.key]:""}})).sort((function(e,t){return e.from>t.from?1:-1}));a(e)}),[o,h,v,a]);var p=Object(i.useCallback)((function(e,t){j(t)}),[j]),m=Object(i.useCallback)((function(e,t){var i=e.target.value,c=n.findIndex((function(e){return e.from===t.from}));n[c]=Object(O.a)(Object(O.a)({},t),{},{to:i}),a(Object(fe.a)(n)),f.current=n[c]}),[f,n,a]),g=Object(i.useCallback)((function(e){U(e)}),[]);return Object(re.jsx)("div",{className:"translatePageContainer",children:Object(re.jsxs)("div",{className:"bodyContainer",children:[Object(re.jsx)("div",{className:"bodyHeader",children:Object(re.jsxs)("div",{className:"bodyHeaderTitle",children:[Object(re.jsx)("div",{className:"breadCrumbs",children:"/ Translate"}),Object(re.jsx)("div",{className:"mainTitle",children:"Translate"})]})}),Object(re.jsxs)("div",{className:"bodyContent",children:[Object(re.jsxs)("div",{className:"filterGroup",children:[Object(re.jsx)(d.a,{selectedKey:h.key,placeholder:"Available languages",options:r,styles:qe,onChange:p}),Object(re.jsx)(d.a,{selectedKey:null,placeholder:"Needs Translation",options:[],styles:qe})]}),Object(re.jsxs)("section",{children:[Object(re.jsx)("div",{className:"listTitle",children:"Locations"}),n.map((function(e,t){return Object(re.jsxs)("div",{className:"locationListRow".concat(t%2>0?"":" altRow"),children:[Object(re.jsx)("div",{className:"fromCol",children:e.from}),Object(re.jsx)(je.a,{name:e.to,value:e.to,className:"toCol",onChange:function(t){return m(t,e)},onBlur:function(){return g(e)}})]},"locationRow-".concat(t))}))]})]})]})})})),n(172),n(173),Object(m.a)((function(){var e=k(),t=Object(p.a)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],o=c.setTrue,s=c.setFalse,r=Object(i.useState)("Dashboard"),m=Object(l.a)(r,2),O=m[0],x=m[1],y=Object(i.useCallback)((function(e){"Locations"===e.props.headerText?o():s(),x(e.props.headerText)}),[o,s,x]),C=Object(i.useCallback)((function(){x("Dashboard")}),[x]);return Object(re.jsxs)("div",{className:"rootContentWrapper",children:[k().isAuthenticated?Object(re.jsx)(re.Fragment,{children:Object(re.jsxs)(g.d,{children:[Object(re.jsx)(g.b,{exact:!0,path:"/",children:Object(re.jsxs)("div",{className:"appPageContainer",children:[Object(re.jsxs)("div",{className:"appHeaderWrapper",children:[Object(re.jsxs)("div",{className:"appHeaderContainer",children:[Object(re.jsx)(u.a,{iconProps:{iconName:"waffle"},title:"Apps",styles:{icon:{fontSize:"24px",color:"white"},rootHovered:{backgroundColor:"transparent"},rootPressed:{backgroundColor:"transparent"}}}),Object(re.jsx)("div",{className:"appHeaderTitle",children:"Data Composer"})]}),Object(re.jsxs)("div",{className:"appHeaderPersona",children:[Object(re.jsx)("div",{children:Object(re.jsx)(d.a,{defaultSelectedKey:e.currentLanguage,onChange:function(e,t){return L(t)},ariaLabel:"Pick Language",options:J(),styles:{dropdown:{border:"none"},title:{fontSize:"14px",color:"white !important",border:"none",backgroundColor:"transparent"},caretDown:{color:"white !important",fontSize:"14px"},dropdownOptionText:{fontSize:"14px"},root:{selectors:{":hover":{backgroundColor:"rgba(0,0,0,.25);"}}}}})}),Object(re.jsx)("div",{className:"appHeaderUsername",children:e.userDisplayName}),Object(re.jsx)(b.a,{text:e.userDisplayName,size:h.c.size32,hidePersonaDetails:!0})]})]}),Object(re.jsx)("div",{className:"appBodyWrapper",children:k().isAuthorized?Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:"appBodyLeft",children:Object(re.jsxs)(j.a,{onLinkClick:y,selectedKey:O,children:[Object(re.jsxs)(f.a,{headerText:"Dashboard",itemKey:"Dashboard",children:[e.pendingChanges&&Object(re.jsx)(v.a,{styles:{root:{margin:"10px 5px"}},children:"You have pending changes, please click on the review tab to submit these changes."}),Object(re.jsx)(le,{})]}),Object(re.jsxs)(f.a,{headerText:"Locations",itemKey:"Locations",children:[e.pendingChanges&&Object(re.jsx)(v.a,{styles:{root:{margin:"10px 5px"}},children:"You have pending changes, please click on the review tab to submit these changes."}),Object(re.jsx)(Le,{})]}),!1,e.pendingChanges&&Object(re.jsx)(f.a,{headerText:"Review",itemKey:"Review",children:Object(re.jsx)(Pe,{showDashboard:C})})]})}),e.isEditable&&a&&Object(re.jsx)("div",{className:"appBodyRight",children:Object(re.jsx)(Ae,{})})]}):Object(re.jsx)("div",{className:"appBodyLeft",children:Object(re.jsxs)("div",{className:"dashboardPageWrapper",children:[Object(re.jsx)("div",{className:"bodyContainer",children:Object(re.jsx)("div",{className:"bodyHeader",children:Object(re.jsx)("div",{className:"bodyHeaderTitle",children:Object(re.jsx)("div",{className:"mainTitle",children:"Welcome!"})})})}),Object(re.jsx)("section",{style:{width:"70%",margin:"0px auto"},children:Object(re.jsxs)("p",{children:["Thank you for your interest in helping to manage the data, unfortunately right now access to this tool requires collaborator permissions on"," ",Object(re.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.github.com/".concat("microsoft","/").concat("covid-vaccine-bot"),children:"this repo"}),". Feel free to request access over on GitHub!"]})})]})})})]})}),Object(re.jsx)(g.b,{path:"*",children:Object(re.jsx)("div",{children:"404 page not found."})})]})}):Object(re.jsxs)(g.d,{children:[Object(re.jsx)(g.b,{exact:!0,path:"/",children:Object(re.jsx)(Re,{})}),Object(re.jsx)(g.b,{path:"*",children:Object(re.jsx)(g.a,{to:"/"})})]}),Object(re.jsx)(ue,{})]})}))),_e=n(17),ze=n.n(_e),Ee=n(34),Be=Object(y.mutatorAction)("setUserAuthData",(function(e){if(e){var t=k();t.accessToken=e.accessToken,t.email=e.email,t.isAuthenticated=e.isAuthenticated,t.userDisplayName=e.userDisplayName,t.username=e.username}})),We=Object(y.mutatorAction)("setUserNoAccess",(function(){k().isAuthorized=!1})),He=n(69),Ue=(n(179),function(){var e=Object(Ee.a)(ze.a.mark((function e(){var t,n,a,i,c,o,s;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,He.a.apps.length||He.a.initializeApp({apiKey:"AIzaSyDWHG36x0EjPRf8zdw9t439_jHPkJRNc3I",authDomain:"covid-vaccine-data-app.firebaseapp.com"}),(n=new He.a.auth.GithubAuthProvider).addScope("repo"),e.next=6,He.a.auth().signInWithPopup(n);case 6:return(a=e.sent)&&(s=a.credential,t={isAuthenticated:!0,accessToken:s.accessToken,email:null===(i=a.user)||void 0===i?void 0:i.email,userDisplayName:null===(c=a.user)||void 0===c?void 0:c.displayName,username:null===(o=a.additionalUserInfo)||void 0===o?void 0:o.username}),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Ge=n(135),Je=n(70),Me=n.n(Je),Qe=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=t.split("/"),i=e;a.length>1;){var c=a,o=Object(Ge.a)(c),s=o[0],r=o.slice(1);a=r,void 0===i[s]&&(i[s]={}),i=i[s]}return i[a[0]]?i[a[0]]=Object(O.a)(Object(O.a)({},i[a[0]]),n):i[a[0]]={},e},Ve=function(){var e=Object(Ee.a)(ze.a.mark((function e(t,n){var a,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t),{method:"GET",headers:{Authorization:"token ".concat(n)}});case 2:return a=e.sent,e.next=5,a.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(e){for(var t="en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th".split(","),n=Object.keys(e),a="String ID,"+t.join(",")+"\n",i=function(){var n=o[c],i=[n];t.forEach((function(t){e[n][t]?i.push('"'.concat(e[n][t].replace(/"/g,'""'),'"')):i.push("")})),a+=i.join(",")+"\n"},c=0,o=n;c<o.length;c++)i();return a},Ze=function(){var e=Object(Ee.a)(ze.a.mark((function e(t){var n,a,i,c,o,s,r,l,u,d,b,h,j,f,v,p,m,g,O,x,y,N,w,D,I,S,L,F,R,T,A,P,q,K,_,z,E,B,W,H,U,G,J=arguments;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=J.length>1&&void 0!==J[1]?J[1]:void 0,a=k(),i="microsoft",c="covid-vaccine-bot",e.t0=t,e.next="checkAccess"===e.t0?7:"getBranches"===e.t0?11:"getPullRequests"===e.t0?17:"getIssues"===e.t0?23:"getRepoFileData"===e.t0?29:"createPR"===e.t0?73:126;break;case 7:return e.next=9,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/collaborators/").concat(a.username),{method:"GET",headers:{Authorization:"token ".concat(a.accessToken),Accept:"application/vnd.github.v3+json"}});case 9:return o=e.sent,e.abrupt("return",o);case 11:return e.next=13,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/branches"),{method:"GET",headers:{Authorization:"token ".concat(a.accessToken)}});case 13:return s=e.sent,e.next=16,s.json();case 16:return e.abrupt("return",e.sent);case 17:return e.next=19,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/pulls"),{method:"GET",headers:{Authorization:"token ".concat(a.accessToken)}});case 19:return r=e.sent,e.next=22,r.json();case 22:return e.abrupt("return",e.sent);case 23:return e.next=25,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/issues"),{method:"GET",headers:{Authorization:"token ".concat(a.accessToken)}});case 25:return l=e.sent,e.next=28,l.json();case 28:return e.abrupt("return",e.sent);case 29:return e.next=31,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/contents/packages/plans/data"),{method:"GET",headers:{Authorization:"token ".concat(a.accessToken)}});case 31:return u=e.sent,e.next=34,u.json();case 34:return d=e.sent,b=d.find((function(e){return"policies"===e.name})).git_url,e.next=38,fetch("".concat(b,"?recursive=true"),{method:"GET",headers:{Authorization:"token ".concat(a.accessToken)}});case 38:return h=e.sent,e.next=41,h.json();case 41:return j=e.sent,f={},j.tree.forEach(function(){var e=Object(Ee.a)(ze.a.mark((function e(t){var n,i,c,o,s,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("tree"!==t.type){e.next=4;break}Qe(f,t.path),e.next=22;break;case 4:return n=t.path.lastIndexOf("/"),i=t.path.substring(0,n),c=t.path.substring(n+1),o=c.split(".")[0],s={},e.next=11,Ve(String(t.url),String(a.accessToken));case 11:r=e.sent,e.t0=c.split(".")[1].toLowerCase(),e.next="json"===e.t0?15:"md"===e.t0?17:"csv"===e.t0?19:21;break;case 15:return s[o]={name:c,type:o,sha:t.sha,url:t.url,path:t.path,content:JSON.parse(V(r.content))},e.abrupt("break",21);case 17:return s.desc_md={name:c,type:o,sha:t.sha,url:t.url,path:t.path,content:V(r.content)},e.abrupt("break",21);case 19:return s.strings={name:c,type:o,sha:t.sha,url:t.url,path:t.path,content:C(Me()(V(r.content),{columns:!0}))},e.abrupt("break",21);case 21:s!=={}&&Qe(f,i,s);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=d.find((function(e){return"localization"===e.name})).git_url,e.next=47,fetch("".concat(v,"?recursive=true"),{method:"GET",headers:{Authorization:"token ".concat(a.accessToken)}});case 47:return p=e.sent,e.next=50,p.json();case 50:return m=e.sent,g=m.tree.find((function(e){return"custom-strings.csv"===e.path})),O=m.tree.find((function(e){return"cdc-state-names.csv"===e.path})),x=m.tree.find((function(e){return"cdc-state-links.csv"===e.path})),y={},N={},w={},e.next=59,Ve(String(g.url),String(a.accessToken));case 59:return D=e.sent,y=C(Me()(V(D.content),{columns:!0})),e.next=63,Ve(String(O.url),String(a.accessToken));case 63:return I=e.sent,N=C(Me()(V(I.content),{columns:!0})),e.next=67,Ve(String(x.url),String(a.accessToken));case 67:return S=e.sent,w=C(Me()(V(S.content),{columns:!0})),g.content=y,O.content=N,x.content=w,e.abrupt("return",[f,g,O,x]);case 73:if(!(null===a||void 0===a?void 0:a.mainBranch)){e.next=125;break}return L=null===a||void 0===a?void 0:a.mainBranch,F="refs/heads/".concat(a.username,"-policy-").concat(Date.now()),R=n[0],T=n[1],e.next=80,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/git/refs"),{method:"POST",headers:{Authorization:"token ".concat(a.accessToken)},body:JSON.stringify({ref:F,sha:L.commit.sha})});case 80:return A=e.sent,e.next=83,A.json();case 83:if(!e.sent){e.next=121;break}if(!R){e.next=95;break}e.t1=ze.a.keys(R);case 87:if((e.t2=e.t1()).done){e.next=95;break}return P=e.t2.value,q=R[P],K=Ye(q.content),e.next=93,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/contents/packages/plans/data/localization/").concat(q.path),{method:"PUT",headers:{Authorization:"token ".concat(a.accessToken)},body:JSON.stringify({branch:F,message:"auto file update",content:Q(K),sha:q.sha})});case 93:e.next=87;break;case 95:if(!T){e.next=121;break}e.t3=ze.a.keys(T);case 97:if((e.t4=e.t3()).done){e.next=121;break}return _=e.t4.value,z=T[_].data,e.next=102,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/contents/packages/plans/data/policies/").concat(z.info.path),{method:"PUT",headers:{Authorization:"token ".concat(a.accessToken)},body:JSON.stringify({branch:F,message:"auto file update",content:Q(JSON.stringify(z.info.content,null,"\t")),sha:z.info.sha})});case 102:return e.next=104,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/contents/packages/plans/data/policies/").concat(z.vaccination.path),{method:"PUT",headers:{Authorization:"token ".concat(a.accessToken)},body:JSON.stringify({branch:F,message:"auto file update",content:Q(JSON.stringify(z.vaccination.content,null,"\t")),sha:z.vaccination.sha})});case 104:return e.next=106,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/contents/packages/plans/data/policies/").concat(z.strings.path),{method:"PUT",headers:{Authorization:"token ".concat(a.accessToken)},body:JSON.stringify({branch:F,message:"auto file update",content:Q(Ye(z.strings.content)),sha:z.strings.sha})});case 106:if(!z.regions){e.next=119;break}E=Object.keys(z.regions),B=0,W=E;case 109:if(!(B<W.length)){e.next=119;break}return H=W[B],U=z.regions[H],e.next=114,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/contents/packages/plans/data/policies/").concat(U.info.path),{method:"PUT",headers:{Authorization:"token ".concat(a.accessToken)},body:JSON.stringify({branch:F,message:"auto file update",content:Q(JSON.stringify(U.info.content,null,"\t")),sha:U.info.sha})});case 114:return e.next=116,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/contents/packages/plans/data/policies/").concat(U.vaccination.path),{method:"PUT",headers:{Authorization:"token ".concat(a.accessToken)},body:JSON.stringify({branch:F,message:"auto file update",content:Q(JSON.stringify(U.vaccination.content,null,"\t")),sha:U.vaccination.sha})});case 116:B++,e.next=109;break;case 119:e.next=97;break;case 121:return e.next=123,fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/pulls"),{method:"POST",headers:{Authorization:"token ".concat(a.accessToken)},body:JSON.stringify({head:F,base:"main",title:"auto PR creation"})});case 123:return G=e.sent,e.abrupt("return",G.json());case 125:return e.abrupt("break",126);case 126:return e.abrupt("return",void 0);case 127:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(y.orchestrator)(Fe,Object(Ee.a)(ze.a.mark((function e(){var t;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue();case 2:if(!(t=e.sent)){e.next=9;break}return Be(t),e.next=7,Ze("checkAccess");case 7:e.sent.ok?se():We();case 9:case"end":return e.stop()}}),e)})))),Object(y.orchestrator)(ce,function(){var e=Object(Ee.a)(ze.a.mark((function e(t){var n,a;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileData,e.next=3,Ze("createPR",n);case 3:if(!(a=e.sent)){e.next=18;break}return e.next=7,Ze("getBranches");case 7:return a=e.sent,w(a),e.next=11,Ze("getRepoFileData");case 11:return a=e.sent,S(a),e.next=15,Ze("getIssues");case 15:a=e.sent,D(a,n[2]()),I();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(y.orchestrator)(oe,Object(Ee.a)(ze.a.mark((function e(){var t;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze("getRepoFileData");case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)})))),Object(y.orchestrator)(se,Object(Ee.a)(ze.a.mark((function e(){var t;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,Ze("getBranches");case 3:return t=e.sent,w(t),e.next=7,Ze("getRepoFileData");case 7:return t=e.sent,S(t),e.next=11,Ze("getIssues");case 11:t=e.sent,D(t),I(),N(!1);case 15:case"end":return e.stop()}}),e)})))),function(){try{Object(a.a)(),s.a.render(Object(re.jsx)(c.a.StrictMode,{children:Object(re.jsx)(r.a,{basename:"/covid-vaccine-bot",children:Object(re.jsx)(Ke,{})})}),document.getElementById("root"))}catch(e){console.error("error rendering app",e)}}()},72:function(e,t,n){}},[[214,1,2]]]);
//# sourceMappingURL=main.975c9de7.chunk.js.map