{"version":3,"sources":["store/store.ts","utils/dataUtils.ts","mutators/repoMutators.ts","utils/textUtils.ts","actions/repoActions.ts","components/Dashboard.tsx","components/Footer.tsx","selectors/locationSelectors.ts","components/LocationForm.tsx","selectors/phaseSelectors.ts","components/PhaseQualifierForm.tsx","components/LocationsPhases.tsx","components/PhaseForm.tsx","components/LocationsRegions.tsx","components/LocationsStates.tsx","components/Locations.tsx","actions/authActions.ts","components/Login.tsx","components/AddQualiferForm.tsx","selectors/qualifierSelectors.ts","components/QualifierPanel.tsx","components/Review.tsx","components/Translate.tsx","components/App.tsx","selectors/authSelectors.ts","mutators/authMutators.ts","services/loginUserService.ts","services/repoServices.ts","orchestrators/authOrchestrators.ts","orchestrators/repoOrchestrators.ts","index.tsx"],"names":["getAppStore","createStore","isAuthenticated","isAuthorized","accessToken","undefined","username","email","userDisplayName","branches","issues","repoFileData","initRepoFileData","globalFileData","initGlobalFileData","mainBranch","currentLanguage","toggleQualifier","isEditable","pendingChanges","isDataRefreshing","prChanges","convertCSVDataToObj","csvData","returnObj","forEach","row","stringLabel","Object","keys","find","x","trim","stringId","toLowerCase","getObjDiffs","obj1","obj2","prototype","toString","call","key","diffs","compare","item1","item2","type1","type2","arr1","arr2","length","i","arraysMatch","objDiff","hasOwnProperty","initStoreData","mutatorAction","setBranchList","data","store","branch","name","setIssuesList","callback","handleCreatePR","setRepoFileData","customStrings","cdcStateNames","cdcStateLinks","setCurrentLanguage","updateLocationList","locationData","isRegion","selectedState","newLocObj","locationName","details","replace","info","content","id","metadata","code_alpha","code_numeric","type","regionType","path","sha","url","strings","vaccination","activePhase","links","eligibility","eligibilityPlan","eligibility_plan","text","providers","workflow","scheduling","schedulingPhone","scheduling_phone","createLocationDataObj","location","schedulingPhoneKey","schedulingPhoneDesc","schedulingPhoneDescKey","description","regions","stringsContentObj","updateLocationData","prevItem","regionObj","value","modifyStateStrings","locationKey","item","moreInfoContent","newStringsObj","infoKey","regionInfo","regionVaccinationObj","phases","copyPhaseData","phase","groupId","qualifications","qualification","question","qualifierId","moreInfoText","affectedPhase","affectedQualifier","push","newObj","oldObj","currPhaseObj","qual","moreInfoUrl","modifyMoreInfoLinks","updateQualifier","oldId","addQualifier","removeQualifier","removeIndex","findIndex","splice","removePhase","phaseId","addPhase","label","updatePhase","setActivePhase","updateGlobalQualifiers","qualifierKey","isNew","qualifierKeyBank","qualifier","split","filter","customStringKeys","qKey","tagKey","includes","endsWith","substr","translateLocationName","toKey","to","translateQualifier","translateMisc","category","parent","toProperCase","res","letter","toUpperCase","startsWith","getLanguageOptions","excludeLanguage","map","getLanguageDisplayText","l","languageCode","Intl","DisplayNames","of","utf8_to_b64","str","btoa","unescape","encodeURIComponent","b64_to_utf8","decodeURIComponent","escape","atob","createPR","action","fileData","getRepoFileData","initializeGitData","observer","state","useState","prList","setPRList","issueList","setIssueList","useBoolean","hideDialog","toggleHideDialog","toggle","noteKeys","setNoteKeys","useEffect","tempPRList","tempIssueList","requestUpdate","Date","updated_at","isScrappedIssue","labels","some","pull_request","title","author","user","login","update","toLocaleString","toggleCallout","useCallback","tempItems","index","indexOf","prColumns","fieldName","minWidth","isResizable","onRender","column","body","FontIcon","className","number","iconName","onClick","Callout","onDismiss","target","gapSpace","setInitialFocus","role","directionalHint","ariaLabel","href","html_url","rel","issueColumns","refreshData","onRefreshDataClick","ProgressIndicator","DetailsList","items","columns","setKey","layoutMode","DetailsListLayoutMode","justified","ariaLabelForSelectionColumn","ariaLabelForSelectAllCheckbox","checkButtonAriaLabel","checkboxVisibility","style","textAlign","Dialog","hidden","dialogContentProps","DialogType","normal","closeButtonAriaLabel","modalProps","isBlocking","DialogFooter","PrimaryButton","DefaultButton","Footer","memo","display","flexDirection","process","Link","children","cursor","marginLeft","marginRight","alignContent","window","open","getCustomStrings","keyFilter","customStringsList","entries","setInitialData","getStrings","selectedRegion","returnVal","getRegionCustomStrings","getStateCustomStrings","vacInfo","props","onSubmit","onCancel","formData","setFormData","fieldChanges","useRef","regionTypeOptions","region","baseTitle","formTitle","handleRegionChange","_ev","current","handleTextChange","ev","canSubmit","TextField","onChange","Dropdown","selectedKey","placeholder","options","disabled","getPhaseQualifierItems","getPhaseQualifierItemsByKey","qualifierList","sort","a","b","getExactCustomStrings","rowItems","onRowItemRemove","onRowItemTextChange","onRowItemQualifierChange","groupKey","phaseTagItems","phaseQualifiers","tagKeys","tagList","getPhaseTagItems","phaseQualifierItems","filteredQualifierItems","setFilteredQualifierItems","overrideIconFlag","moreInfoKey","regionPhases","currPhase","currQualification","getPhaseMoreInfoTextByKey","setMoreInfoText","getPhaseMoreInfoUrl","setMoreInfoUrl","changedItem","onTagChange","_event","option","q","onQualifierChange","onMoreInfoTextChange","onMoreInfoUrlChange","pointerEvents","visibility","defaultSelectedKey","styles","root","width","IconButton","iconProps","menuIcon","margin","menuProps","isBeakVisible","DirectionalHint","rightTopEdge","aria-label","multiline","autoAdjustHeight","resizable","padding","onBlur","phaseList","setPhaseList","groupToggleState","tempPhaseList","currentStateObj","phaseObj","isCollapsed","isActivePhase","tempPhaseObj","count","keyId","isActive","phaseItems","String","onAddQualifierClick","newItem","group","onRemoveRowItem","newItemIndex","onChangeRowItemText","currentItem","initItem","calcInfoKey","onChangeRowItemQualifier","idx","toggleGroup","onToggleCollapse","color","groupItem","filteredRegionsList","setFilteredRegionsList","stateRegionsFullList","selectedPhaseItem","setSelectedPhaseItem","isLocationModalOpen","openLocationModal","setTrue","dismissLocationModal","setFalse","isPhaseModalOpen","openPhaseModal","dismissPhaseModal","selectedModalFormItem","onNavigateBack","subLocationsColumns","loc","phaseColumns","maxWidth","phaseItemList","setPhaseItemList","selectedStateObj","tempList","valObj","newList","setInitialPhaseItems","selectedPhase","onLocationFormSubmit","onLocationFormOpen","onPhaseFormOpen","onRenderItemColumn","_index","fieldContent","onRegionFilter","onItemInvoked","SearchBox","selectionPreservedOnEmptyClick","Modal","isOpen","isModeless","isDarkOverlay","phaseData","onSelectedItem","filteredStateList","setFilteredStateList","stateRepoFullList","selectedLocationItem","locationColumns","stateId","stateNames","stateLabel","onStateFilter","openSelection","setSelectedState","loginUser","tagsOptions","globalQualifiersList","replaceAll","getGlobalQualifierValidationTexts","hasError","setHasError","isAddingTag","setIsAddingTag","handleTagChange","isDuplicate","newQualifier","newQualifierText","isTagDuplicate","newTag","newTagKey","t","disableSubmit","createNewTag","validateOnLoad","onGetErrorMessage","qualifierGroup","setQualifierGroup","qualifierGroupItems","setQualifierGroupItems","isAddQualifierModalOpen","openAddQualifierModal","dismissAddQualifierModal","formItem","groupKeys","questionItemKeys","tempQualifierGroup","tempQualifierGroupItems","contentObj","k","questionGroupKey","groupIdx","obj","startIndex","onAddQualifierFormOpen","addQualifierSubmit","setTimeout","tag","groups","groupProps","showEmptyGroups","compact","isHeaderVisible","showDashboard","changesList","setChangesList","locationUpdates","setLocationUpdates","globalUpdates","setGlobalUpdates","showLoading","setShowLoading","errorMessage","setErrorMessage","changeSummary","tempChangesList","tempLocationUpdates","tempGlobalUpdates","JSON","stringify","parse","addChanges","err","MessageBar","messageBarType","MessageBarType","error","dismissButtonAriaLabel","prTitle","rows","prDetails","filterDropdownStyles","dropdown","border","fontSize","backgroundColor","caretDown","dropdownOptionText","languageOptions","translationFilter","miscFilter","locationChanges","qualifierChanges","miscChanges","locationFullList","qualifierFullList","miscFullList","stateSpecificOptions","mainLanguage","toLanguage","locationList","setLocationList","setQualifierList","miscList","setMiscList","translationFilterState","setTranslationFilterState","miscFilterState","setMiscFilterState","miscStateSpecFilterState","setMiscStateSpecFilterState","locations","qualifiers","misc","isSectionCollapse","setSectionCollapse","buildTranslationsLists","tempMiscList","stateLinks","stateLinkLabel","translateToValue","translateLinkToValue","fromKey","from","_to","tempQualifierList","stateStrings","aKey","bKey","concat","tempMiscStateSpecificList","tempKeys","onCollapseSection","handleLocationTextChange","rowItem","handleQualifierTextChange","handleMiscTextChange","updateLocationTranslation","updateQualifierTranslation","updateMiscTranslation","onLanguageChange","onTranslationFilterChange","onMiscFilterChange","selectedMiscStateOptionKey","filteredList","onMiscStateSpecificFilterChange","val","Math","ceil","isPanelOpen","showPanel","hidePanel","setSelectedKey","onbeforeunload","togglePanel","headerText","exact","icon","rootHovered","rootPressed","e","o","selectors","Persona","size","PersonaSize","size32","hidePersonaDetails","Pivot","onLinkClick","PivotItem","itemKey","setUserAuthData","setUserNoAccess","loginUserService","authResp","firebase","apps","initializeApp","apiKey","authDomain","provider","auth","GithubAuthProvider","addScope","signInWithPopup","response","oauthCreds","credential","displayName","additionalUserInfo","createPath","pathInput","head","tail","getContent","token","fetch","method","headers","Authorization","json","createCSVDataString","languageKeys","contentKeys","result","join","rowValues","lang","repoServices","command","extraData","githubRepoOwner","githubRepoName","Accept","loadAccessResponse","loadBranchesResponse","loadPRResponse","loadIssuesResponse","clone","prChangeList","commentResp","commentsObj","changes","prNumber","prDescription","dataFolderResp","dataFolderObj","policyFolderGitUrl","folder","git_url","loadPolicyFolderResponse","policyFolderData","stateData","tree","element","lastInstance","lastIndexOf","filePath","substring","fileName","fileType","fileObj","localizationFolderGitUrl","localizationResponse","localizationData","file","customStringsData","cdcStateNamesData","cdcStateLinksData","customStringsDataParse","cdcStateNamesDataParse","cdcStateLinksDataParse","branchName","now","prFormData","ref","commit","createBranchResponse","updateObj","message","locationObj","regionKeys","base","prResp","prRespClone","orchestrator","resp","ok","initializeIcons","ReactDOM","render","StrictMode","basename","document","getElementById","console"],"mappings":"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","file":"static/js/main.92dbb72c.chunk.js","sourcesContent":["/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { createStore } from 'satcheljs'\nimport { AppState } from './schema/AppState'\n\nexport const getAppState = (): AppState => {\n\treturn {\n\t\tisAuthenticated: false,\n\t\tisAuthorized: true,\n\t\taccessToken: undefined,\n\t\tusername: undefined,\n\t\temail: undefined,\n\t\tuserDisplayName: undefined,\n\t\tbranches: undefined,\n\t\tissues: undefined,\n\t\trepoFileData: undefined,\n\t\tinitRepoFileData: undefined,\n\t\tglobalFileData: undefined,\n\t\tinitGlobalFileData: undefined,\n\t\tmainBranch: undefined,\n\t\tcurrentLanguage: 'en-us',\n\t\ttoggleQualifier: false,\n\t\tisEditable: true,\n\t\tpendingChanges: false,\n\t\tisDataRefreshing: false,\n\t\tprChanges: undefined\n\t}\n}\n\nexport const getAppStore = createStore<AppState>('appState', getAppState())\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nexport const convertCSVDataToObj = (csvData: any) => {\n\tconst returnObj: any = {}\n\n\tcsvData.forEach((row: any) => {\n\t\tconst stringLabel: string = Object.keys(row).find(\n\t\t\t(x) => x.trim() === 'String ID'\n\t\t) as string\n\t\tconst stringId: string = row[stringLabel]\n\n\t\tdelete row[stringLabel]\n\t\treturnObj[stringId.toLowerCase()] = row\n\t})\n\n\treturn returnObj\n}\n\nexport const createLocationDataObj = (locationData: any): any => {\n\tconst locationName = locationData.details\n\t\t.replace(/[^a-z0-9\\s]/gi, '')\n\t\t.replace(/\\s/g, '_')\n\t\t.toLowerCase()\n\treturn {\n\t\tinfo: {\n\t\t\tcontent: {\n\t\t\t\tid: locationName,\n\t\t\t\tmetadata: {\n\t\t\t\t\tcode_alpha: locationName,\n\t\t\t\t\tcode_numeric: 0,\n\t\t\t\t},\n\t\t\t\tname: locationData.details,\n\t\t\t\ttype: locationData.regionType,\n\t\t\t},\n\t\t\tname: 'info.json',\n\t\t\tpath: `${locationName}/info.json`,\n\t\t\tsha: '',\n\t\t\ttype: 'info',\n\t\t\turl: '',\n\t\t},\n\t\tstrings: { content: {} },\n\t\tvaccination: {\n\t\t\tcontent: {\n\t\t\t\tactivePhase: '',\n\t\t\t\tlinks: {\n\t\t\t\t\t...(locationData?.eligibility !== '' && {\n\t\t\t\t\t\teligibility: {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.eligibilityPlan !== '' && {\n\t\t\t\t\t\teligibility_plan: {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.info !== '' && {\n\t\t\t\t\t\tinfo: {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${locationName}/state_link`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.providers !== '' && {\n\t\t\t\t\t\tproviders: {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.workflow !== '' && {\n\t\t\t\t\t\tworkflow: {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.scheduling !== '' && {\n\t\t\t\t\t\tscheduling: {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.schedulingPhone !== '' && {\n\t\t\t\t\t\tscheduling_phone: {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: locationData.schedulingPhone,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t},\n\t\t\tname: 'vaccination.json',\n\t\t\tpath: `${locationName}/vaccination.json`,\n\t\t\tsha: '',\n\t\t\ttype: 'vaccination',\n\t\t\turl: '',\n\t\t},\n\t}\n}\n\nexport const getObjDiffs = (obj1: any, obj2: any) => {\n\n    // Make sure an object to compare is provided\n    if (!obj2 || Object.prototype.toString.call(obj2) !== '[object Object]') {\n        return obj1;\n    }\n\n    const diffs: any = {};\n    let key;\n\n    /**\n     * Check if two arrays are equal\n     * @param  {Array}   arr1 The first array\n     * @param  {Array}   arr2 The second array\n     * @return {Boolean}      If true, both arrays are equal\n     */\n    const arraysMatch = function (arr1: any, arr2: any) {\n\n        // Check if the arrays are the same length\n        if (arr1.length !== arr2.length) return false;\n\n        // Check if all items exist and are in the same order\n        for (let i = 0; i < arr1.length; i++) {\n            if (arr1[i] !== arr2[i]) return false;\n        }\n\n        // Otherwise, return true\n        return true;\n\n    };\n\n    /**\n     * Compare two items and push non-matches to object\n     * @param  {*}      item1 The first item\n     * @param  {*}      item2 The second item\n     * @param  {String} key   The key in our object\n     */\n    const compare = function (item1: any, item2: any, key: string) {\n        // Get the object type\n        const type1 = Object.prototype.toString.call(item1);\n        const type2 = Object.prototype.toString.call(item2);\n\n        // If type2 is undefined it has been removed\n        if (type2 === '[object Undefined]') {\n            diffs[key] = null;\n            return;\n        }\n\n        // If items are different types\n        if (type1 !== type2) {\n            diffs[key] = item2;\n            return;\n        }\n\n        // If an object, compare recursively\n        if (type1 === '[object Object]') {\n            const objDiff = getObjDiffs(item1, item2);\n            if (Object.keys(objDiff).length > 0) {\n                diffs[key] = objDiff;\n            }\n            return;\n        }\n\n        // If an array, compare\n        if (type1 === '[object Array]') {\n            if (!arraysMatch(item1, item2)) {\n                diffs[key] = item2;\n            }\n            return;\n        }\n\n        // Else if it's a function, convert to a string and compare\n        // Otherwise, just compare\n        if (type1 === '[object Function]') {\n            if (item1.toString() !== item2.toString()) {\n                diffs[key] = item2;\n            }\n        } else {\n            if (item1 !== item2 ) {\n                diffs[key] = item2;\n            }\n        }\n\n    };\n\n\n    //\n    // Compare our objects\n    //\n    // Loop through the first object\n    for (key in obj1) {\n        if (obj1.hasOwnProperty(key)) {\n            compare(obj1[key], obj2[key], key);\n        }\n    }\n\n    // Loop through the second object and find missing items\n    for (key in obj2) {\n        if (obj2.hasOwnProperty(key)) {\n            if (!obj1[key] && obj1[key] !== obj2[key] ) {\n                diffs[key] = obj2[key];\n            }\n        }\n    }\n\n    // Return the object of differences\n    return diffs;\n};","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { mutatorAction } from 'satcheljs'\nimport { getAppStore } from '../store/store'\nimport { createLocationDataObj } from '../utils/dataUtils'\n\nexport const initStoreData = mutatorAction(\n\t'initStoreData',\n\t(isDataRefreshing: boolean) => {\n\t\tconst store = getAppStore()\n\t\tstore.isDataRefreshing = isDataRefreshing\n\t}\n)\n\nexport const setBranchList = mutatorAction(\n\t'setBranchList',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.branches = data\n\t\t\tconst mainBranch = data.find((branch) => branch.name === 'main')\n\t\t\tstore.mainBranch = mainBranch\n\t\t}\n\t}\n)\n\nexport const setIssuesList = mutatorAction(\n\t'setIssuesList',\n\t(data: any[] | undefined, callback?: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.issues = data[0]\n\t\t\tstore.prChanges= data[1]\n\t\t\tif (callback) {\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const handleCreatePR = mutatorAction('handleCreatePR', () => {\n\tconst store = getAppStore()\n\tstore.pendingChanges = false\n})\n\nexport const setRepoFileData = mutatorAction(\n\t'setRepoFileData',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.repoFileData = data[0]\n\t\t\tstore.initRepoFileData = data[0]\n\t\t\tstore.globalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t\tstore.initGlobalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setCurrentLanguage = mutatorAction(\n\t'setCurrentLanguage',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.currentLanguage = data.key\n\t\t}\n\t}\n)\nexport const updateLocationList = mutatorAction(\n\t'updateLocationList',\n\t(locationData: any, isRegion: boolean, selectedState?: any) => {\n\t\tif (locationData) {\n\t\t\tconst store = getAppStore()\n\t\t\tconst newLocObj = createLocationDataObj(locationData)\n\t\t\tstore.pendingChanges = true\n\n\t\t\tif (!isRegion) {\n\t\t\t\tstore.globalFileData.cdcStateNames.content[\n\t\t\t\t\t`cdc/${newLocObj.info.content.id}/state_name`\n\t\t\t\t] = {\n\t\t\t\t\t...store.globalFileData.cdcStateNames.content[\n\t\t\t\t\t\t`cdc/${newLocObj.info.content.id}/state_name`\n\t\t\t\t\t],\n\t\t\t\t\t[store.currentLanguage]: locationData.details,\n\t\t\t\t}\n\n\t\t\t\tnewLocObj.strings.path = `${newLocObj.info.content.id}/${newLocObj.info.content.id}.csv`\n\n\t\t\t\tconst stringsContentObj: any = {}\n\t\t\t\tif (locationData.schedulingPhone !== '') {\n\t\t\t\t\tconst schedulingPhoneKey: string = `c19.link/scheduling.phone.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tstringsContentObj[schedulingPhoneKey] = {\n\t\t\t\t\t\t...stringsContentObj[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.text = schedulingPhoneKey\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhoneDesc !== '') {\n\t\t\t\t\tconst schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tstringsContentObj[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...stringsContentObj[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\n\t\t\t\tnewLocObj.strings.content = stringsContentObj\n\n\t\t\t\tstore.repoFileData[newLocObj.info.content.id] = newLocObj\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t} else {\n\t\t\t\tconst location = store.repoFileData[selectedState.key]\n\t\t\t\tnewLocObj.info.path = `${selectedState.key}/regions/${newLocObj.info.path}`\n\t\t\t\tnewLocObj.vaccination.path = `${selectedState.key}/regions/${newLocObj.vaccination.path}`\n\n\t\t\t\tif (locationData.info !== '') {\n\t\t\t\t\tnewLocObj.vaccination.content.links.info.text = `cdc/${location.info.content.id}/state_link` //`c19.link/info.${newLocObj.info.content.id}`.toLowerCase()\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhone !== '') {\n\t\t\t\t\tconst schedulingPhoneKey: string = `c19.link/scheduling.phone.${location.info.content.metadata.code_alpha}.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.text = schedulingPhoneKey\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhoneDesc !== '') {\n\t\t\t\t\tconst schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${location.info.content.metadata.code_alpha}.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\n\t\t\t\tif (location.regions) {\n\t\t\t\t\tlocation.regions[newLocObj.info.content.id] = newLocObj\n\t\t\t\t} else {\n\t\t\t\t\tlocation.regions = {\n\t\t\t\t\t\t[newLocObj.info.content.id]: newLocObj,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateLocationData = mutatorAction(\n\t'updateLocationData',\n\t(\n\t\tlocationData: any,\n\t\tisRegion: boolean,\n\t\tprevItem: any,\n\t\tselectedState?: any\n\t) => {\n\t\tif (locationData) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.pendingChanges = true\n\t\t\tif (!isRegion) {\n\t\t\t\tconst location = store.repoFileData[prevItem.key]\n\n\t\t\t\tstore.globalFileData.cdcStateNames.content[\n\t\t\t\t\t`cdc/${prevItem.key}/state_name`\n\t\t\t\t] = {\n\t\t\t\t\t...store.globalFileData.cdcStateNames.content[\n\t\t\t\t\t\t`cdc/${prevItem.key}/state_name`\n\t\t\t\t\t],\n\t\t\t\t\t[store.currentLanguage]: locationData.details,\n\t\t\t\t}\n\n\t\t\t\tlocation.info.content.name = locationData.details\n\t\t\t\tconst schedulingPhoneKey = `c19.link/scheduling.phone.${prevItem.value.info.content.metadata.code_alpha}`.toLowerCase()\n\n\t\t\t\tif (locationData?.eligibility !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.eligibility) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibility.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibilityPlan !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.eligibility_plan) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibilityPlan.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.info !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.info) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.info.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.info.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.info = {\n\t\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\t\ttext: `cdc/${prevItem.key}/state_link`,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.info = {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${prevItem.key}/state_link`,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.providers !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.providers) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.providers.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.providers.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.providers = {\n\t\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.providers = {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.workflow !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.workflow) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.workflow.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.workflow.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.scheduling !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.scheduling) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.scheduling.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tif (location.vaccination.content.links.scheduling_phone) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone.url.toLowerCase() !==\n\t\t\t\t\t\t\t`tel:${locationData.schedulingPhone}`.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone &&\n\t\t\t\t\tlocationData.schedulingPhoneDesc !== ''\n\t\t\t\t) {\n\t\t\t\t\tlet schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${prevItem.value.info.content.metadata.code_alpha}`.toLowerCase()\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t.description\n\t\t\t\t\t) {\n\t\t\t\t\t\tschedulingPhoneDescKey =\n\t\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t\t.description\n\t\t\t\t\t}\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst location = store.repoFileData[selectedState.key]\n\t\t\t\tconst regionObj = location.regions[prevItem.key]\n\t\t\t\tregionObj.info.content.name = locationData.details\n\n\t\t\t\tconst schedulingPhoneKey = `c19.link/scheduling.phone.${location.info.content.metadata.code_alpha}.${regionObj.info.content.id}`.toLowerCase()\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibility !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.eligibility) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibility.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibilityPlan !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.eligibility_plan) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibilityPlan.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.info !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.info) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.info.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.info.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.info = {\n\t\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\t\ttext: `cdc/${location.info.content.id}/state_link`,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.info = {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${location.info.content.id}/state_link`,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.providers !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.providers) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.providers.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.providers.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.providers = {\n\t\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.providers = {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.workflow !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.workflow) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.workflow.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.workflow.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.scheduling !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.scheduling) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.scheduling.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tif (regionObj.vaccination.content.links.scheduling_phone) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone.url.toLowerCase() !==\n\t\t\t\t\t\t\t`tel:${locationData.schedulingPhone}`.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone &&\n\t\t\t\t\tlocationData.schedulingPhoneDesc !== ''\n\t\t\t\t) {\n\t\t\t\t\tlet schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${location.info.content.metadata.code_alpha}.${regionObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t.description\n\t\t\t\t\t) {\n\t\t\t\t\t\tschedulingPhoneDescKey =\n\t\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t\t.description\n\t\t\t\t\t}\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\t\t\t}\n\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t}\n\t}\n)\n\nexport const modifyStateStrings = mutatorAction(\n\t'modifyStateStrings',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (!data.item.moreInfoContent) {\n\t\t\t\t\tdelete(location.strings.content[data.infoKey])\n\t\t\t\t} else {\n\t\t\t\t\tconst newStringsObj: any = {}\n\t\t\t\t\tnewStringsObj[store.currentLanguage] = data.item.moreInfoContent\n\t\t\t\t\tlocation.strings.content[data.infoKey] = newStringsObj\n\t\t\t\t}\n\n\t\t\t\tif (!data.regionInfo) {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\tif (data.item.moreInfoContent) {\n\t\t\t\t\t\t\taffectedQualifier.moreInfoText = data.infoKey\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdelete(affectedQualifier.moreInfoText)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t\t\tmoreInfoText: data.infoKey,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedQualifier.moreInfoText = data.infoKey\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nconst copyPhaseData = (newObj: any, oldObj: any) => {\n\tnewObj.content['phases'] = []\n\toldObj.content.phases.forEach((phase: any) => {\n\t\tconst currPhaseObj: any = {}\n\t\tcurrPhaseObj['id'] = phase.id\n\t\tcurrPhaseObj['qualifications'] = []\n\t\tphase.qualifications.forEach((qual: any) => {\n\t\t\tcurrPhaseObj.qualifications.push({\n\t\t\t\tquestion: qual.question.toLowerCase(),\n\t\t\t\tmoreInfoText: qual.moreInfoText\n\t\t\t\t\t?.replace(/[^a-z0-9\\s]/gi, '')\n\t\t\t\t\t.replace(/\\s/g, '_')\n\t\t\t\t\t.toLowerCase(),\n\t\t\t\tmoreInfoUrl: qual.moreInfoUrl,\n\t\t\t})\n\t\t})\n\n\t\tnewObj.content.phases.push(currPhaseObj)\n\t})\n}\n\nexport const modifyMoreInfoLinks = mutatorAction(\n\t'modifyMoreInfoLinks',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tif (affectedPhase) {\n\t\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\t\taffectedQualifier.moreInfoUrl = data.item.moreInfoUrl\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.moreInfoUrl = data.item.moreInfoUrl\n\t\t\t\t\t} else {\n\t\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t\t\tmoreInfoUrl: data.item.moreInfoUrl,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateQualifier = mutatorAction(\n\t'updateQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() === data.oldId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.question = data.item.qualifierId.toLowerCase()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() === data.oldId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.question = data.item.qualifierId.toLowerCase()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\nexport const addQualifier = mutatorAction(\n\t'addQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\nexport const removeQualifier = mutatorAction(\n\t'removeQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst removeIndex = affectedPhase.qualifications.findIndex(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\taffectedPhase.qualifications.splice(removeIndex, 1)\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst removeIndex = affectedPhase.qualifications.findIndex(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\taffectedPhase.qualifications.splice(removeIndex, 1)\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\nexport const removePhase = mutatorAction(\n\t'removePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst removeIndex = regionVaccinationObj.content.phases.findIndex(\n\t\t\t\t\t\t(phase: any) => phase.id === data.phaseId\n\t\t\t\t\t)\n\n\t\t\t\t\tregionVaccinationObj.content.phases.splice(removeIndex, 1)\n\t\t\t\t} else {\n\t\t\t\t\tconst removeIndex = location.vaccination.content.phases.findIndex(\n\t\t\t\t\t\t(phase: any) => phase.id === data.phaseId\n\t\t\t\t\t)\n\n\t\t\t\t\tlocation.vaccination.content.phases.splice(removeIndex, 1)\n\t\t\t\t}\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const addPhase = mutatorAction('addPhase', (data: any | undefined) => {\n\tif (data) {\n\t\tconst store = getAppStore()\n\t\tif (store?.repoFileData) {\n\t\t\tstore.pendingChanges = true\n\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\tconst phaseId = data.item.name\n\t\t\t\t.replace(/[^a-z0-9\\s]/gi, '')\n\t\t\t\t.replace(/\\s/g, '_')\n\t\t\t\t.toLowerCase()\n\n\t\t\tconst emptyQualifications: any = []\n\n\t\t\tif (!location.vaccination.content.phases) {\n\t\t\t\tlocation.vaccination.content.phases = []\n\t\t\t}\n\n\t\t\tlocation.vaccination.content.phases.push({\n\t\t\t\tid: phaseId,\n\t\t\t\tlabel: data.item.name,\n\t\t\t\tqualifications: emptyQualifications,\n\t\t\t})\n\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t}\n\t}\n})\n\nexport const updatePhase = mutatorAction(\n\t'updatePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tconst phaseId = data.item.phaseId\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(' (active)', '')\n\t\t\t\t\t.trim()\n\n\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t(phase: any) => phase.id === phaseId\n\t\t\t\t)\n\n\t\t\t\taffectedPhase.label = data.item.name\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\nexport const setActivePhase = mutatorAction(\n\t'setActivePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tregionVaccinationObj.content['activePhase'] = data.phaseId\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t} else {\n\t\t\t\t\tlocation.vaccination.content['activePhase'] = data.phaseId\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateGlobalQualifiers = mutatorAction(\n\t'updateGlobalQualifiers',\n\t(item: any | undefined) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tconst { customStrings } = store.globalFileData\n\t\t\tstore.pendingChanges = true\n\t\t\tlet qualifierKey = ''\n\n\t\t\tif (item.isNew) {\n\t\t\t\tconst qualifierKeyBank = item.qualifier\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(/[^A-Za-z0-9]/g, '_')\n\t\t\t\t\t.split('_')\n\t\t\t\t\t.filter((i: string) => i) as string[]\n\n\t\t\t\tconst customStringKeys = Object.keys(customStrings.content)\n\n\t\t\t\tlet qKey = ''\n\t\t\t\tfor (let i = 0; i < qualifierKeyBank.length; i++) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tqKey = qualifierKeyBank[0]\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqKey = `${qKey}_${qualifierKeyBank[i]}`\n\t\t\t\t\t}\n\t\t\t\t\tqualifierKey = `c19.eligibility.question/${item.tagKey.toLowerCase()}.${qKey}`\n\n\t\t\t\t\tif (!customStringKeys.includes(qualifierKey)) {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tqualifierKey = qualifierKey.endsWith('_')\n\t\t\t\t\t? qualifierKey.substr(0, qualifierKey.length - 1)\n\t\t\t\t\t: qualifierKey\n\t\t\t} else {\n\t\t\t\tqualifierKey = item.key\n\t\t\t}\n\n\t\t\tstore.globalFileData.customStrings.content[qualifierKey] = {\n\t\t\t\t...store.globalFileData.customStrings.content[qualifierKey],\n\t\t\t\t[store.currentLanguage]: item.qualifier,\n\t\t\t}\n\n\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t}\n\t}\n)\n\nexport const translateLocationName = mutatorAction(\n\t'translateLocationName',\n\t(item: any) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (store.globalFileData.cdcStateNames.content[item.key]) {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content[item.key] = {\n\t\t\t\t\t\t...store.globalFileData.cdcStateNames.content[item.key],\n\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content = {\n\t\t\t\t\t\t...store.globalFileData.cdcStateNames.content,\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const translateQualifier = mutatorAction(\n\t'translateQualifier',\n\t(item: any) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (store.globalFileData.customStrings.content[item.key]) {\n\t\t\t\t\tstore.globalFileData.customStrings.content[item.key] = {\n\t\t\t\t\t\t...store.globalFileData.customStrings.content[item.key],\n\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstore.globalFileData.customStrings.content = {\n\t\t\t\t\t\t...store.globalFileData.customStrings.content,\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const translateMisc = mutatorAction('translateMisc', (item: any) => {\n\tif (item) {\n\t\tconst store = getAppStore()\n\t\tif (item.category === 'state' && item.parent !== 'global') {\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][item.toKey]\n\t\t\t\t) {\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][\n\t\t\t\t\t\titem.toKey\n\t\t\t\t\t] = item.to\n\t\t\t\t} else {\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key] = {\n\t\t\t\t\t\t...store.repoFileData[item.parent].strings.content[item.key],\n\t\t\t\t\t\t...{ [item.toKey]: item.to },\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t} else {\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst customStringKeys = Object.keys(\n\t\t\t\t\tstore.globalFileData.customStrings.content\n\t\t\t\t)\n\t\t\t\tconst isCustomString = customStringKeys.includes(item.key)\n\n\t\t\t\tif (isCustomString) {\n\t\t\t\t\tif (store.globalFileData.customStrings.content[item.key]) {\n\t\t\t\t\t\tstore.globalFileData.customStrings.content[item.key] = {\n\t\t\t\t\t\t\t...store.globalFileData.customStrings.content[item.key],\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.globalFileData.customStrings.content = {\n\t\t\t\t\t\t\t...store.globalFileData.customStrings.content,\n\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (store.globalFileData.cdcStateLinks.content[item.key]) {\n\t\t\t\t\t\tstore.globalFileData.cdcStateLinks.content[item.key] = {\n\t\t\t\t\t\t\t...store.globalFileData.cdcStateLinks.content[item.key],\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.globalFileData.cdcStateLinks.content = {\n\t\t\t\t\t\t\t...store.globalFileData.cdcStateLinks.content,\n\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nexport const toProperCase = (text: string): string => {\n\tconst res = text\n\t\t.replace(/_/g, ' ')\n\t\t.toLowerCase()\n\t\t.replace(/\\b[a-z](?=[a-z]{2})/g, function (letter) {\n\t\t\treturn letter.toUpperCase()\n\t\t})\n\n\tif (res.startsWith('us ')) {\n\t\treturn res.replace('us ', 'US ')\n\t}\n\n\tif (res.startsWith('st. ')) {\n\t\treturn res.replace('st. ', 'St. ')\n\t}\n\treturn res\n}\n\nexport const getLanguageKeys = () => {\n\treturn 'en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th'.split(\n\t\t','\n\t)\n}\n\nexport const getLanguageOptions = (excludeLanguage?: string) => {\n\tconst languageKeys = 'en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th'.split(\n\t\t','\n\t)\n\n\treturn languageKeys.map((key) => {\n\t\treturn {\n\t\t\tkey: key,\n\t\t\ttext: getLanguageDisplayText(key, key),\n\t\t}\n\t}).filter(l => l.key !== excludeLanguage)\n}\n\nexport const getLanguageDisplayText = (\n\tcurrentLanguage: string,\n\tlanguageCode: string\n): string => {\n\t// @ts-expect-error DisplayNames not on Intl\n\tconst languageName = new Intl.DisplayNames([currentLanguage], {\n\t\ttype: 'language',\n\t})\n\treturn languageName.of(languageCode)\n}\n\nexport const utf8_to_b64 = (str: string): string => {\n\treturn btoa(unescape(encodeURIComponent(str)))\n}\n\nexport const b64_to_utf8 = (str: string): string => {\n\treturn decodeURIComponent(escape(atob(str)))\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { action } from 'satcheljs'\n\nexport const createPR = action('createPR', (fileData: any) => ({\n\tfileData,\n}))\n\nexport const getRepoFileData = action('getRepoFileData')\n\nexport const initializeGitData = action('initializeGitData')\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n import {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tIColumn,\n\tFontIcon,\n\tDialog,\n\tDialogType,\n\tDialogFooter,\n\tPrimaryButton,\n\tDefaultButton,\n\tCallout\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useCallback } from 'react'\nimport { initializeGitData } from '../actions/repoActions'\nimport { getAppStore } from '../store/store'\n\nimport './Dashboard.scss'\n\nexport default observer(function Dashboard() {\n\n\tconst state = getAppStore()\n\n\tconst [prList, setPRList] = useState<any[]>([])\n\tconst [issueList, setIssueList] = useState<any[]>([])\n\tconst [hideDialog, { toggle: toggleHideDialog }] = useBoolean(true);\n\tconst [noteKeys, setNoteKeys] = useState<any>([])\n\n\tuseEffect(() => {\n\t\tif(state.issues){\n\t\t\tconst tempPRList:any = [];\n\t\t\tconst tempIssueList:any = [];\n\t\t\tstate.issues.forEach( (item:any) => {\n\n\t\t\t\tconst requestUpdate:Date = new Date(item.updated_at);\n\t\t\t\tconst isScrappedIssue = item.labels.some( (x:any) => x.name.toLowerCase() === \"scrapped changes\" )\n\n\t\t\t\tif(item.pull_request){\n\n\t\t\t\t\ttempPRList.push({ title:item.title, author:item.user.login, update:requestUpdate.toLocaleString(), action:item});\n\t\t\t\t}\n\t\t\t\telse if (isScrappedIssue){\n\t\t\t\t\ttempIssueList.push({ title:item.title, author:item.user.login, update:requestUpdate.toLocaleString(), action:item});\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tsetPRList(tempPRList);\n\t\t\tsetIssueList(tempIssueList);\n\t\t}\n\t},[state.issues])\n\n\tconst onIssueActionRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\n\t\treturn (<a className=\"tableActionLink\" href={item?.action?.html_url} target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\tView</a>)\n\n\t};\n\n\n\tconst onPRActionRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\n\t\treturn (<a className=\"tableActionLink\" href={item?.action?.html_url} target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\tApprove</a>)\n\n\t};\n\n\tconst toggleCallout = useCallback((id: number) => {\n\t\tconst tempItems = [...noteKeys]\n\t\tconst index = tempItems.indexOf(id)\n\t\tif (index > -1) {\n\t\t\ttempItems.splice(index, 1)\n\t\t} else {\n\t\t\ttempItems.push(id)\n\t\t}\n\n\t\tsetNoteKeys(tempItems)\n\t},[noteKeys])\n\n\n\tconst onPRNotesRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\t\tif (!item.action.body) {\n\t\t\treturn null\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<FontIcon\n\t\t\t\t\tclassName={`infoButton pr-${item.action.number}`}\n\t\t\t\t\ticonName=\"InfoSolid\"\n\t\t\t\t\tonClick={() => toggleCallout(item.action.number)}\n\t\t\t\t/>\n\t\t\t\t{noteKeys.includes(item.action.number) && (\n\t\t\t\t\t<Callout\n\t\t\t\t\t\tonDismiss={() => toggleCallout(item.action.number)}\n\t\t\t\t\t\ttarget={`.infoButton.pr-${item.action.number}`}\n\t\t\t\t\t\tgapSpace={4}\n\t\t\t\t\t\tsetInitialFocus={true}\n\t\t\t\t\t\trole=\"alertDialog\"\n\t\t\t\t\t\tclassName=\"infoCallout\"\n\t\t\t\t\t\tdirectionalHint={5}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"infoCalloutBody\">\n\t\t\t\t\t\t\t<div className=\"infoHeader\">Notes</div>\n\t\t\t\t\t\t\t<div className=\"infoBody\">\n\t\t\t\t\t\t\t\t{item.action.body}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t</>\n\t\t)\n\t};\n\n\tconst prColumns = [\n\t\t{\n\t\t\tkey: 'titleCol',\n\t\t\tname: 'Title',\n\t\t\tfieldName: 'title',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'notesCol',\n\t\t\tname: 'Notes',\n\t\t\tfieldName: 'notes',\n\t\t\tminWidth: 100,\n\t\t\tisResizable: true,\n\t\t\tonRender: onPRNotesRender\n\t\t},\n\t\t{\n\t\t\tkey: 'authorCol',\n\t\t\tname: 'Author',\n\t\t\tfieldName: 'author',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'updateCol',\n\t\t\tname: 'Last Update',\n\t\t\tfieldName: 'update',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel:'Actions Column',\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onPRActionRender\n\t\t},\n\t];\n\n\tconst issueColumns = [\n\t\t{\n\t\t\tkey: 'titleCol',\n\t\t\tname: 'Title',\n\t\t\tfieldName: 'title',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'authorCol',\n\t\t\tname: 'Author',\n\t\t\tfieldName: 'author',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'updateCol',\n\t\t\tname: 'Last Update',\n\t\t\tfieldName: 'update',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel:'Actions Column',\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onIssueActionRender\n\t\t},\n\n\t];\n\n\tconst refreshData = useCallback(() => {\n\t\tinitializeGitData()\n\t\ttoggleHideDialog()\n\t},[toggleHideDialog])\n\n\tconst onRefreshDataClick = useCallback(() => {\n\t\tif (state.pendingChanges) {\n\t\t\ttoggleHideDialog()\n\t\t} else {\n\t\t\tinitializeGitData()\n\t\t}\n\t},[state.pendingChanges, toggleHideDialog])\n\n\treturn (\n\t\t<div className=\"dashboardPageWrapper\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ Dashboard</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">Dashboard</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{!state.isDataRefreshing ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"refreshRow\">\n\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"refreshDataHeaderButton\"\n\t\t\t\t\t\t\t\tonClick={onRefreshDataClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName=\"Refresh\"\n\t\t\t\t\t\t\t\t\tclassName=\"refreshIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\tRefresh Data\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sectionHeader\">Pending PRs</div>\n\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={prList}\n\t\t\t\t\t\t\tcolumns={prColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !prList.length && (\n\t\t\t\t\t\t\t<div style={{textAlign:\"center\"}}>No pending PRs at this time.</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sectionHeader\">Location Updates</div>\n\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={issueList}\n\t\t\t\t\t\t\tcolumns={issueColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !issueList.length && (\n\t\t\t\t\t\t\t<div style={{textAlign:\"center\"}}>No pending location updates at this time.</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>):(\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<ProgressIndicator description=\"Loading content...\" />\n\t\t\t\t\t</section>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Dialog\n\t\t\t\thidden={hideDialog}\n\t\t\t\tonDismiss={toggleHideDialog}\n\t\t\t\tdialogContentProps={{\n\t\t\t\t\ttype: DialogType.normal,\n\t\t\t\t\tcloseButtonAriaLabel: 'Close',\n\t\t\t\t\ttitle: 'Refresh Data'\n\t\t\t\t}}\n\t\t\t\tmodalProps={{isBlocking: false}}\n\t\t\t>\n\t\t\t<div className=\"dialogBodyText\">You have pending changes in the review tab to be submitted, refreshing the data will revert those changes.<br/><br/>Do you want to proceed?</div>\n\t\t\t<DialogFooter>\n\t\t\t\t<PrimaryButton onClick={refreshData} text=\"Ok\" />\n\t\t\t\t<DefaultButton onClick={toggleHideDialog} text=\"Cancel\" />\n\t\t\t\t</DialogFooter>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { FC, memo } from 'react'\n\nconst CONTACT_EMAIL = process.env.REACT_APP_CONTACT_US_EMAIL\nconst CODE_OF_CONDUCT_URL = process.env.REACT_APP_CODE_OF_CONDUCT_URL\n\nexport const Footer: FC = memo(function Footer() {\n\treturn (\n\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\n\t\t\t<div className=\"appFooterRow\">\n\t\t\t\t<Link href=\"https://go.microsoft.com/fwlink/?LinkId=521839\">\n\t\t\t\t\tPrivacy &amp; Cookies\n\t\t\t\t</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link href={`mailto:${CONTACT_EMAIL}`}>Contact Us</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link href={CODE_OF_CONDUCT_URL}>Code of Conduct</Link>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n\nconst Link: FC<{\n\thref?: string\n}> = memo(function Link({ children, href }) {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"div\"\n\t\t\tstyle={{\n\t\t\t\tcursor: 'pointer',\n\t\t\t\tmarginLeft: 15,\n\t\t\t\tmarginRight: 15,\n\t\t\t\tdisplay: 'flex',\n\t\t\t\talignContent: 'center',\n\t\t\t}}\n\t\t\tonClick={() => href && window.open(href, '_blank')}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\n\nexport const getStateCustomStrings = (\n\tselectedState: any,\n\tkeyFilter: string\n): string => {\n\tconst returnVal = getCustomStrings(selectedState.value, keyFilter)\n\tif (returnVal.length > 0) return returnVal[0].text\n\n\treturn ''\n}\n\nexport const getRegionCustomStrings = (\n\tselectedRegion: any,\n\tkeyFilter: string\n): string => {\n\tconst { repoFileData } = getAppStore()\n\tconst selectedState =\n\t\trepoFileData?.[selectedRegion.value.info.path.split('/')[0]]\n\n\tconst returnVal = getCustomStrings(selectedState, keyFilter)\n\tif (returnVal.length > 0) return returnVal[0].text\n\n\treturn ''\n}\n\nconst getCustomStrings = (selectedState: any, keyFilter: string): any[] => {\n\tconst { globalFileData, currentLanguage } = getAppStore()\n\n\tconst customStringsList: any[] = selectedState\n\t\t? [\n\t\t\t\t...Object.entries(selectedState?.strings?.content ?? {}),\n\t\t\t\t...Object.entries(globalFileData.customStrings.content),\n\t\t  ]\n\t\t: [...Object.entries(globalFileData.customStrings.content)]\n\tconst filteredList = keyFilter\n\t\t? customStringsList.filter(([key, _value]: [string, any]) =>\n\t\t\t\tkey.includes(keyFilter.toLowerCase())\n\t\t  )\n\t\t: customStringsList\n\n\treturn filteredList.map(([key, value]: [string, any]) => {\n\t\treturn {\n\t\t\tkey: key,\n\t\t\ttext: value[currentLanguage],\n\t\t}\n\t})\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n\tDefaultButton,\n\tTextField,\n\tDropdown,\n\tIDropdownOption,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport {\n\tgetStateCustomStrings,\n\tgetRegionCustomStrings,\n} from '../selectors/locationSelectors'\n\nimport './LocationForm.scss'\n\nexport interface LocationFormProp {\n\titem?: any\n\tonSubmit?: (locationData: any, prevItem: any) => void\n\tonCancel?: () => void\n\tisRegion?: boolean\n}\n\nconst setInitialData = (item?: any, isRegion?: boolean) => {\n\tconst getStrings = (item: any, keyFilter: string, isRegion?: boolean) => {\n\t\treturn isRegion\n\t\t\t? getRegionCustomStrings(item, keyFilter)\n\t\t\t: getStateCustomStrings(item, keyFilter)\n\t}\n\n\tif (item) {\n\t\tconst { info, vaccination } = item?.value || {}\n\t\tconst {\n\t\t\tinfo: vacInfo,\n\t\t\tscheduling_phone,\n\t\t\teligibility_plan,\n\t\t\tworkflow,\n\t\t\tscheduling,\n\t\t\tproviders,\n\t\t\teligibility,\n\t\t} = vaccination?.content?.links || {}\n\n\t\treturn {\n\t\t\tdetails: info.content.name,\n\t\t\tregionType: info.content.type,\n\t\t\tinfo: vacInfo?.url || '',\n\t\t\tworkflow: workflow?.url || '',\n\t\t\tscheduling: scheduling?.url || '',\n\t\t\tproviders: providers?.url || '',\n\t\t\teligibility: eligibility?.url || '',\n\t\t\teligibilityPlan: eligibility_plan?.url || '',\n\t\t\tschedulingPhone: scheduling_phone?.text\n\t\t\t\t? getStrings(item, scheduling_phone.text, isRegion)\n\t\t\t\t: '',\n\t\t\tschedulingPhoneDesc: scheduling_phone?.description\n\t\t\t\t? getStrings(item, scheduling_phone.description, isRegion)\n\t\t\t\t: '',\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\tdetails: '',\n\t\t\tregionType: '',\n\t\t\tinfo: '',\n\t\t\tworkflow: '',\n\t\t\tscheduling: '',\n\t\t\tproviders: '',\n\t\t\teligibility: '',\n\t\t\teligibilityPlan: '',\n\t\t\tschedulingPhone: '',\n\t\t\tschedulingPhoneDesc: '',\n\t\t}\n\t}\n}\n\nexport default observer(function LocationForm(props: LocationFormProp) {\n\tconst { onSubmit, onCancel, item, isRegion } = props\n\tconst [formData, setFormData] = useState<any>(setInitialData(item, isRegion))\n\tconst fieldChanges = useRef<any>(formData)\n\tconst regionTypeOptions = [\n\t\t{\n\t\t\tkey: 'state',\n\t\t\ttext: 'State',\n\t\t},\n\t\t{\n\t\t\tkey: 'territory',\n\t\t\ttext: 'Territory',\n\t\t},\n\t\t{\n\t\t\tkey: 'tribal_land',\n\t\t\ttext: 'Tribal land',\n\t\t},\n\t\t{\n\t\t\tkey: 'county',\n\t\t\ttext: 'County',\n\t\t},\n\t\t{\n\t\t\tkey: 'city',\n\t\t\ttext: 'City',\n\t\t},\n\t].filter((region) => (isRegion ? region.key !== 'state' : true))\n\n\tconst baseTitle = isRegion ? 'sublocation' : 'location'\n\tconst formTitle = item ? `Edit ${baseTitle}` : `Add new ${baseTitle}`\n\n\tconst handleRegionChange = useCallback(\n\t\t(_ev: any, item?: IDropdownOption) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\tregionType: item?.key,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst canSubmit = useCallback(() => {\n\t\treturn formData.details !== '' && formData.regionType !== ''\n\t}, [formData])\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{formTitle}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<div className=\"detailsGroup\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Details\"\n\t\t\t\t\t\tname=\"details\"\n\t\t\t\t\t\tvalue={formData.details}\n\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tselectedKey={formData.regionType}\n\t\t\t\t\t\tplaceholder=\"Region type\"\n\t\t\t\t\t\toptions={regionTypeOptions}\n\t\t\t\t\t\tonChange={handleRegionChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"General information link for the region:\"\n\t\t\t\t\tname=\"info\"\n\t\t\t\t\tvalue={formData.info}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Link to an existing eligibility workflow tool:\"\n\t\t\t\t\tname=\"workflow\"\n\t\t\t\t\tvalue={formData.workflow}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Appointment registration scheduler:\"\n\t\t\t\t\tname=\"scheduling\"\n\t\t\t\t\tvalue={formData.scheduling}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"List of scheduling providers and locations:\"\n\t\t\t\t\tname=\"providers\"\n\t\t\t\t\tvalue={formData.providers}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Eligibility criteria about the current phase:\"\n\t\t\t\t\tname=\"eligibility\"\n\t\t\t\t\tvalue={formData.eligibility}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Documentation describing the rollout phases in detail:\"\n\t\t\t\t\tname=\"eligibilityPlan\"\n\t\t\t\t\tvalue={formData.eligibilityPlan}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"A scheduling hotline:\"\n\t\t\t\t\tname=\"schedulingPhone\"\n\t\t\t\t\tvalue={formData.schedulingPhone}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Description of scheduling hotline:\"\n\t\t\t\t\tname=\"schedulingPhoneDesc\"\n\t\t\t\t\tvalue={formData.schedulingPhoneDesc}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext=\"Submit\"\n\t\t\t\t\tdisabled={!canSubmit()}\n\t\t\t\t\tonClick={() => onSubmit?.(formData, item)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton text=\"Cancel\" onClick={() => onCancel?.()} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\n\nexport const getPhaseQualifierItems = (selectedState?: any) => {\n    return getCustomStrings(selectedState, 'eligibility.question')\n}\n\nexport const getPhaseQualifierItemsByKey = (selectedState?: any, selectedKey?: any) => {\n    return getPhaseQualifierItems(selectedState).filter(qualifier => qualifier.key.includes(selectedKey))\n}\n\nexport const getPhaseTagItems = (selectedState?: any) => {\n    const phaseQualifiers = getPhaseQualifierItems(selectedState);\n\n    const tagKeys: any[] = []\n    const tagList: any[] = []\n    phaseQualifiers.forEach(qualifier => {\n        const baseKey = qualifier.key.split('/')\n        const tagKey = baseKey[1].split('.')[0];\n\n        if (!tagKeys.includes(tagKey)) {\n            tagKeys.push(tagKey)\n            tagList.push({\n                key: tagKey,\n                text: toProperCase(tagKey)\n            })\n        }\n    })\n\n    return tagList.sort((a,b) => (a.text > b.text) ? 1 : -1)\n}\n\nexport const getPhaseMoreInfoItems = (selectedState?: any) => {\n    return getCustomStrings(selectedState, 'eligibility.moreinfo')\n}\n\nexport const getPhaseMoreInfoTextByKey = (selectedState?: any, selectedKey?: any) => {\n    if (selectedKey) {\n        const res = getExactCustomStrings(selectedState, selectedKey)\n        if (res.length > 0) {\n            return res[0].text\n        }\n    }\n\n    return ''\n}\nexport const getPhaseMoreInfoUrl = (isRegion:boolean, rowItems:any) => {\n        if(isRegion){\n        const regionPhases = rowItems.item.location.value.vaccination.content.phases\n        const currPhase = regionPhases?.find((phase: { id: any }) => phase.id === rowItems.item.groupId)\n        if (currPhase){\n            const currQualification = currPhase?.qualifications.find((qualification: { question: any }) => qualification.question === rowItems.item.qualifierId)\n            if (currQualification) {\n                return currQualification.moreInfoUrl \n            }\n        }\n        }\n        return rowItems.item.moreInfoUrl\n    }\nconst getCustomStrings = (selectedState?: any, keyFilter?: string) => {\n    const { globalFileData, currentLanguage } = getAppStore();\n    const qualifierList: any[] = selectedState\n        ? [...Object.entries(selectedState.value?.strings?.content ?? {}), ...Object.entries(globalFileData.customStrings.content)]\n        : [...Object.entries(globalFileData.customStrings.content)]\n\n    const filteredList = keyFilter ? qualifierList.filter(([key, _value]:[string, any]) => key.includes(keyFilter)) : qualifierList\n    return filteredList\n        .map(([key, value]:[string, any]) => {\n            return {\n                key: key,\n                text: value[currentLanguage]\n            }\n        })\n        .sort((a,b) => (a.text > b.text) ? 1 : -1)\n}\n\nconst getExactCustomStrings = (selectedState?: any, keyFilter?: string) => {\n    const { globalFileData, currentLanguage } = getAppStore();\n    const qualifierList: any[] = selectedState\n        ? [...Object.entries(selectedState.value?.strings?.content ?? {}), ...Object.entries(globalFileData.customStrings.content)]\n        : [...Object.entries(globalFileData.customStrings.content)]\n\n    const filteredList = keyFilter ? qualifierList.filter(([key, _value]:[string, any]) => key.toLowerCase() === keyFilter) : qualifierList\n    return filteredList\n        .map(([key, value]:[string, any]) => {\n            return {\n                key: key,\n                text: value[currentLanguage]\n            }\n        })\n        .sort((a,b) => (a.text > b.text) ? 1 : -1)\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tIconButton,\n\tDropdown,\n\tDirectionalHint,\n\tTextField,\n\tFontIcon,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useState, useRef, useEffect } from 'react'\nimport {\n\tgetPhaseTagItems,\n\tgetPhaseQualifierItems,\n\tgetPhaseMoreInfoTextByKey,\n\tgetPhaseQualifierItemsByKey,\n\tgetPhaseMoreInfoUrl,\n} from '../selectors/phaseSelectors'\nimport { getAppStore } from '../store/store'\n\nimport './PhaseQualifierForm.scss'\nexport interface PhaseQualifierFormProps {\n\tselectedState: any\n\trowItems: any\n\tisEditable: boolean\n\tisRegion: boolean\n\tgroupKey: string\n\tonRowItemRemove?: (item: any, groupKey: any) => void\n\tonRowItemTextChange: (item: any, prevItem: any) => void\n\tonRowItemQualifierChange: (item: any, prevItem: any) => void\n}\n\nexport default observer(function PhaseQualiferForm(\n\tprops: PhaseQualifierFormProps\n) {\n\tconst {\n\t\tselectedState,\n\t\trowItems,\n\t\tisEditable,\n\t\tisRegion,\n\t\tonRowItemRemove,\n\t\tonRowItemTextChange,\n\t\tonRowItemQualifierChange,\n\t\tgroupKey,\n\t} = props\n\tconst phaseTagItems = useRef(getPhaseTagItems(selectedState))\n\tconst phaseQualifierItems = useRef(getPhaseQualifierItems(selectedState))\n\tconst [filteredQualifierItems, setFilteredQualifierItems] = useState<any[]>(\n\t\tgetPhaseQualifierItemsByKey(selectedState, rowItems.item.tagKey)\n\t)\n\n\tconst { globalFileData, repoFileData } = getAppStore()\n\n\tlet overrideIconFlag = false\n\tlet moreInfoKey = rowItems.item.moreInfoKey\n\tif (isRegion) {\n\t\tconst regionPhases = rowItems.item.location.value.vaccination.content.phases\n\t\tconst currPhase = regionPhases?.find(\n\t\t\t(phase: { id: any }) => phase.id === rowItems.item.groupId\n\t\t)\n\t\tif (currPhase) {\n\t\t\tconst currQualification = currPhase?.qualifications.find(\n\t\t\t\t(qualification: { question: any }) =>\n\t\t\t\t\tqualification.question === rowItems.item.qualifierId\n\t\t\t)\n\t\t\tif (currQualification) {\n\t\t\t\toverrideIconFlag = true\n\t\t\t\tmoreInfoKey = currQualification.moreInfoText\n\t\t\t}\n\t\t}\n\t}\n\n\tconst [moreInfoText, setMoreInfoText] = useState<string>(\n\t\tgetPhaseMoreInfoTextByKey(selectedState, moreInfoKey)\n\t)\n\n\tconst [moreInfoUrl, setMoreInfoUrl] = useState<string>(\n\t\tgetPhaseMoreInfoUrl(isRegion, rowItems)\n\t)\n\n\tconst changedItem = useRef<any>(rowItems.item)\n\tchangedItem.current.moreInfoContent = moreInfoText\n\n\tuseEffect(() => {\n\t\tif (globalFileData) {\n\t\t\tphaseQualifierItems.current = getPhaseQualifierItems(selectedState)\n\t\t\tsetFilteredQualifierItems(\n\t\t\t\tgetPhaseQualifierItemsByKey(selectedState, rowItems.item.tagKey)\n\t\t\t)\n\t\t}\n\t}, [\n\t\tglobalFileData,\n\t\trepoFileData,\n\t\tphaseQualifierItems,\n\t\tselectedState,\n\t\trowItems,\n\t])\n\n\tconst onTagChange = useCallback(\n\t\t(_event, option) => {\n\t\t\tsetFilteredQualifierItems(\n\t\t\t\tphaseQualifierItems.current.filter(\n\t\t\t\t\t(q) => q.key.split('/')[1].split('.')[0] === option.key\n\t\t\t\t)\n\t\t\t)\n\t\t\tsetMoreInfoText('')\n\t\t\tsetMoreInfoUrl('')\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tkey: `${rowItems.item.groupId}-c19.eligibility.question/${option.key}`,\n\t\t\t\t\ttagKey: option.key,\n\t\t\t\t\tqualifierId: undefined,\n\t\t\t\t\ttext: '',\n\t\t\t\t\tmoreInfoKey: '',\n\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\t[phaseQualifierItems, rowItems]\n\t)\n\n\tconst onQualifierChange = useCallback(\n\t\t(_event, option) => {\n\t\t\tsetMoreInfoText('')\n\t\t\tsetMoreInfoUrl('')\n\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tqualifierId: option.key,\n\t\t\t\t\ttext: option.text,\n\t\t\t\t\tmoreInfoKey: '',\n\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t},\n\t\t\t}\n\t\t\tonRowItemQualifierChange(changedItem.current, rowItems.item)\n\t\t},\n\t\t[onRowItemQualifierChange, rowItems]\n\t)\n\n\tconst onMoreInfoTextChange = useCallback(\n\t\t(_event, value) => {\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tmoreInfoContent: value,\n\t\t\t\t},\n\t\t\t}\n\t\t\tsetMoreInfoText(value)\n\t\t},\n\t\t[setMoreInfoText]\n\t)\n\n\tconst onMoreInfoUrlChange = useCallback(\n\t\t(_event, value) => {\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tmoreInfoUrl: value,\n\t\t\t\t},\n\t\t\t}\n\t\t\tsetMoreInfoUrl(value)\n\t\t},\n\t\t[setMoreInfoUrl]\n\t)\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"phaseDetailRow\"\n\t\t\tstyle={{ pointerEvents: isEditable ? 'unset' : 'none' }}\n\t\t>\n\t\t\t<div className=\"mainRow\">\n\t\t\t\t<FontIcon\n\t\t\t\t\ticonName=\"InfoSolid\"\n\t\t\t\t\tclassName=\"infoIcon\"\n\t\t\t\t\tstyle={{ visibility: overrideIconFlag ? 'visible' : 'hidden' }}\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\toptions={phaseTagItems.current}\n\t\t\t\t\tdefaultSelectedKey={rowItems.item.tagKey}\n\t\t\t\t\tplaceholder=\"Tag\"\n\t\t\t\t\tclassName=\"tagDropdown\"\n\t\t\t\t\tstyles={{ root: { minWidth: 250 } }}\n\t\t\t\t\tonChange={onTagChange}\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\ttitle={rowItems.item.text}\n\t\t\t\t\toptions={filteredQualifierItems}\n\t\t\t\t\tdefaultSelectedKey={rowItems.item.qualifierId}\n\t\t\t\t\tplaceholder=\"Qualifier\"\n\t\t\t\t\tstyles={{ root: { width: '100%', minWidth: 0 } }}\n\t\t\t\t\tonChange={onQualifierChange}\n\t\t\t\t/>\n\t\t\t\t<IconButton\n\t\t\t\t\ticonProps={{ iconName: 'MoreVertical' }}\n\t\t\t\t\tstyles={{ menuIcon: { visibility: 'hidden', width: 0, margin: 0 } }}\n\t\t\t\t\tmenuProps={{\n\t\t\t\t\t\tisBeakVisible: false,\n\t\t\t\t\t\tdirectionalHint: DirectionalHint.rightTopEdge,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'removeRow',\n\t\t\t\t\t\t\t\ttext: 'Remove',\n\t\t\t\t\t\t\t\tonClick: () => onRowItemRemove?.(rowItems.item, groupKey),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'details',\n\t\t\t\t\t\t\t\ttext: 'Details',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}}\n\t\t\t\t\ttitle=\"More\"\n\t\t\t\t\taria-label=\"More\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"detailsRow\">\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder=\"More info text\"\n\t\t\t\t\tmultiline={true}\n\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\tresizable={false}\n\t\t\t\t\tstyles={{ root: { width: 'calc(100% - 32px)', padding: '5px 0' } }}\n\t\t\t\t\tvalue={moreInfoText}\n\t\t\t\t\tonChange={onMoreInfoTextChange}\n\t\t\t\t\tonBlur={() => onRowItemTextChange(changedItem.current, rowItems.item)}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder=\"More info url\"\n\t\t\t\t\tstyles={{ root: { width: 'calc(100% - 32px)', padding: '5px 0' } }}\n\t\t\t\t\tvalue={moreInfoUrl}\n\t\t\t\t\tonChange={onMoreInfoUrlChange}\n\t\t\t\t\tonBlur={() => onRowItemTextChange(changedItem.current, rowItems.item)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { FontIcon } from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useRef } from 'react'\nimport {\n\tmodifyStateStrings,\n\tmodifyMoreInfoLinks,\n\tsetActivePhase,\n\tupdateQualifier,\n\taddQualifier,\n\tremoveQualifier,\n\tremovePhase,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport PhaseQualifierForm from './PhaseQualifierForm'\n\nimport './Locations.scss'\n\nexport interface LocationsPhasesProp {\n\tisRegion: boolean\n\tvalue: any\n\tselectedState: any\n}\n\nexport default observer(function LocationsPhases(props: LocationsPhasesProp) {\n\tconst {\n\t\tglobalFileData,\n\t\tcurrentLanguage,\n\t\trepoFileData,\n\t\tisEditable,\n\t} = getAppStore()\n\tconst { isRegion, value, selectedState } = props\n\n\tconst [phaseList, setPhaseList] = useState<any[]>([])\n\tconst groupToggleState = useRef<any[]>([])\n\n\tuseEffect(() => {\n\t\tif (repoFileData) {\n\t\t\tconst tempPhaseList: any[] = []\n\t\t\tconst currentStateObj: any = repoFileData[selectedState.key]\n\t\t\tlet phaseObj = currentStateObj.vaccination.content.phases\n\t\t\tconst regionObj = isRegion\n\t\t\t\t? repoFileData[selectedState.key].regions[value.key]\n\t\t\t\t: null\n\n\t\t\tif (isRegion && regionObj.vaccination.content.phases) {\n\t\t\t\tphaseObj = regionObj.vaccination.content.phases\n\t\t\t}\n\n\t\t\tphaseObj.forEach((phase: any) => {\n\t\t\t\tlet isCollapsed: boolean = !isRegion && value.value.id !== phase.id\n\n\t\t\t\tlet isActivePhase = false\n\t\t\t\tif (isRegion && regionObj.vaccination.content.activePhase) {\n\t\t\t\t\tisActivePhase = phase.id === regionObj.vaccination.content.activePhase\n\t\t\t\t} else {\n\t\t\t\t\tisActivePhase =\n\t\t\t\t\t\tphase.id === currentStateObj.vaccination.content.activePhase\n\t\t\t\t}\n\n\t\t\t\tif(groupToggleState.current.length > 0 && groupToggleState.current.indexOf(phase.id) !== -1){\n\t\t\t\t\tisCollapsed = false\n\t\t\t\t}\n\n\t\t\t\tconst tempPhaseObj: any = {\n\t\t\t\t\tkey: phase.id,\n\t\t\t\t\tname: phase.label,\n\t\t\t\t\tcount: phase.qualifications.length,\n\t\t\t\t\tisCollapsed: isCollapsed,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tkeyId: phase.id,\n\t\t\t\t\t\tisActive: isActivePhase,\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\tconst phaseItems: any[] = []\n\n\t\t\t\tphase.qualifications.forEach((qualification: any) => {\n\t\t\t\t\tconst keyId: string = String(qualification.question).toLowerCase()\n\t\t\t\t\tlet label = `*Translation not found* (${keyId})`\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tcurrentStateObj.strings &&\n\t\t\t\t\t\tcurrentStateObj.strings.content[keyId]\n\t\t\t\t\t) {\n\t\t\t\t\t\tlabel =\n\t\t\t\t\t\t\tcurrentStateObj.strings.content[keyId][currentLanguage] || label\n\t\t\t\t\t} else if (globalFileData.customStrings.content[keyId]) {\n\t\t\t\t\t\tlabel =\n\t\t\t\t\t\t\tglobalFileData.customStrings.content[keyId][currentLanguage] ||\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t}\n\n\t\t\t\t\tphaseItems.push({\n\t\t\t\t\t\tkey: phase.id + '-' + keyId,\n\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\tmoreInfoKey: qualification?.moreInfoText\n\t\t\t\t\t\t\t? qualification.moreInfoText.toLowerCase()\n\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t\t\tmoreInfoUrl: qualification.moreInfoUrl,\n\t\t\t\t\t\tqualifierId: keyId,\n\t\t\t\t\t\ttagKey: keyId.split('/')[1].split('.')[0],\n\t\t\t\t\t\tgroupId: phase.id,\n\t\t\t\t\t\tlocation: value,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\ttempPhaseObj['items'] = phaseItems\n\t\t\t\ttempPhaseList.push(tempPhaseObj)\n\t\t\t})\n\n\t\t\tsetPhaseList(tempPhaseList)\n\t\t}\n\t}, [repoFileData, globalFileData, selectedState, currentLanguage, isRegion, value])\n\n\tconst onAddQualifierClick = (phaseId: any) => {\n\t\tconst newItem = {\n\t\t\tkey: `${phaseId}-c19.eligibility.question/new_qualifier`,\n\t\t\ttext: '',\n\t\t\tmoreInfoKey: '',\n\t\t\tmoreInfoUrl: '',\n\t\t\tqualifierId: 'c19.eligibility.question/new_qualifier',\n\t\t\ttagKey: 'new_tagKey',\n\t\t\tgroupId: phaseId,\n\t\t\tlocation: value,\n\t\t}\n\n\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\tif (group.key === phaseId) {\n\t\t\t\t// const checkNewQualIndex = group.items.findIndex(\n\t\t\t\t// \t(i: any) => i.key === newItem.key\n\t\t\t\t// )\n\t\t\t\t// if (checkNewQualIndex === -1) {\n\t\t\t\t\tgroup.items.push(newItem)\n\t\t\t\t//}\n\t\t\t}\n\n\t\t\treturn group\n\t\t})\n\t\tsetPhaseList(tempPhaseList)\n\t}\n\n\tconst onRemoveRowItem = (item: any, groupKey:any) => {\n\t\tif(item.qualifierId !== 'c19.eligibility.question/new_qualifier'){\n\t\t\tremoveQualifier({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: item,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t}else{\n\n\t\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\tif (group.key === groupKey) {\n\t\t\t\tconst newItemIndex = group.items.findIndex( (i:any) => i.qualifierId ===  'c19.eligibility.question/new_qualifier')\n\t\t\t\tif(newItemIndex !== -1){\n\t\t\t\t\tgroup.items.splice(newItemIndex,1)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn group\n\t\t})\n\t\tsetPhaseList(tempPhaseList)\n\t\t}\n\t}\n\n\tconst onRemovePhaseGroupClick = (phaseId: any) => {\n\t\tremovePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: phaseId,\n\t\t\tregionInfo: isRegion ? value : null,\n\t\t})\n\t}\n\n\tconst onSetActivePhase = (phaseId: string) => {\n\t\tsetActivePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: phaseId,\n\t\t\tregionInfo: isRegion ? value : null,\n\t\t})\n\t}\n\n\tconst onToggleCollapse = (toggleGroup: any) => {\n\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\tif (group.key === toggleGroup.key) {\n\t\t\t\tgroup.isCollapsed = !group.isCollapsed\n\t\t\t}\n\n\t\t\treturn group\n\t\t})\n\t\tgroupToggleState.current = tempPhaseList.filter( group => !group.isCollapsed ).map(group => group.key)\n\t\tsetPhaseList(tempPhaseList)\n\t}\n\n\tconst onChangeRowItemText = (currentItem: any, initItem: any) => {\n\t\tif (\n\t\t\tinitItem.moreInfoUrl?.toLowerCase() !==\n\t\t\tcurrentItem.moreInfoUrl?.toLowerCase()\n\t\t) {\n\t\t\tmodifyMoreInfoLinks({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else if (initItem.moreInfoContent !== currentItem.moreInfoContent) {\n\t\t\tlet calcInfoKey = currentItem.qualifierId.replace('question', 'moreinfo')\n\t\t\tcalcInfoKey += `.${selectedState.value.info.content.metadata.code_alpha.toLowerCase()}`\n\t\t\tif (isRegion) {\n\t\t\t\tcalcInfoKey += `.${value.name.toLowerCase()}`\n\t\t\t}\n\t\t\tcalcInfoKey += `.${currentItem.groupId}`\n\n\t\t\tmodifyStateStrings({\n\t\t\t\tinfoKey: calcInfoKey,\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t}\n\t}\n\n\tconst onChangeRowItemQualifier = (currentItem: any, initItem: any) => {\n\t\tif (initItem.qualifierId !== 'c19.eligibility.question/new_qualifier') {\n\t\t\tupdateQualifier({\n\t\t\t\toldId: initItem.qualifierId,\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else {\n\t\t\taddQualifier({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"phaseGridContainer\">\n\t\t\t{phaseList.length > 0\n\t\t\t\t? phaseList.map((group: any, idx: number) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={`phasegroup-${idx}`}>\n\t\t\t\t\t\t\t\t<div className=\"phaseGroupHeader\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"groupHeaderLabel\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tonToggleCollapse(group)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\t\t\tgroup.isCollapsed ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{group.name ? (\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.name} <small>({group.data.keyId})</small>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t`Phase ${group.data.keyId}`\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"groupHeaderButtons\">\n\t\t\t\t\t\t\t\t\t\t{isEditable ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onAddQualifierClick(group.data.keyId)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\tAdd Qualifier\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"removePhaseGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRemovePhaseGroupClick(group.data.keyId)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"Blocked2Solid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#d13438' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.data.isActive ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"activeGroup\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleFill\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActive Phase\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"activeGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onSetActivePhase(group.data.keyId)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleRing\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSet as Active\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.data.isActive && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"activeGroup\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleFill\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActive Phase\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ display: group.isCollapsed ? 'none' : 'block' }}>\n\t\t\t\t\t\t\t\t\t{group.items.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{group.items.map((groupItem: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PhaseQualifierForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={groupItem.key+'_'+idx}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupKey={group.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trowItems={{ item: groupItem }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisEditable={isEditable}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisRegion={isRegion}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemRemove={onRemoveRowItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemTextChange={onChangeRowItemText}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemQualifierChange={onChangeRowItemQualifier}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t<div className=\"phaseBottomGroup\">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onAddQualifierClick(group.data.keyId)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\tAdd Qualifier\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t  })\n\t\t\t\t: null}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n    DefaultButton,\n    TextField\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\n\nimport './LocationForm.scss'\n\nexport interface PhaseFormProp {\n    item?: any\n    onSubmit?: (phaseData: any) => void\n    onCancel?: () => void\n}\n\nconst setInitialData = (item: any) => {\n    if (item) {\n        return {\n            phaseId: item.keyId,\n            name: item.name.includes(' (active)') ? item.name.replace(' (active)','') : item.name,\n            isActive: item.keyId.includes(' (active)')\n        }\n    } else {\n        return {\n            phaseId: null,\n            name: '',\n            isActive: false\n        }\n    }\n}\n\nexport default observer(function PhaseForm(props: PhaseFormProp) {\n    const { onSubmit, onCancel, item } = props\n    const [formData, setFormData] = useState<any>(setInitialData(item))\n    const fieldChanges = useRef<any>(formData)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst formTitle = item ? 'Edit Phase' : 'New Phase'\n\n    return (\n        <div className=\"modalWrapper\">\n            <div className=\"modalHeader\">\n                <div className=\"title\">{formTitle}</div>\n            </div>\n            <div className=\"modalBody\">\n                <TextField\n                    label=\"Phase Name:\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleTextChange}\n                />\n            </div>\n            <div className=\"modalFooter\">\n                <PrimaryButton text=\"Submit\" disabled={formData.name === ''} onClick={() => onSubmit?.(formData)} />\n                <DefaultButton text=\"Cancel\" onClick={() => onCancel?.()}/>\n            </div>\n        </div>\n    )\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tIColumn,\n\tFontIcon,\n\tModal,\n\tSearchBox,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport {\n\tupdateLocationList,\n\taddPhase,\n\tupdatePhase,\n\tupdateLocationData,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\nimport LocationForm from './LocationForm'\nimport LocationsPhases from './LocationsPhases'\nimport PhaseForm from './PhaseForm'\n\nimport './Locations.scss'\n\nexport interface LocationsRegionsProp {\n\tselectedState: any\n\tonNavigateBack: () => void\n}\n\nexport default observer(function LocationsRegions(props: LocationsRegionsProp) {\n\tconst [filteredRegionsList, setFilteredRegionsList] = useState<any[]>([])\n\tconst stateRegionsFullList = useRef<any[]>([])\n\tconst [selectedPhaseItem, setSelectedPhaseItem] = useState<{\n\t\tisRegion: boolean\n\t\tvalue: any\n\t\tselectedState: any\n\t}>({ isRegion: false, value: null, selectedState: null })\n\tconst [\n\t\tisLocationModalOpen,\n\t\t{ setTrue: openLocationModal, setFalse: dismissLocationModal },\n\t] = useBoolean(false)\n\tconst [\n\t\tisPhaseModalOpen,\n\t\t{ setTrue: openPhaseModal, setFalse: dismissPhaseModal },\n\t] = useBoolean(false)\n\tconst selectedModalFormItem = useRef<any>(null)\n\n\tconst state = getAppStore()\n\n\tconst { selectedState, onNavigateBack } = props\n\n\tconst subLocationsColumns = [\n\t\t{\n\t\t\tkey: 'regionCol',\n\t\t\tname: 'Region',\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'activePhaseCol',\n\t\t\tname: 'Active Phase ID',\n\t\t\tfieldName: 'phase',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editLocation',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tconst phaseColumns = [\n\t\t{\n\t\t\tkey: 'idCol',\n\t\t\tname: 'Phase ID',\n\t\t\tfieldName: 'keyId',\n\t\t\tminWidth: 50,\n\t\t\tmaxWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'nameCol',\n\t\t\tname: 'Name',\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'qualCol',\n\t\t\tname: '# of qualifications',\n\t\t\tfieldName: 'qualifications',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editPhase',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tconst [phaseItemList, setPhaseItemList] = useState<any[]>([])\n\n\tuseEffect(() => {\n\t\tconst selectedStateObj = state.repoFileData[selectedState.key]\n\t\tconst regions = selectedStateObj?.regions ?? {}\n\t\tif (Object.keys(regions).length > 0) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(regions).forEach(([key, value]) => {\n\t\t\t\tconst valObj = value as any\n\t\t\t\ttempList.push({\n\t\t\t\t\tkey: key,\n\t\t\t\t\tname: toProperCase(valObj.info.content.name),\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tphase: valObj.vaccination.content.activePhase\n\t\t\t\t\t\t? valObj.vaccination.content.activePhase\n\t\t\t\t\t\t: selectedStateObj.vaccination.content.activePhase,\n\t\t\t\t})\n\t\t\t})\n\t\t\tsetFilteredRegionsList(tempList)\n\t\t\tstateRegionsFullList.current = tempList\n\t\t}\n\n\t\tif (selectedStateObj) {\n\t\t\tconst newList = setInitialPhaseItems({\n\t\t\t\tkey: selectedStateObj.info.content.id,\n\t\t\t\tvalue: selectedStateObj,\n\t\t\t})\n\t\t\tsetPhaseItemList(newList)\n\t\t}\n\t}, [state.repoFileData, selectedState, stateRegionsFullList, setPhaseItemList])\n\n\tconst selectedPhase = useCallback(\n\t\t(isRegion: boolean, value: any) => {\n\t\t\tsetSelectedPhaseItem({ isRegion, value, selectedState })\n\t\t},\n\t\t[selectedState]\n\t)\n\n\tconst onLocationFormSubmit = useCallback(\n\t\t(locationData, prevItem) => {\n\t\t\tdismissLocationModal()\n\t\t\tif (!prevItem) {\n\t\t\t\tupdateLocationList(locationData, true, selectedState)\n\t\t\t} else {\n\t\t\t\tupdateLocationData(locationData, true, prevItem, selectedState)\n\t\t\t}\n\t\t},\n\t\t[dismissLocationModal, selectedState]\n\t)\n\n\tconst onLocationFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenLocationModal()\n\t\t},\n\t\t[openLocationModal]\n\t)\n\n\tconst onPhaseFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenPhaseModal()\n\t\t},\n\t\t[openPhaseModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tconst fieldContent = item[column?.fieldName as keyof any] as string\n\n\t\t\tif (column?.key === 'editCol') {\n\t\t\t\treturn state.isEditable ? (\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tcolumn?.fieldName === 'editLocation'\n\t\t\t\t\t\t\t\t? onLocationFormOpen(item)\n\t\t\t\t\t\t\t\t: onPhaseFormOpen(item)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onLocationFormOpen, onPhaseFormOpen, state.isEditable]\n\t)\n\n\tconst onRegionFilter = useCallback(\n\t\t(_event: any, text?: string | undefined) => {\n\t\t\tif (text) {\n\t\t\t\tsetFilteredRegionsList(\n\t\t\t\t\tstateRegionsFullList.current.filter(\n\t\t\t\t\t\t(region) => region.name.toLowerCase().indexOf(text) > -1\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tsetFilteredRegionsList(stateRegionsFullList.current)\n\t\t\t}\n\t\t},\n\t\t[stateRegionsFullList]\n\t)\n\n\tconst onPhaseFormSubmit = (phaseData: any) => {\n\t\tdismissPhaseModal()\n\n\t\tif (phaseData.phaseId) {\n\t\t\tupdatePhase({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: phaseData,\n\t\t\t})\n\t\t} else {\n\t\t\taddPhase({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: phaseData,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"bodyContainer\">\n\t\t\t<div className=\"bodyHeader subContent\">\n\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t<div className=\"breadCrumbs\">\n\t\t\t\t\t\t<span className=\"crumbLink\" onClick={onNavigateBack}>\n\t\t\t\t\t\t\t/ Locations{' '}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"crumbLink\"\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetSelectedPhaseItem({\n\t\t\t\t\t\t\t\t\t\t\tisRegion: false,\n\t\t\t\t\t\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\t\t\t\t\t\tselectedState: null,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t/ {selectedState.text + ' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{selectedPhaseItem.isRegion ? (\n\t\t\t\t\t\t\t\t\t<>/ {selectedPhaseItem.value.name}</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>/ Phase Overview</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>/ {selectedState.text}</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mainTitle\">\n\t\t\t\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{selectedPhaseItem.isRegion ? (\n\t\t\t\t\t\t\t\t\t<>{selectedPhaseItem.value.name} Region Phase Overview</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>{selectedState.text} Phase Overview</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>{selectedState.text}</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<LocationsPhases\n\t\t\t\t\t\t\tisRegion={selectedPhaseItem.isRegion}\n\t\t\t\t\t\t\tvalue={selectedPhaseItem.value}\n\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"listTitle\">Phases</div>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onPhaseFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Phase\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{selectedState.value.vaccination.content.phases &&\n\t\t\t\t\t\tselectedState.value.vaccination.content.phases.length > 0 ? (\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\titems={phaseItemList}\n\t\t\t\t\t\t\t\tcolumns={phaseColumns}\n\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\tonItemInvoked={(item) => selectedPhase(false, item)}\n\t\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>No phases available at this time.</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"listTitle\">Sublocation</div>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t{stateRegionsFullList.current.length > 0 ? (\n\t\t\t\t\t\t\t\t<SearchBox\n\t\t\t\t\t\t\t\t\tstyles={{ root: { width: 400 } }}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\t\tonChange={(ev, text) => onRegionFilter(ev, text)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Sublocation\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{stateRegionsFullList.current.length > 0 ? (\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\titems={filteredRegionsList}\n\t\t\t\t\t\t\t\tcolumns={subLocationsColumns}\n\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\tselectionPreservedOnEmptyClick={true}\n\t\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\tonItemInvoked={(item) => selectedPhase(true, item)}\n\t\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>No regions available at this time.</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<Modal\n\t\t\t\tisOpen={isLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<LocationForm\n\t\t\t\t\titem={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissLocationModal}\n\t\t\t\t\tonSubmit={onLocationFormSubmit}\n\t\t\t\t\tisRegion={true}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t\t<Modal\n\t\t\t\tisOpen={isPhaseModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<PhaseForm\n\t\t\t\t\titem={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissPhaseModal}\n\t\t\t\t\tonSubmit={onPhaseFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n\nconst setInitialPhaseItems = (selectedState: any): any[] => {\n\tif (!selectedState.value.vaccination.content.phases) {\n\t\treturn []\n\t}\n\treturn selectedState.value.vaccination.content.phases.map(\n\t\t(phase: any, idx: number) => {\n\t\t\tconst activePhase: string =\n\t\t\t\tselectedState.value.vaccination.content.activePhase\n\t\t\treturn {\n\t\t\t\tkey: String(phase.id) + idx,\n\t\t\t\tkeyId: String(phase.id) + (phase.id === activePhase ? ' (active)' : ''),\n\t\t\t\tname:\n\t\t\t\t\ttoProperCase(phase.label ?? phase.id) +\n\t\t\t\t\t(phase.id === activePhase ? ' (active)' : ''),\n\t\t\t\tqualifications: phase.qualifications.length,\n\t\t\t\tvalue: phase,\n\t\t\t\tisNew: false,\n\t\t\t}\n\t\t}\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tFontIcon,\n\tModal,\n\tIColumn,\n\tSearchBox,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport {\n\tupdateLocationList,\n\tupdateLocationData,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport LocationForm from './LocationForm'\n\nimport './Locations.scss'\n\nexport interface LocationsStatesProp {\n\tonSelectedItem: (item: any) => void\n}\n\nexport default observer(function LocationsStates(props: LocationsStatesProp) {\n\tconst { onSelectedItem } = props\n\n\tconst [\n\t\tisLocationModalOpen,\n\t\t{ setTrue: openLocationModal, setFalse: dismissLocationModal },\n\t] = useBoolean(false)\n\tconst [filteredStateList, setFilteredStateList] = useState<any[]>([])\n\tconst stateRepoFullList = useRef<any[]>([])\n\tconst selectedLocationItem = useRef<any>(null)\n\n\tconst state = getAppStore()\n\n\tconst locationColumns = [\n\t\t{\n\t\t\tkey: 'stateCol',\n\t\t\tname: 'State',\n\t\t\tfieldName: 'text',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'regionCol',\n\t\t\tname: 'Sublocations',\n\t\t\tfieldName: 'regions',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editLocation',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tuseEffect(() => {\n\t\tif (state.repoFileData) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(state.repoFileData).forEach(\n\t\t\t\t([key, value]: [string, any]) => {\n\t\t\t\t\tconst stateId = value?.info?.content.id\n\t\t\t\t\tconst stateNames = state?.globalFileData?.cdcStateNames.content\n\n\t\t\t\t\tconst stateLabel =\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`] &&\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][state.currentLanguage] &&\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][\n\t\t\t\t\t\t\tstate.currentLanguage\n\t\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t\t? stateNames[`cdc/${stateId}/state_name`][state.currentLanguage]\n\t\t\t\t\t\t\t: `*Translation Not Found* (${stateId})`\n\n\t\t\t\t\ttempList.push({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\ttext: stateLabel,\n\t\t\t\t\t\tregions: value?.regions ? Object.keys(value.regions).length : 0,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\t\t\tsetFilteredStateList(tempList)\n\t\t\tstateRepoFullList.current = tempList\n\t\t}\n\t}, [state.repoFileData, state.globalFileData, state.currentLanguage, stateRepoFullList])\n\n\tconst onStateFilter = useCallback(\n\t\t(_event: any, text?: string | undefined) => {\n\t\t\tif (text) {\n\t\t\t\tsetFilteredStateList(\n\t\t\t\t\tstateRepoFullList.current.filter(\n\t\t\t\t\t\t(state) => state.text.toLowerCase().indexOf(text) > -1\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tsetFilteredStateList(stateRepoFullList.current)\n\t\t\t}\n\t\t},\n\t\t[stateRepoFullList]\n\t)\n\n\tconst openSelection = useCallback(\n\t\t(item: any) => {\n\t\t\tonSelectedItem(item)\n\t\t},\n\t\t[onSelectedItem]\n\t)\n\n\tconst onLocationFormSubmit = useCallback(\n\t\t(locationData, prevItem) => {\n\t\t\tdismissLocationModal()\n\t\t\tif (!prevItem) {\n\t\t\t\tupdateLocationList(locationData, false)\n\t\t\t} else {\n\t\t\t\tupdateLocationData(locationData, false, prevItem)\n\t\t\t}\n\t\t},\n\t\t[dismissLocationModal]\n\t)\n\n\tconst onLocationFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedLocationItem.current = item ?? null\n\t\t\topenLocationModal()\n\t\t},\n\t\t[openLocationModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tconst fieldContent = item[column?.fieldName as keyof any] as string\n\n\t\t\tif (column?.key === 'editCol') {\n\t\t\t\treturn state.isEditable ? (\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\tonClick={() => onLocationFormOpen(item)}\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onLocationFormOpen, state.isEditable]\n\t)\n\n\treturn (\n\t\t<div className=\"bodyContainer\">\n\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t<div className=\"breadCrumbs\">/ Locations</div>\n\t\t\t\t\t<div className=\"mainTitle\">Locations</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"bodyContent\">\n\t\t\t\t{state.repoFileData ? (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t<SearchBox\n\t\t\t\t\t\t\t\tstyles={{ root: { width: 400 } }}\n\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\tonChange={(ev, text) => onStateFilter(ev, text)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Location\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={filteredStateList}\n\t\t\t\t\t\t\tcolumns={locationColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tselectionPreservedOnEmptyClick={true}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\tonItemInvoked={openSelection}\n\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t) : (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<ProgressIndicator description=\"Loading content...\" />\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tisOpen={isLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<LocationForm\n\t\t\t\t\titem={selectedLocationItem.current}\n\t\t\t\t\tonCancel={dismissLocationModal}\n\t\t\t\t\tonSubmit={onLocationFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { useState, useCallback } from 'react'\nimport LocationsRegions from './LocationsRegions'\nimport LocationsStates from './LocationsStates'\n\nimport './Locations.scss'\n\nexport default observer(function Locations() {\n\tconst [selectedState, setSelectedState] = useState<any>(null)\n\n\tconst onNavigateBack = useCallback(() => {\n\t\tsetSelectedState(null)\n\t}, [])\n\n\treturn (\n\t\t<div className=\"locationPageContainer\">\n\t\t\t{!selectedState ? (\n\t\t\t\t<LocationsStates onSelectedItem={setSelectedState} />\n\t\t\t) : (\n\t\t\t\t<LocationsRegions\n\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\tonNavigateBack={onNavigateBack}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { action } from 'satcheljs'\n\nexport const loginUser = action('loginUser')\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { DefaultButton } from 'office-ui-fabric-react'\nimport { loginUser } from '../actions/authActions'\n\nimport './Login.scss'\n\nexport default observer(function Login() {\n\treturn (\n\t\t<div className=\"loginPageContainer\">\n\t\t\t<div className=\"loginContainer\">\n\t\t\t\t<h3>Data Composer</h3>\n\t\t\t\t<DefaultButton text=\"Login with Github\" onClick={loginUser} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n\tDefaultButton,\n\tTextField,\n\tDropdown,\n\tIDropdownOption,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport { getGlobalQualifierValidationTexts } from '../selectors/qualifierSelectors'\n\nimport './AddQualifierForm.scss'\n\nexport interface AddQualifierFormProp {\n\titem?: any\n\ttagsOptions: IDropdownOption[]\n\tonSubmit?: (newQualifier: any) => void\n\tonCancel?: () => void\n}\n\nconst setInitialData = (item: any) => {\n\tif (item) {\n\t\treturn {\n\t\t\ttagKey: item.key.split('/')[1].split('.')[0],\n\t\t\tkey: item.key,\n\t\t\tqualifier: item.text,\n\t\t\tisNew: false,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\ttagKey: '',\n\t\t\tkey: '',\n\t\t\tqualifier: '',\n\t\t\tisNew: true,\n\t\t}\n\t}\n}\n\nexport default observer(function AddQualifierForm(props: AddQualifierFormProp) {\n\tconst { onSubmit, onCancel, item, tagsOptions } = props\n\tconst [formData, setFormData] = useState<any>(setInitialData(item))\n\tconst fieldChanges = useRef<any>(formData)\n\tconst globalQualifiersList = useRef<string[]>(\n\t\tgetGlobalQualifierValidationTexts()\n\t)\n\tconst [hasError, setHasError] = useState<boolean>(false)\n\tconst [isAddingTag, setIsAddingTag] = useState<boolean>(false)\n\n\tconst handleTagChange = useCallback(\n\t\t(_ev: any, item?: IDropdownOption) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\ttagKey: item?.key,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst isDuplicate = useCallback(\n\t\t(newQualifier: string) => {\n\t\t\tconst newQualifierText = newQualifier.toLowerCase().replaceAll(' ', '')\n\t\t\tif (globalQualifiersList.current.includes(newQualifierText)) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn 'Qualifier already exist, please revise.'\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[globalQualifiersList, setHasError]\n\t)\n\n\tconst isTagDuplicate = useCallback(\n\t\t(newTag: string) => {\n\t\t\tconst newTagKey = newTag.toLowerCase().replaceAll(' ', '_')\n\t\t\tconst tagKeys = tagsOptions.map((t) => t.key)\n\t\t\tif (tagKeys.includes(newTagKey)) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn 'Tag already exist, please revise.'\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[setHasError, tagsOptions]\n\t)\n\n\tconst disableSubmit = useCallback((): boolean => {\n\t\tif (hasError) return true\n\t\treturn formData.qualifier === ''\n\t}, [formData, hasError])\n\n\tconst createNewTag = useCallback(() => {\n\t\tconst newTagKey = formData.tagKey.replaceAll(' ', '_')\n\t\ttagsOptions.push({ key: newTagKey, text: formData.tagKey })\n\t\ttagsOptions.sort((a, b) => (a.text > b.text ? 1 : -1))\n\n\t\tfieldChanges.current = {\n\t\t\t...fieldChanges.current,\n\t\t\t...{\n\t\t\t\ttagKey: newTagKey,\n\t\t\t},\n\t\t}\n\n\t\tsetIsAddingTag(false)\n\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t}, [formData, tagsOptions, fieldChanges, setIsAddingTag])\n\n\tconst formTitle = item ? 'Edit Qualifier' : 'New Qualifier'\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{formTitle}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<div className=\"tagRow\">\n\t\t\t\t\t{!isAddingTag ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tselectedKey={formData.tagKey}\n\t\t\t\t\t\t\t\tplaceholder=\"Tag\"\n\t\t\t\t\t\t\t\toptions={tagsOptions}\n\t\t\t\t\t\t\t\tonChange={handleTagChange}\n\t\t\t\t\t\t\t\tdisabled={!formData.isNew}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{formData.isNew && <PrimaryButton\n\t\t\t\t\t\t\t\ttext=\"New tag\"\n\t\t\t\t\t\t\t\tonClick={() => setIsAddingTag(true)}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"tagKey\"\n\t\t\t\t\t\t\t\tplaceholder=\"Type new tag\"\n\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\tvalidateOnLoad={false}\n\t\t\t\t\t\t\t\tonGetErrorMessage={() => isTagDuplicate(formData.tagKey)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PrimaryButton text=\"Ok\" onClick={() => createNewTag()} />\n\t\t\t\t\t\t\t<DefaultButton\n\t\t\t\t\t\t\t\ttext=\"Cancel\"\n\t\t\t\t\t\t\t\tonClick={() => setIsAddingTag(false)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"\"\n\t\t\t\t\tname=\"qualifier\"\n\t\t\t\t\tplaceholder=\"Qualifier text...\"\n\t\t\t\t\tvalue={formData.qualifier}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\tmultiline={true}\n\t\t\t\t\tautoAdjustHeight={false}\n\t\t\t\t\tresizable={false}\n\t\t\t\t\tdisabled={!formData.tagKey || isAddingTag}\n\t\t\t\t\tvalidateOnLoad={false}\n\t\t\t\t\tonGetErrorMessage={() => isDuplicate(formData.qualifier)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext=\"Submit\"\n\t\t\t\t\tdisabled={disableSubmit()}\n\t\t\t\t\tonClick={() => onSubmit?.(formData)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton text=\"Cancel\" onClick={() => onCancel?.()} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\n\nexport const isQualifierTextDuplicate = (qualifierText: string): boolean => {\n    const store = getAppStore()\n    const { content } = store.globalFileData.customStrings\n\tconst newQualifier = qualifierText.toLowerCase().replaceAll(' ','')\n\n    const existingQualifierTexts = Object.entries(content)\n        .filter(([key, _value]: [string, any]) => key.startsWith('c19.eligibility.question/'))\n        .map(([_key, value]: [string, any]) => {\n            return value[store.currentLanguage].toLowerCase().replaceAll(' ','')\n        })\n\n    return existingQualifierTexts.includes(newQualifier)\n}\n\nexport const getGlobalQualifierValidationTexts = (): string[] => {\n    const store = getAppStore()\n    const { content } = store.globalFileData.customStrings\n\n    return Object.entries(content)\n        .filter(([key, _value]: [string, any]) => key.startsWith('c19.eligibility.question/'))\n        .map(([_key, value]: [string, any]) => {\n            return value[store.currentLanguage].toLowerCase().replaceAll(' ','')\n        })\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tIGroup,\n\tDetailsList,\n\tFontIcon,\n\tModal,\n\tIDropdownOption,\n\tIColumn,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { updateGlobalQualifiers } from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\nimport AddQualifierForm from './AddQualiferForm'\n\nimport './QualifierPanel.scss'\n\nexport default observer(function QualifierPanel() {\n\tconst { globalFileData, currentLanguage, isEditable } = getAppStore()\n\tconst [qualifierGroup, setQualifierGroup] = useState<IGroup[]>([])\n\tconst [qualifierGroupItems, setQualifierGroupItems] = useState<any[]>([])\n\tconst [\n\t\tisAddQualifierModalOpen,\n\t\t{ setTrue: openAddQualifierModal, setFalse: dismissAddQualifierModal },\n\t] = useBoolean(false)\n\tconst formItem = useRef<any>(null)\n\n\tuseEffect(() => {\n\t\tif (globalFileData?.customStrings) {\n\t\t\tconst groupKeys: any[] = []\n\t\t\tconst questionItemKeys: any[] = []\n\n\t\t\tconst tempQualifierGroup: IGroup[] = []\n\t\t\tconst tempQualifierGroupItems: any[] = []\n\n\t\t\tconst contentObj = globalFileData.customStrings.content\n\t\t\tconst questionKeys = Object.keys(contentObj)\n\t\t\t\t.filter((k) => k.includes('eligibility.question'))\n\t\t\t\t.sort((a, b) => (a > b ? 1 : -1))\n\n\t\t\tquestionKeys.forEach((key) => {\n\t\t\t\tconst questionGroupKey = key.split('/')[1].split('.')\n\n\t\t\t\tif (!groupKeys.includes(questionGroupKey[0])) {\n\t\t\t\t\tgroupKeys.push(questionGroupKey[0])\n\n\t\t\t\t\ttempQualifierGroup.push({\n\t\t\t\t\t\tkey: questionGroupKey[0],\n\t\t\t\t\t\tname: toProperCase(questionGroupKey[0]),\n\t\t\t\t\t\tstartIndex: tempQualifierGroupItems.length,\n\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\tisCollapsed: true,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst groupIdx = tempQualifierGroup.findIndex(\n\t\t\t\t\t\t(obj) => obj.key === questionGroupKey[0]\n\t\t\t\t\t)\n\t\t\t\t\ttempQualifierGroup[groupIdx].count++\n\t\t\t\t}\n\n\t\t\t\tif (!questionItemKeys.includes(key)) {\n\t\t\t\t\tquestionItemKeys.push(key)\n\n\t\t\t\t\ttempQualifierGroupItems.push({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\ttext: contentObj[key][currentLanguage]\n\t\t\t\t\t\t\t? contentObj[key][currentLanguage]\n\t\t\t\t\t\t\t: `*Translation Not Found* (${currentLanguage})`,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetQualifierGroup(tempQualifierGroup)\n\t\t\tsetQualifierGroupItems(tempQualifierGroupItems)\n\t\t}\n\t}, [globalFileData, currentLanguage, setQualifierGroup, setQualifierGroupItems])\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: 'questionColKey',\n\t\t\tname: 'Question',\n\t\t\tfieldName: 'text',\n\t\t\tminWidth: 100,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editQualifier',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (isEditable ? true : loc.key !== 'editCol'))\n\n\tconst onAddQualifierFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tformItem.current = item ?? null\n\t\t\topenAddQualifierModal()\n\t\t},\n\t\t[openAddQualifierModal, formItem]\n\t)\n\n\tconst addQualifierSubmit = useCallback(\n\t\t(newQualifier) => {\n\t\t\tupdateGlobalQualifiers(newQualifier)\n\t\t\tsetTimeout(() => dismissAddQualifierModal(), 100)\n\t\t},\n\t\t[dismissAddQualifierModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tconst fieldContent = item[column?.fieldName as keyof any] as string\n\n\t\t\tif (column?.key === 'editCol') {\n\t\t\t\treturn isEditable ? (\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\tonClick={() => onAddQualifierFormOpen(item)}\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onAddQualifierFormOpen, isEditable]\n\t)\n\n\tconst tagsOptions: IDropdownOption[] = qualifierGroup.map((tag) => {\n\t\treturn {\n\t\t\tkey: tag.key,\n\t\t\ttext: tag.name,\n\t\t}\n\t})\n\n\treturn (\n\t\t<div className=\"qualifierPanelContainer\">\n\t\t\t<div className=\"panelHeader\">\n\t\t\t\t<div className=\"panelHeaderTitle\">Qualifiers</div>\n\t\t\t</div>\n\t\t\t<div className=\"panelBody\">\n\t\t\t\t<section>\n\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"addQualiferHeaderButton\"\n\t\t\t\t\t\t\tonClick={() => onAddQualifierFormOpen(null)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\tclassName=\"addQualifierIcon\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\tAdd Qualifier\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<DetailsList\n\t\t\t\t\t\titems={qualifierGroupItems}\n\t\t\t\t\t\tgroups={qualifierGroup}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tgroupProps={{\n\t\t\t\t\t\t\tshowEmptyGroups: false,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcompact={true}\n\t\t\t\t\t\tisHeaderVisible={false}\n\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\tclassName=\"qualifierGroupItem\"\n\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tisOpen={isAddQualifierModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<AddQualifierForm\n\t\t\t\t\titem={formItem.current}\n\t\t\t\t\ttagsOptions={tagsOptions}\n\t\t\t\t\tonSubmit={addQualifierSubmit}\n\t\t\t\t\tonCancel={dismissAddQualifierModal}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport {\n\tPrimaryButton,\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tTextField,\n\tMessageBar,\n\tMessageBarType,\n} from 'office-ui-fabric-react'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { createPR } from '../actions/repoActions'\nimport { getAppStore } from '../store/store'\nimport { getObjDiffs } from '../utils/dataUtils'\n\nimport './Review.scss'\n\nexport interface ReviewProp {\n\tshowDashboard: () => void\n}\n\nexport default observer(function Review(props: ReviewProp) {\n\tconst { showDashboard } = props\n\tconst changesColumns = [\n\t\t{\n\t\t\tkey: 'labelCol',\n\t\t\tname: 'Pending Changes',\n\t\t\tfieldName: 'label',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t]\n\n\tconst [changesList, setChangesList] = useState<any[]>([])\n\tconst [locationUpdates, setLocationUpdates] = useState<any[]>([])\n\tconst [globalUpdates, setGlobalUpdates] = useState<any[]>([])\n\tconst [showLoading, setShowLoading] = useState<boolean>(false)\n\tconst [errorMessage, setErrorMessage] = useState<\n\t\t{ message: string } | undefined\n\t>()\n\n\tconst [formData, setFormData] = useState<any>({})\n\tconst fieldChanges = useRef<any>(formData)\n\tconst changeSummary = useRef<any[]>([])\n\n\tconst state = getAppStore()\n\tuseEffect(() => {\n\t\tconst tempChangesList: any[] = []\n\t\tconst tempLocationUpdates: any[] = []\n\t\tconst tempGlobalUpdates: any[] = []\n\n\t\ttry {\n\t\t\tif (\n\t\t\t\tJSON.stringify(state.initGlobalFileData.customStrings).toLowerCase() !==\n\t\t\t\tJSON.stringify(state.globalFileData.customStrings).toLowerCase()\n\t\t\t) {\n\t\t\t\ttempChangesList.push({\n\t\t\t\t\tlabel: `Global strings information updated`,\n\t\t\t\t\tvalue: state.globalFileData.customStrings,\n\t\t\t\t})\n\t\t\t\ttempGlobalUpdates.push(state.globalFileData.customStrings)\n\n\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\tkey: 'global',\n\t\t\t\t\ttype: 'customStrings',\n\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.initGlobalFileData.customStrings)),\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.globalFileData.customStrings))\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tJSON.stringify(state.initGlobalFileData.cdcStateNames).toLowerCase() !==\n\t\t\t\tJSON.stringify(state.globalFileData.cdcStateNames).toLowerCase()\n\t\t\t) {\n\t\t\t\ttempChangesList.push({\n\t\t\t\t\tlabel: `State names information updated`,\n\t\t\t\t\tvalue: state.globalFileData.cdcStateNames,\n\t\t\t\t})\n\t\t\t\ttempGlobalUpdates.push(state.globalFileData.cdcStateNames)\n\n\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\tkey: 'global',\n\t\t\t\t\ttype: 'cdcStateNames',\n\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.initGlobalFileData.cdcStateNames)),\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.globalFileData.cdcStateNames))\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tJSON.stringify(state.initGlobalFileData.cdcStateLinks).toLowerCase() !==\n\t\t\t\tJSON.stringify(state.globalFileData.cdcStateLinks).toLowerCase()\n\t\t\t) {\n\t\t\t\ttempChangesList.push({\n\t\t\t\t\tlabel: `State links information updated`,\n\t\t\t\t\tvalue: state.globalFileData.cdcStateLinks,\n\t\t\t\t})\n\t\t\t\ttempGlobalUpdates.push(state.globalFileData.cdcStateLinks)\n\n\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\tkey: 'global',\n\t\t\t\t\ttype: 'cdcStateLinks',\n\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.initGlobalFileData.cdcStateLinks)),\n\t\t\t\t\t\tJSON.parse(JSON.stringify(state.globalFileData.cdcStateLinks))\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tObject.keys(state.repoFileData).forEach((location: any) => {\n\t\t\t\tif (state.initRepoFileData) {\n\t\t\t\t\tif (!state.initRepoFileData[location]) {\n\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\tlabel: `New location added - ${location}`,\n\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t})\n\t\t\t\t\t\ttempLocationUpdates.push({\n\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\tdata: state.repoFileData[location],\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet addChanges = false\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.initRepoFileData[location].info\n\t\t\t\t\t\t\t).toLowerCase() !==\n\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].info).toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\t\tlabel: `Updated information for ${location}`,\n\t\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.initRepoFileData[location].info)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tJSON.parse(JSON.stringify(state.repoFileData[location].info))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\taddChanges = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tstate.repoFileData[location].regions &&\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.initRepoFileData[location].regions\n\t\t\t\t\t\t\t)?.toLowerCase() !==\n\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\tstate.repoFileData[location].regions\n\t\t\t\t\t\t\t\t).toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\t\tlabel: `Updated regions for ${location}`,\n\t\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\ttype: 'regions',\n\t\t\t\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\tstate.initRepoFileData[location].regions ?? {}\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].regions)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\taddChanges = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.initRepoFileData[location].vaccination\n\t\t\t\t\t\t\t).toLowerCase() !==\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.repoFileData[location].vaccination\n\t\t\t\t\t\t\t).toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\t\tlabel: `Updated phase information for ${location}`,\n\t\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\ttype: 'vaccination',\n\t\t\t\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.initRepoFileData[location].vaccination)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].vaccination)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\taddChanges = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\tstate.initRepoFileData[location].strings\n\t\t\t\t\t\t\t).toLowerCase() !==\n\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].strings).toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttempChangesList.push({\n\t\t\t\t\t\t\t\tlabel: `Updated strings information for ${location}`,\n\t\t\t\t\t\t\t\tvalue: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tchangeSummary.current.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\ttype: 'strings',\n\t\t\t\t\t\t\t\tvalue: getObjDiffs(\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.initRepoFileData[location].strings)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\t\t\t\tJSON.stringify(state.repoFileData[location].strings)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\taddChanges = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (addChanges) {\n\t\t\t\t\t\t\ttempLocationUpdates.push({\n\t\t\t\t\t\t\t\tkey: location,\n\t\t\t\t\t\t\t\tdata: state.repoFileData[location],\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetLocationUpdates(tempLocationUpdates)\n\t\t\tsetChangesList(tempChangesList)\n\t\t\tsetGlobalUpdates(tempGlobalUpdates)\n\t\t} catch (err) {\n\t\t\tsetErrorMessage(err)\n\t\t}\n\t}, [state.initRepoFileData, state.repoFileData, state.initGlobalFileData, state.globalFileData, changeSummary])\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\treturn (\n\t\t<div className=\"reviewPageContainer\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ Review</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">Review</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{errorMessage && (\n\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\tmessageBarType={MessageBarType.error}\n\t\t\t\t\t\t\tdismissButtonAriaLabel=\"Close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tUnexpected Error\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t{errorMessage?.toString()}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t)}\n\t\t\t\t\t{!showLoading ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<div className=\"submitContainer\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Title (Optional):\"\n\t\t\t\t\t\t\t\t\tname=\"prTitle\"\n\t\t\t\t\t\t\t\t\tvalue={formData.prTitle}\n\t\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Details (Optional):\"\n\t\t\t\t\t\t\t\t\tname=\"prDetails\"\n\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\tvalue={formData.prDetails}\n\t\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\t\titems={changesList}\n\t\t\t\t\t\t\t\t\tcolumns={changesColumns}\n\t\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PrimaryButton\n\t\t\t\t\t\t\t\t\ttext=\"Submit changes\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetShowLoading(true)\n\t\t\t\t\t\t\t\t\t\tcreatePR([\n\t\t\t\t\t\t\t\t\t\t\tglobalUpdates,\n\t\t\t\t\t\t\t\t\t\t\tlocationUpdates,\n\t\t\t\t\t\t\t\t\t\t\tshowDashboard,\n\t\t\t\t\t\t\t\t\t\t\tformData,\n\t\t\t\t\t\t\t\t\t\t\tchangeSummary.current,\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<section className=\"loadingContainer\">\n\t\t\t\t\t\t\t<ProgressIndicator description=\"Saving changes...\" />\n\t\t\t\t\t\t</section>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { Dropdown, TextField, FontIcon } from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useCallback, useEffect, useRef } from 'react'\nimport {\n\ttranslateLocationName,\n\ttranslateQualifier,\n\ttranslateMisc,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport {\n\tgetLanguageOptions,\n\ttoProperCase,\n\tgetLanguageDisplayText,\n} from '../utils/textUtils'\n\nimport './Translate.scss'\n\nconst filterDropdownStyles = {\n\tdropdown: { border: 'none' },\n\ttitle: {\n\t\tfontSize: '14px',\n\t\tcolor: '#0078d4 !important',\n\t\tborder: 'none',\n\t\tbackgroundColor: 'transparent',\n\t},\n\tcaretDown: {\n\t\tcolor: '#0078d4 !important',\n\t\tfontSize: '14px',\n\t},\n\tdropdownOptionText: { fontSize: '14px' },\n}\n\nexport default observer(function Translate() {\n\tconst { globalFileData, repoFileData, currentLanguage } = getAppStore()\n\tconst languageOptions = getLanguageOptions()\n\tconst translationFilter = [\n\t\t{\n\t\t\tkey: 'missing',\n\t\t\ttext: 'Needs Translation',\n\t\t},\n\t\t{\n\t\t\tkey: 'all',\n\t\t\ttext: 'Show All',\n\t\t},\n\t]\n\n\tconst miscFilter = [\n\t\t{\n\t\t\tkey: 'all',\n\t\t\ttext: 'All',\n\t\t},\n\t\t{\n\t\t\tkey: 'state',\n\t\t\ttext: 'State-specific',\n\t\t},\n\t\t{\n\t\t\tkey: 'state_link',\n\t\t\ttext: 'State Links',\n\t\t},\n\t\t{\n\t\t\tkey: 'other',\n\t\t\ttext: 'Uncategorized',\n\t\t},\n\t]\n\n\tconst locationChanges = useRef<any>({})\n\tconst qualifierChanges = useRef<any>({})\n\tconst miscChanges = useRef<any>({})\n\n\tconst locationFullList = useRef<any[]>([])\n\tconst qualifierFullList = useRef<any[]>([])\n\tconst miscFullList = useRef<any[]>([])\n\tconst stateSpecificOptions = useRef<any[]>([])\n\n\tconst mainLanguage = useRef<string>(currentLanguage)\n\tconst toLanguage = useRef<string>(languageOptions[0].key)\n\n\tconst [locationList, setLocationList] = useState<any[]>([])\n\tconst [qualifierList, setQualifierList] = useState<any[]>([])\n\tconst [miscList, setMiscList] = useState<any[]>([])\n\n\tconst [translationFilterState, setTranslationFilterState] = useState<string>(\n\t\ttranslationFilter[0].key\n\t)\n\tconst [miscFilterState, setMiscFilterState] = useState<string>(\n\t\tmiscFilter[0].key\n\t)\n\tconst [\n\t\tmiscStateSpecFilterState,\n\t\tsetMiscStateSpecFilterState,\n\t] = useState<string>('')\n\tconst [isSectionCollapse, setSectionCollapse] = useState<any>({\n\t\tlocations: false,\n\t\tqualifiers: false,\n\t\tmisc: false,\n\t})\n\n\tconst buildTranslationsLists = useCallback(() => {\n\t\tconst tempMiscList: any[] = []\n\n\t\tif (repoFileData) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(repoFileData).forEach(([_key, value]: [string, any]) => {\n\t\t\t\tconst stateId = value?.info?.content.id\n\t\t\t\tconst stateNames = globalFileData?.cdcStateNames.content\n\t\t\t\tconst stateLinks = globalFileData?.cdcStateLinks.content\n\n\t\t\t\tconst stateLabel =\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`] &&\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][mainLanguage.current] &&\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][\n\t\t\t\t\t\tmainLanguage.current\n\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t? stateNames[`cdc/${stateId}/state_name`][mainLanguage.current]\n\t\t\t\t\t\t: `*Translation Not Found* (${stateId})`\n\n\t\t\t\tconst stateLinkLabel =\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`] &&\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`][mainLanguage.current] &&\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`][\n\t\t\t\t\t\tmainLanguage.current\n\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t? stateLinks[`cdc/${stateId}/state_link`][mainLanguage.current]\n\t\t\t\t\t\t: `*Translation Not Found* (${stateId})`\n\n\t\t\t\tconst translateToValue = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateNames?.[`cdc/${stateId}/state_name`]?.[toLanguage.current]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateNames?.[`cdc/${stateId}/state_name`]?.[toLanguage.current]\n\n\t\t\t\tconst translateLinkToValue = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateLinks?.[`cdc/${stateId}/state_link`]?.[toLanguage.current]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateLinks?.[`cdc/${stateId}/state_link`]?.[toLanguage.current]\n\n\t\t\t\ttempList.push({\n\t\t\t\t\tkey: `cdc/${stateId}/state_name`,\n\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\tfrom: stateLabel,\n\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\tto: translateToValue,\n\t\t\t\t\t_to: translateToValue,\n\t\t\t\t\tparent: 'global',\n\t\t\t\t\tcategory: 'locations',\n\t\t\t\t})\n\n\t\t\t\ttempMiscList.push({\n\t\t\t\t\tkey: `cdc/${stateId}/state_link`,\n\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\tfrom: stateLinkLabel,\n\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\tto: translateLinkToValue,\n\t\t\t\t\t_to: translateLinkToValue,\n\t\t\t\t\tparent: 'global',\n\t\t\t\t\tcategory: 'state_link',\n\t\t\t\t})\n\t\t\t})\n\t\t\tlocationFullList.current = tempList.sort((a, b) =>\n\t\t\t\ta.from > b.from ? 1 : -1\n\t\t\t)\n\t\t}\n\n\t\tif (globalFileData) {\n\t\t\tconst tempQualifierList: any[] = []\n\t\t\tObject.entries(globalFileData.customStrings.content).forEach(\n\t\t\t\t([key, value]: [string, any]) => {\n\t\t\t\t\tif (key.startsWith('c19.eligibility.question')) {\n\t\t\t\t\t\ttempQualifierList.push({\n\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\tparent: 'global',\n\t\t\t\t\t\t\tcategory: 'qualifiers',\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttempMiscList.push({\n\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\tparent: 'global',\n\t\t\t\t\t\t\tcategory: 'other',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\tqualifierFullList.current = tempQualifierList.sort((a, b) =>\n\t\t\t\ta.from > b.from ? 1 : -1\n\t\t\t)\n\t\t}\n\n\t\tconst stateStrings: any[] = []\n\t\tif (repoFileData) {\n\t\t\tObject.entries(repoFileData)\n\t\t\t\t.filter(([_key, value]: [string, any]) => value.strings)\n\t\t\t\t.forEach(([aKey, value]: [string, any]) => {\n\t\t\t\t\tObject.entries(value.strings.content).forEach(\n\t\t\t\t\t\t([bKey, value]: [string, any]) => {\n\t\t\t\t\t\t\tstateStrings.push({\n\t\t\t\t\t\t\t\tkey: bKey,\n\t\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\t\tparent: aKey,\n\t\t\t\t\t\t\t\tcategory: 'state',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t}\n\t\tmiscFullList.current = tempMiscList\n\t\t\t.concat(stateStrings)\n\t\t\t.sort((a, b) => (a.key > b.key ? 1 : -1))\n\n\t\tconst tempMiscStateSpecificList: any[] = []\n\t\tconst tempKeys: any[] = []\n\t\tmiscFullList.current.forEach((i) => {\n\t\t\tif (!tempKeys.includes(i.parent) && i.category === 'state') {\n\t\t\t\ttempMiscStateSpecificList.push({\n\t\t\t\t\tkey: i.parent,\n\t\t\t\t\ttext: toProperCase(i.parent),\n\t\t\t\t})\n\n\t\t\t\ttempKeys.push(i.parent)\n\t\t\t}\n\t\t})\n\t\tstateSpecificOptions.current = tempMiscStateSpecificList.sort((a, b) =>\n\t\t\ta.key > b.key ? 1 : -1\n\t\t)\n\t}, [globalFileData, repoFileData])\n\n\tuseEffect(() => {\n\t\tmainLanguage.current = currentLanguage\n\t\tbuildTranslationsLists()\n\t}, [currentLanguage, mainLanguage, buildTranslationsLists])\n\n\tconst onCollapseSection = useCallback(\n\t\t(name: string) => {\n\t\t\tsetSectionCollapse({\n\t\t\t\t...isSectionCollapse,\n\t\t\t\t...{ [name]: !isSectionCollapse[name] },\n\t\t\t})\n\t\t},\n\t\t[setSectionCollapse, isSectionCollapse]\n\t)\n\n\tconst handleLocationTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst value = ev.target.value\n\t\t\tconst idx = locationList.findIndex((i) => i.from === rowItem.from)\n\t\t\tlocationList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\tto: value,\n\t\t\t}\n\t\t\tsetLocationList([...locationList])\n\t\t\tlocationChanges.current = locationList[idx]\n\t\t},\n\t\t[locationChanges, locationList, setLocationList]\n\t)\n\n\tconst handleQualifierTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst value = ev.target.value\n\t\t\tconst idx = qualifierList.findIndex((i) => i.from === rowItem.from)\n\t\t\tqualifierList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\tto: value,\n\t\t\t}\n\t\t\tsetQualifierList([...qualifierList])\n\t\t\tqualifierChanges.current = qualifierList[idx]\n\t\t},\n\t\t[qualifierChanges, qualifierList, setQualifierList]\n\t)\n\n\tconst handleMiscTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst value = ev.target.value\n\t\t\tconst idx = miscList.findIndex((i) => i.from === rowItem.from)\n\t\t\tmiscList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\tto: value,\n\t\t\t}\n\t\t\tsetMiscList([...miscList])\n\t\t\tmiscChanges.current = miscList[idx]\n\t\t},\n\t\t[miscChanges, miscList, setMiscList]\n\t)\n\n\tconst updateLocationTranslation = useCallback((item) => {\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = toProperCase(item.to).trim()\n\t\t\ttranslateLocationName(item)\n\t\t}\n\t}, [])\n\n\tconst updateQualifierTranslation = useCallback((item) => {\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = String(item.to).trim()\n\t\t\ttranslateQualifier(item)\n\t\t}\n\t}, [])\n\n\tconst updateMiscTranslation = useCallback((item) => {\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = String(item.to).trim()\n\t\t\ttranslateMisc(item)\n\t\t}\n\t}, [])\n\n\tconst onLanguageChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\ttoLanguage.current = option.key\n\t\t\tbuildTranslationsLists()\n\t\t\tif (translationFilterState === 'missing') {\n\t\t\t\tsetLocationList(locationFullList.current.filter((i) => !i._to))\n\t\t\t\tsetQualifierList(qualifierFullList.current.filter((i) => !i._to))\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current.filter((i) => !i._to))\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) => !i._to && i.category === miscFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetLocationList(locationFullList.current)\n\t\t\t\tsetQualifierList(qualifierFullList.current)\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current)\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter((i) => i.category === miscFilterState)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\ttranslationFilterState,\n\t\t\tmiscFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tbuildTranslationsLists,\n\t\t\tsetLocationList,\n\t\t\tsetQualifierList,\n\t\t\tsetMiscList,\n\t\t]\n\t)\n\n\tconst onTranslationFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tif (option.key === 'missing') {\n\t\t\t\tsetLocationList(locationFullList.current.filter((i) => !i._to))\n\t\t\t\tsetQualifierList(qualifierFullList.current.filter((i) => !i._to))\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current.filter((i) => !i._to))\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) => !i._to && i.category === miscFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetLocationList(locationFullList.current)\n\t\t\t\tsetQualifierList(qualifierFullList.current)\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current)\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter((i) => i.category === miscFilterState)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetTranslationFilterState(option.key)\n\t\t},\n\t\t[\n\t\t\tsetMiscList,\n\t\t\tsetLocationList,\n\t\t\tsetQualifierList,\n\t\t\tlocationFullList,\n\t\t\tqualifierFullList,\n\t\t\tmiscFullList,\n\t\t\tmiscFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tsetTranslationFilterState,\n\t\t]\n\t)\n\n\tconst onMiscFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tconst selectedMiscStateOptionKey =\n\t\t\t\tmiscStateSpecFilterState || stateSpecificOptions.current[0].key\n\t\t\tconst filteredList = miscFullList.current.filter((i) => {\n\t\t\t\tif (option.key === 'all') {\n\t\t\t\t\treturn translationFilterState === 'missing' ? !i._to : i\n\t\t\t\t} else {\n\t\t\t\t\tif (translationFilterState === 'missing') {\n\t\t\t\t\t\tif (option.key === 'state') {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\ti.category === option.key &&\n\t\t\t\t\t\t\t\ti.parent === selectedMiscStateOptionKey\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn !i._to && i.category === option.key\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (option.key === 'state') {\n\t\t\t\t\t\t\treturn i.category === option.key && selectedMiscStateOptionKey\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn i.category === option.key\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetMiscList(filteredList)\n\t\t\tsetMiscFilterState(option.key)\n\t\t\tsetMiscStateSpecFilterState(selectedMiscStateOptionKey)\n\t\t},\n\t\t[\n\t\t\tmiscFullList,\n\t\t\ttranslationFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tsetMiscStateSpecFilterState,\n\t\t\tsetMiscList,\n\t\t\tsetMiscFilterState,\n\t\t]\n\t)\n\n\tconst onMiscStateSpecificFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tsetMiscList(miscFullList.current.filter((i) => i.parent === option.key))\n\t\t\tsetMiscStateSpecFilterState(option.key)\n\t\t},\n\t\t[setMiscList, miscFullList]\n\t)\n\n\treturn (\n\t\t<div className=\"translatePageContainer\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ Translate</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">Translate</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t<div className=\"filterGroup\">\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tselectedKey={toLanguage.current}\n\t\t\t\t\t\t\tplaceholder=\"Available languages\"\n\t\t\t\t\t\t\toptions={languageOptions}\n\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\tonChange={onLanguageChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tselectedKey={translationFilterState}\n\t\t\t\t\t\t\tplaceholder=\"Needs Translation\"\n\t\t\t\t\t\t\toptions={translationFilter}\n\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\tonChange={onTranslationFilterChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\tonClick={() => onCollapseSection('locations')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\tisSectionCollapse.locations ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div>Locations</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!isSectionCollapse.locations &&\n\t\t\t\t\t\t\t(locationList.length > 0 ? (\n\t\t\t\t\t\t\t\tlocationList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={`locationRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\tname={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleLocationTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateLocationTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\tNo missing location translations found for:{' '}\n\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\tonClick={() => onCollapseSection('qualifiers')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\tisSectionCollapse.qualifiers ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div>Qualifiers</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!isSectionCollapse.qualifiers &&\n\t\t\t\t\t\t\t(qualifierList.length > 0 ? (\n\t\t\t\t\t\t\t\tqualifierList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={`qualifierRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t} qualifier`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\tname={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleQualifierTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateQualifierTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\tNo missing qualifier translations found for:{' '}\n\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\tonClick={() => onCollapseSection('misc')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\tisSectionCollapse.misc ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div>Miscellaneous</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!isSectionCollapse.misc &&\n\t\t\t\t\t\t\t(miscList.length > 0 ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"miscFilterGroup\">\n\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\tselectedKey={miscFilterState}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Filter Miscellaneous\"\n\t\t\t\t\t\t\t\t\t\t\toptions={miscFilter}\n\t\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onMiscFilterChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{miscFilterState === 'state' ? (\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={miscStateSpecFilterState}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={stateSpecificOptions.current}\n\t\t\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onMiscStateSpecificFilterChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{miscList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`miscRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t} misc`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleMiscTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateMiscTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\tNo missing miscellaneous translations found for:{' '}\n\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDropdown,\n\tIconButton,\n\tPersona,\n\tPersonaSize,\n\tPivot,\n\tPivotItem,\n\tMessageBar\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useState, useEffect } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { setCurrentLanguage } from '../mutators/repoMutators'\nimport {\n\tisUserAuthenticated,\n\tisUserAuthorized,\n} from '../selectors/authSelectors'\nimport { getAppStore } from '../store/store'\nimport { getLanguageOptions } from '../utils/textUtils'\nimport Dashboard from './Dashboard'\nimport { Footer } from './Footer'\nimport Locations from './Locations'\nimport Login from './Login'\nimport QualifierPanel from './QualifierPanel'\nimport Review from './Review'\nimport Translate from './Translate'\n\nimport './App_reset_styles.scss'\nimport './App.scss'\n\nexport default observer(function App() {\n\tconst state = getAppStore()\n\tconst [isPanelOpen, { setTrue: showPanel, setFalse: hidePanel }] = useBoolean(\n\t\tfalse\n\t)\n\tconst [selectedKey, setSelectedKey] = useState<string>('Dashboard')\n\n\tuseEffect(() => {\n\t\tif (state.pendingChanges) {\n\t\t\twindow.onbeforeunload = function() {\n\t\t\t\treturn true;\n\t\t\t};\n\t\t} else {\n\t\t\twindow.onbeforeunload = null\n\t\t}\n\t}, [state.pendingChanges]);\n\n\tconst togglePanel = useCallback(\n\t\t(item?: any) => {\n\t\t\tif (item.props.headerText === 'Locations') {\n\t\t\t\tshowPanel()\n\t\t\t} else {\n\t\t\t\thidePanel()\n\t\t\t}\n\t\t\tsetSelectedKey(item.props.headerText)\n\t\t},\n\t\t[showPanel, hidePanel, setSelectedKey]\n\t)\n\n\tconst showDashboard = useCallback(() => {\n\t\tsetSelectedKey('Dashboard')\n\t}, [setSelectedKey])\n\n\treturn (\n\t\t<div className=\"rootContentWrapper\">\n\t\t\t{isUserAuthenticated() ? (\n\t\t\t\t<>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t<div className=\"appPageContainer\">\n\t\t\t\t\t\t\t\t<div className=\"appHeaderWrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"appHeaderContainer\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\ticonProps={{ iconName: 'waffle' }}\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Apps\"\n\t\t\t\t\t\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\t\t\t\t\t\ticon: { fontSize: '24px', color: 'white' },\n\t\t\t\t\t\t\t\t\t\t\t\trootHovered: { backgroundColor: 'transparent' },\n\t\t\t\t\t\t\t\t\t\t\t\trootPressed: { backgroundColor: 'transparent' },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className=\"appHeaderTitle\">Data Composer</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"appHeaderPersona\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey={state.currentLanguage}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e, o) => setCurrentLanguage(o)}\n\t\t\t\t\t\t\t\t\t\t\t\tariaLabel=\"Pick Language\"\n\t\t\t\t\t\t\t\t\t\t\t\toptions={getLanguageOptions()}\n\t\t\t\t\t\t\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tdropdown: { border: 'none' },\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaretDown: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tdropdownOptionText: { fontSize: '14px' },\n\t\t\t\t\t\t\t\t\t\t\t\t\troot: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectors: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t':hover': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,.25);',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"appHeaderUsername\">\n\t\t\t\t\t\t\t\t\t\t\t{state.userDisplayName}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<Persona\n\t\t\t\t\t\t\t\t\t\t\ttext={state.userDisplayName}\n\t\t\t\t\t\t\t\t\t\t\tsize={PersonaSize.size32}\n\t\t\t\t\t\t\t\t\t\t\thidePersonaDetails={true}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"appBodyWrapper\">\n\t\t\t\t\t\t\t\t\t{isUserAuthorized() ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"appBodyLeft\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Pivot\n\t\t\t\t\t\t\t\t\t\t\t\t\tonLinkClick={togglePanel}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={selectedKey}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem headerText=\"Dashboard\" itemKey=\"Dashboard\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.pendingChanges && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou have pending changes, please click on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treview tab to submit these changes.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dashboard />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem headerText=\"Locations\" itemKey=\"Locations\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.pendingChanges && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou have pending changes, please click on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treview tab to submit these changes.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Locations />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theaderText=\"Translate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemKey=\"Translate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.pendingChanges && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou have pending changes, please click on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treview tab to submit these changes.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Translate />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{state.pendingChanges && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem headerText=\"Review\" itemKey=\"Review\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Review showDashboard={showDashboard} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Pivot>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{state.isEditable && isPanelOpen && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"appBodyRight\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<QualifierPanel />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<div className=\"appBodyLeft\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"dashboardPageWrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mainTitle\">Welcome!</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<section style={{ width: '70%', margin: '0px auto' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tThank you for your interest in helping to manage the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata, unfortunately right now access to this tool\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequires collaborator permissions on{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`https://www.github.com/${process.env.REACT_APP_REPO_OWNER}/${process.env.REACT_APP_REPO_NAME}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis repo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t. Feel free to request access over on GitHub!\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t\t<div>404 page not found.</div>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t)}\n\t\t\t<Footer />\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\n\nexport const isUserAuthenticated = (): boolean => {\n\treturn getAppStore().isAuthenticated\n}\n\nexport const isUserAuthorized = (): boolean => {\n\treturn getAppStore().isAuthorized\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { mutatorAction } from 'satcheljs'\nimport { AppState } from '../store/schema/AppState'\nimport { getAppStore } from '../store/store'\n\nexport const setUserAuthData = mutatorAction(\n\t'setUserAuthData',\n\t(data: AppState | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.accessToken = data.accessToken\n\t\t\tstore.email = data.email\n\t\t\tstore.isAuthenticated = data.isAuthenticated\n\t\t\tstore.userDisplayName = data.userDisplayName\n\t\t\tstore.username = data.username\n\t\t}\n\t}\n)\n\nexport const setUserNoAccess = mutatorAction('setUserNoAccess', () => {\n\tconst store = getAppStore()\n\tstore.isAuthorized = false\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nimport { AppState } from '../store/schema/AppState'\n\nexport const loginUserService = async (): Promise<AppState | undefined> => {\n\tlet authResp = undefined\n\n\tif (!firebase.apps.length) {\n\t\tfirebase.initializeApp({\n\t\t\tapiKey: process.env.REACT_APP_FIREBASE_KEY,\n\t\t\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n\t\t})\n\t}\n\n\tconst provider = new firebase.auth.GithubAuthProvider()\n\tprovider.addScope('repo')\n\n\tconst response = await firebase.auth().signInWithPopup(provider)\n\n\tif (response) {\n\t\tconst oauthCreds = response.credential as firebase.auth.OAuthCredential\n\t\tauthResp = {\n\t\t\tisAuthenticated: true,\n\t\t\taccessToken: oauthCreds.accessToken,\n\t\t\temail: response.user?.email,\n\t\t\tuserDisplayName: response.user?.displayName,\n\t\t\tusername: response.additionalUserInfo?.username,\n\t\t} as AppState\n\t}\n\n\treturn authResp\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport parse from 'csv-parse/lib/sync'\nimport { getAppStore } from '../store/store'\nimport { convertCSVDataToObj } from '../utils/dataUtils'\nimport { b64_to_utf8, utf8_to_b64, getLanguageKeys } from '../utils/textUtils'\n\nconst createPath = (obj: any, pathInput: string, value: any = undefined) => {\n\tlet path = pathInput.split('/')\n\tlet current = obj\n\twhile (path.length > 1) {\n\t\tconst [head, ...tail] = path\n\t\tpath = tail\n\t\tif (current[head] === undefined) {\n\t\t\tcurrent[head] = {}\n\t\t}\n\t\tcurrent = current[head]\n\t}\n\tif (!current[path[0]]) {\n\t\tcurrent[path[0]] = {}\n\t} else {\n\t\tcurrent[path[0]] = { ...current[path[0]], ...value }\n\t}\n\treturn obj\n}\n\nconst getContent = async (url: string, token: string) => {\n\tconst response = await fetch(`${url}`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAuthorization: `token ${token}`,\n\t\t},\n\t})\n\tconst data = await response.json()\n\n\treturn data\n}\n\nconst createCSVDataString = (contentObj: any) => {\n\tconst languageKeys = getLanguageKeys()\n\tconst contentKeys = Object.keys(contentObj)\n\n\tlet result = 'String ID,' + languageKeys.join(',') + '\\n'\n\n\tfor (const key of contentKeys) {\n\t\tconst rowValues = [key]\n\t\tlanguageKeys.forEach((lang: string) => {\n\t\t\tif (contentObj[key][lang]) {\n\t\t\t\trowValues.push(`\"${contentObj[key][lang].replace(/\"/g, '\"\"')}\"`)\n\t\t\t} else {\n\t\t\t\trowValues.push('')\n\t\t\t}\n\t\t})\n\n\t\tresult += rowValues.join(',') + '\\n'\n\t}\n\treturn result\n}\n\nexport const repoServices = async (\n\tcommand: string,\n\textraData: any = undefined\n): Promise<any | undefined> => {\n\tconst state = getAppStore()\n\tconst githubRepoOwner = process.env.REACT_APP_REPO_OWNER\n\tconst githubRepoName = process.env.REACT_APP_REPO_NAME\n\n\tswitch (command) {\n\t\tcase 'checkAccess':\n\t\t\tconst loadAccessResponse = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/collaborators/${state.username}`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\tAccept: 'application/vnd.github.v3+json',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\t\t\treturn loadAccessResponse\n\n\t\tcase 'getBranches':\n\t\t\tconst loadBranchesResponse = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/branches`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\treturn await loadBranchesResponse.json()\n\t\tcase 'getPullRequests':\n\t\t\tconst loadPRResponse = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/pulls`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\treturn await loadPRResponse.json()\n\t\tcase 'getIssues':\n\t\t\tconst loadIssuesResponse = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst prList = await loadIssuesResponse.clone().json()\n\t\t\tconst prChangeList: any[] = []\n\t\t\tprList.forEach(async (item: any) => {\n\t\t\t\tconst commentResp = await fetch(\n\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues/${item.number}/comments`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tconst commentsObj = await commentResp.json()\n\t\t\t\tif (commentsObj && commentsObj.length > 0) {\n\t\t\t\t\tconst changes = JSON.parse(commentsObj[0].body.substr(1, commentsObj[0].body.length - 2))\n\t\t\t\t\tprChangeList.push({prNumber: item.number, prDescription: item.body, prChanges: changes})\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn [await loadIssuesResponse.json(), prChangeList]\n\n\t\tcase 'getRepoFileData':\n\t\t\tconst dataFolderResp = await fetch(\n\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\t\t\tconst dataFolderObj = await dataFolderResp.json()\n\t\t\tconst policyFolderGitUrl = dataFolderObj.find(\n\t\t\t\t(folder: { name: string }) => folder.name === 'policies'\n\t\t\t).git_url\n\t\t\tconst loadPolicyFolderResponse = await fetch(\n\t\t\t\t`${policyFolderGitUrl}?recursive=true`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\t\t\tconst policyFolderData = await loadPolicyFolderResponse.json()\n\t\t\tconst stateData: any = {}\n\t\t\tpolicyFolderData.tree.forEach(async (element: any) => {\n\t\t\t\tif (element.type === 'tree') {\n\t\t\t\t\tcreatePath(stateData, element.path)\n\t\t\t\t} else {\n\t\t\t\t\tconst lastInstance = element.path.lastIndexOf('/')\n\t\t\t\t\tconst filePath = element.path.substring(0, lastInstance)\n\t\t\t\t\tconst fileName: string = element.path.substring(lastInstance + 1)\n\t\t\t\t\tconst fileType: string = fileName.split('.')[0]\n\t\t\t\t\tconst fileObj: any = {}\n\n\t\t\t\t\tconst fileData = await getContent(\n\t\t\t\t\t\tString(element.url),\n\t\t\t\t\t\tString(state.accessToken)\n\t\t\t\t\t)\n\n\t\t\t\t\tswitch (fileName.split('.')[1].toLowerCase()) {\n\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\tfileObj[fileType] = {\n\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\tcontent: JSON.parse(b64_to_utf8(fileData.content)),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'md':\n\t\t\t\t\t\t\tfileObj['desc_md'] = {\n\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\tcontent: b64_to_utf8(fileData.content),\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'csv':\n\t\t\t\t\t\t\tfileObj['strings'] = {\n\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\tcontent: convertCSVDataToObj(\n\t\t\t\t\t\t\t\t\tparse(b64_to_utf8(fileData.content), { columns: true })\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fileObj !== {}) {\n\t\t\t\t\t\tcreatePath(stateData, filePath, fileObj)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst localizationFolderGitUrl = dataFolderObj.find(\n\t\t\t\t(folder: { name: string }) => folder.name === 'localization'\n\t\t\t).git_url\n\n\t\t\tconst localizationResponse = await fetch(\n\t\t\t\t`${localizationFolderGitUrl}?recursive=true`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst localizationData = await localizationResponse.json()\n\n\t\t\tconst customStrings = localizationData.tree.find(\n\t\t\t\t(file: { path: string }) => file.path === 'custom-strings.csv'\n\t\t\t)\n\t\t\tconst cdcStateNames = localizationData.tree.find(\n\t\t\t\t(file: { path: string }) => file.path === 'cdc-state-names.csv'\n\t\t\t)\n\t\t\tconst cdcStateLinks = localizationData.tree.find(\n\t\t\t\t(file: { path: string }) => file.path === 'cdc-state-links.csv'\n\t\t\t)\n\n\t\t\tlet customStringsData: any = {}\n\t\t\tlet cdcStateNamesData: any = {}\n\t\t\tlet cdcStateLinksData: any = {}\n\n\t\t\tconst customStringsDataParse = await getContent(\n\t\t\t\tString(customStrings.url),\n\t\t\t\tString(state.accessToken)\n\t\t\t)\n\t\t\tcustomStringsData = convertCSVDataToObj(\n\t\t\t\tparse(b64_to_utf8(customStringsDataParse.content), { columns: true })\n\t\t\t)\n\n\t\t\tconst cdcStateNamesDataParse = await getContent(\n\t\t\t\tString(cdcStateNames.url),\n\t\t\t\tString(state.accessToken)\n\t\t\t)\n\t\t\tcdcStateNamesData = convertCSVDataToObj(\n\t\t\t\tparse(b64_to_utf8(cdcStateNamesDataParse.content), { columns: true })\n\t\t\t)\n\n\t\t\tconst cdcStateLinksDataParse = await getContent(\n\t\t\t\tString(cdcStateLinks.url),\n\t\t\t\tString(state.accessToken)\n\t\t\t)\n\t\t\tcdcStateLinksData = convertCSVDataToObj(\n\t\t\t\tparse(b64_to_utf8(cdcStateLinksDataParse.content), { columns: true })\n\t\t\t)\n\n\t\t\tcustomStrings['content'] = customStringsData\n\t\t\tcdcStateNames['content'] = cdcStateNamesData\n\t\t\tcdcStateLinks['content'] = cdcStateLinksData\n\n\t\t\treturn [stateData, customStrings, cdcStateNames, cdcStateLinks]\n\n\t\tcase 'createPR':\n\t\t\tif (state?.mainBranch) {\n\t\t\t\tconst mainBranch = state?.mainBranch\n\t\t\t\tconst branchName = `refs/heads/${state.username}-policy-${Date.now()}`\n\t\t\t\tconst globalUpdates = extraData[0]\n\t\t\t\tconst locationUpdates = extraData[1]\n\t\t\t\tconst prFormData = extraData[3]\n\t\t\t\tconst changeSummary = extraData[4]\n\n\t\t\t\tconst createBranchResponse = await fetch(\n\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/git/refs`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tref: branchName,\n\t\t\t\t\t\t\tsha: mainBranch.commit.sha,\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\n\t\t\t\tconst newBranch = await createBranchResponse.json()\n\t\t\t\tif (newBranch) {\n\t\t\t\t\tif (globalUpdates) {\n\t\t\t\t\t\tfor (const i in globalUpdates) {\n\t\t\t\t\t\t\tconst updateObj = globalUpdates[i]\n\t\t\t\t\t\t\tconst fileData = createCSVDataString(updateObj.content)\n\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/localization/${updateObj.path}`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\tmessage: `updated ${updateObj.path}`,\n\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(fileData),\n\t\t\t\t\t\t\t\t\t\tsha: updateObj.sha,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (locationUpdates) {\n\t\t\t\t\t\tfor (const i in locationUpdates) {\n\t\t\t\t\t\t\tconst locationObj = locationUpdates[i].data\n\n\t\t\t\t\t\t\t//Info\n\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${locationObj.info.path}`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\tmessage: `updated ${locationObj.info.path}`,\n\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(locationObj.info.content, null, '\\t')\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tsha: locationObj.info.sha,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t//Vaccingation\n\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${locationObj.vaccination.path}`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\tmessage: `updated ${locationObj.vaccination.path}`,\n\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\t\tlocationObj.vaccination.content,\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t'\\t'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tsha: locationObj.vaccination.sha,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t//Strings\n\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${locationObj.strings.path}`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\tmessage: `updated ${locationObj.strings.path}`,\n\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\tcreateCSVDataString(locationObj.strings.content)\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tsha: locationObj.strings.sha,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Regions\n\t\t\t\t\t\t\tif (locationObj.regions) {\n\t\t\t\t\t\t\t\tconst regionKeys = Object.keys(locationObj.regions)\n\t\t\t\t\t\t\t\tfor (const key of regionKeys) {\n\t\t\t\t\t\t\t\t\tconst regionObj = locationObj.regions[key]\n\t\t\t\t\t\t\t\t\t//Info\n\t\t\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${regionObj.info.path}`,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: `updated ${regionObj.info.path}`,\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(regionObj.info.content, null, '\\t')\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tsha: regionObj.info.sha,\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t//Vaccination\n\t\t\t\t\t\t\t\t\tawait fetch(\n\t\t\t\t\t\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/contents/packages/plans/data/policies/${regionObj.vaccination.path}`,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: `updated ${regionObj.vaccination.path}`,\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: utf8_to_b64(\n\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tregionObj.vaccination.content,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'\\t'\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tsha: regionObj.vaccination.sha,\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst prTitle = !prFormData.prTitle ? 'auto PR creation' : prFormData.prTitle\n\n\t\t\t\tconst prResp = await fetch(\n\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/pulls`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\thead: branchName,\n\t\t\t\t\t\t\tbase: 'main',\n\t\t\t\t\t\t\ttitle: prTitle,\n\t\t\t\t\t\t\tbody: prFormData.prDetails\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\n\t\t\t\tconst prRespClone = await prResp.clone().json()\n\n\t\t\t\tawait fetch(\n\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues/${prRespClone.number}/labels`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tlabels: ['data-composer-submission', 'requires-data-accuracy-review']\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\n\t\t\t\tawait fetch(\n\t\t\t\t\t`https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/issues/${prRespClone.number}/comments`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `token ${state.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tbody: `\\`${JSON.stringify(changeSummary)}\\``\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t)\n\n\t\t\t\treturn prResp.json()\n\t\t\t}\n\t\t\tbreak\n\t}\n\n\treturn undefined\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { orchestrator } from 'satcheljs'\nimport { loginUser } from '../actions/authActions'\nimport { initializeGitData } from '../actions/repoActions'\nimport { setUserAuthData, setUserNoAccess } from '../mutators/authMutators'\nimport { loginUserService } from '../services/loginUserService'\nimport { repoServices } from '../services/repoServices'\n\norchestrator(loginUser, async () => {\n\tconst resp = await loginUserService()\n\tif (resp) {\n\t\tsetUserAuthData(resp)\n\t\tconst accessResp = await repoServices('checkAccess')\n\t\tif (accessResp.ok) {\n\t\t\tinitializeGitData()\n\t\t} else {\n\t\t\tsetUserNoAccess()\n\t\t}\n\t}\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { orchestrator } from 'satcheljs'\nimport {\n\tcreatePR,\n\tgetRepoFileData,\n\tinitializeGitData,\n} from '../actions/repoActions'\nimport {\n\tsetBranchList,\n\thandleCreatePR,\n\tsetRepoFileData,\n\tsetIssuesList,\n\tinitStoreData\n} from '../mutators/repoMutators'\nimport { repoServices } from '../services/repoServices'\n\n\norchestrator(createPR, async (message) => {\n\tconst { fileData } = message\n\tlet resp = await repoServices('createPR', fileData)\n\n\tif(resp){\n\n\t\tresp = await repoServices('getBranches')\n\t\tsetBranchList(resp)\n\n\t\tresp = await repoServices('getRepoFileData')\n\t\tsetRepoFileData(resp)\n\n\t\tresp = await repoServices('getIssues')\n\t\tsetIssuesList(resp, fileData[2]())\n\t\thandleCreatePR()\n\t}\n})\n\norchestrator(getRepoFileData, async () => {\n\tconst resp = await repoServices('getRepoFileData')\n\tsetRepoFileData(resp)\n})\n\norchestrator(initializeGitData, async () => {\n\tinitStoreData(true)\n\n\tlet resp = await repoServices('getBranches')\n\tsetBranchList(resp)\n\n\tresp = await repoServices('getRepoFileData')\n\tsetRepoFileData(resp)\n\n\tresp = await repoServices('getIssues')\n\tsetIssuesList(resp)\n\thandleCreatePR()\n\n\tinitStoreData(false)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { initializeIcons } from '@fluentui/react/lib/Icons'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './components/App'\nimport './orchestrators/authOrchestrators'\nimport './orchestrators/repoOrchestrators'\n\nfunction render() {\n\ttry {\n\t\tconst basePath = process.env.REACT_APP_BASE_PATH\n\t\tinitializeIcons()\n\t\tReactDOM.render(\n\t\t\t<React.StrictMode>\n\t\t\t\t<Router basename={basePath}>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</React.StrictMode>,\n\t\t\tdocument.getElementById('root')\n\t\t)\n\t} catch (err) {\n\t\tconsole.error('error rendering app', err)\n\t}\n}\n\nrender()\n"],"sourceRoot":""}