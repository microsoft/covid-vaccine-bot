/*! For license information please see main.5504c428.chunk.js.LICENSE.txt */
(this["webpackJsonp@covid-vax-bot/data-portal"]=this["webpackJsonp@covid-vax-bot/data-portal"]||[]).push([[0],{112:function(e,t,n){},165:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},204:function(e,t){},206:function(e,t){},215:function(e,t,n){"use strict";n.r(t);var i=n(272),a=n(0),c=n.n(a),o=n(53),r=n.n(o),s=n(98),l=n(7),u=n(292),d=n(274),b=n(273),f=n(5),h=n(281),j=n(135),v=n(282),p=n(258),g=n(16),m=n(19),O=n(11),y=n(4),k=n(12),x=Object(k.createStore)("appState",{isAuthenticated:!1,isAuthorized:!0,accessToken:void 0,username:void 0,email:void 0,userDisplayName:void 0,branches:void 0,issues:void 0,repoFileData:void 0,initRepoFileData:void 0,globalFileData:void 0,initGlobalFileData:void 0,mainBranch:void 0,currentLanguage:"en-us",toggleQualifier:!1,isEditable:!0,pendingChanges:!1,isDataRefreshing:!1,prChanges:void 0}),C=function(e){var t={};return e.forEach((function(e){var n=Object.keys(e).find((function(e){return"String ID"===e.trim()})),i=e[n];delete e[n],t[i.toLowerCase()]=e})),t},N=function e(t,n){if(!n||"[object Object]"!==Object.prototype.toString.call(n))return t;var i,a={},c=function(t,n,i){var c=Object.prototype.toString.call(t),o=Object.prototype.toString.call(n);if("[object Undefined]"!==o)if(c===o)if("[object Object]"!==c)"[object Array]"!==c?"[object Function]"===c?t.toString()!==n.toString()&&(a[i]=n):t!==n&&(a[i]=n):function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,n)||(a[i]=n);else{var r=e(t,n);Object.keys(r).length>0&&(a[i]=r)}else a[i]=n;else a[i]=null};for(i in t)t.hasOwnProperty(i)&&c(t[i],n[i],i);for(i in n)n.hasOwnProperty(i)&&(t[i]||t[i]===n[i]||(a[i]=n[i]));return a},w=Object(k.mutatorAction)("initStoreData",(function(e){x().isDataRefreshing=e})),S=Object(k.mutatorAction)("setBranchList",(function(e){if(e){var t=x();t.branches=e;var n=e.find((function(e){return"main"===e.name}));t.mainBranch=n}})),D=Object(k.mutatorAction)("setIssuesList",(function(e,t){if(e){var n=x();n.issues=e[0],n.prChanges=e[1],t&&t()}})),F=Object(k.mutatorAction)("handleCreatePR",(function(){x().pendingChanges=!1})),L=Object(k.mutatorAction)("setRepoFileData",(function(e){if(e){var t=x();t.repoFileData=e[0],t.initRepoFileData=e[0],t.globalFileData={customStrings:e[1],cdcStateNames:e[2],cdcStateLinks:e[3]},t.initGlobalFileData={customStrings:e[1],cdcStateNames:e[2],cdcStateLinks:e[3]}}})),I=Object(k.mutatorAction)("setCurrentLanguage",(function(e){e&&(x().currentLanguage=e.key)})),R=Object(k.mutatorAction)("updateLocationList",(function(e,t,n){if(e){var i=x(),a=function(e){var t=e.details.replace(/[^a-z0-9\s]/gi,"").replace(/\s/g,"_").toLowerCase();return{info:{content:{id:t,metadata:{code_alpha:t,code_numeric:0},name:e.details,type:e.regionType},name:"info.json",path:"".concat(t,"/info.json"),sha:"",type:"info",url:""},strings:{content:{}},vaccination:{content:{activePhase:"",links:Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)({},""!==(null===e||void 0===e?void 0:e.eligibility)&&{eligibility:{url:e.eligibility}}),""!==(null===e||void 0===e?void 0:e.eligibilityPlan)&&{eligibility_plan:{url:e.eligibilityPlan}}),""!==(null===e||void 0===e?void 0:e.info)&&{info:{url:e.info,text:"cdc/".concat(t,"/state_link")}}),""!==(null===e||void 0===e?void 0:e.providers)&&{providers:{url:e.providers,text:"c19.links/vax_providers"}}),""!==(null===e||void 0===e?void 0:e.workflow)&&{workflow:{url:e.workflow,text:"c19.links/vax_quiz"}}),""!==(null===e||void 0===e?void 0:e.scheduling)&&{scheduling:{url:e.scheduling,text:"c19.links/schedule_vax"}}),""!==(null===e||void 0===e?void 0:e.schedulingPhone)&&{scheduling_phone:{url:"tel:".concat(e.schedulingPhone),text:e.schedulingPhone}})},name:"vaccination.json",path:"".concat(t,"/vaccination.json"),sha:"",type:"vaccination",url:""}}}(e);if(i.pendingChanges=!0,t){var c=i.repoFileData[n.key];if(a.info.path="".concat(n.key,"/regions/").concat(a.info.path),a.vaccination.path="".concat(n.key,"/regions/").concat(a.vaccination.path),""!==e.info&&(a.vaccination.content.links.info.text="cdc/".concat(c.info.content.id,"/state_link")),""!==e.schedulingPhone){var o="c19.link/scheduling.phone.".concat(c.info.content.metadata.code_alpha,".").concat(a.info.content.id).toLowerCase();c.strings.content[o]=Object(y.a)(Object(y.a)({},c.strings.content[o]),{},Object(O.a)({},i.currentLanguage,e.schedulingPhone)),a.vaccination.content.links.scheduling_phone.text=o}if(""!==e.schedulingPhoneDesc){var r="c19.link/scheduling.phone.description.".concat(c.info.content.metadata.code_alpha,".").concat(a.info.content.id).toLowerCase();c.strings.content[r]=Object(y.a)(Object(y.a)({},c.strings.content[r]),{},Object(O.a)({},i.currentLanguage,e.schedulingPhoneDesc)),a.vaccination.content.links.scheduling_phone.description=r}c.regions?c.regions[a.info.content.id]=a:c.regions=Object(O.a)({},a.info.content.id,a),i.repoFileData=Object(y.a)({},i.repoFileData)}else{i.globalFileData.cdcStateNames.content["cdc/".concat(a.info.content.id,"/state_name")]=Object(y.a)(Object(y.a)({},i.globalFileData.cdcStateNames.content["cdc/".concat(a.info.content.id,"/state_name")]),{},Object(O.a)({},i.currentLanguage,e.details)),a.strings.path="".concat(a.info.content.id,"/").concat(a.info.content.id,".csv");var s={};if(""!==e.schedulingPhone){var l="c19.link/scheduling.phone.".concat(a.info.content.id).toLowerCase();s[l]=Object(y.a)(Object(y.a)({},s[l]),{},Object(O.a)({},i.currentLanguage,e.schedulingPhone)),a.vaccination.content.links.scheduling_phone.text=l}if(""!==e.schedulingPhoneDesc){var u="c19.link/scheduling.phone.description.".concat(a.info.content.id).toLowerCase();s[u]=Object(y.a)(Object(y.a)({},s[u]),{},Object(O.a)({},i.currentLanguage,e.schedulingPhoneDesc)),a.vaccination.content.links.scheduling_phone.description=u}a.strings.content=s,i.repoFileData[a.info.content.id]=a,i.repoFileData=Object(y.a)({},i.repoFileData)}}})),T=Object(k.mutatorAction)("updateLocationData",(function(e,t,n,i){if(e){var a=x();if(a.pendingChanges=!0,t){var c=a.repoFileData[i.key],o=c.regions[n.key];o.info.content.name=e.details;var r="c19.link/scheduling.phone.".concat(c.info.content.metadata.code_alpha,".").concat(o.info.content.id).toLowerCase();if(""!==(null===e||void 0===e?void 0:e.schedulingPhone)&&(c.strings.content[r]=Object(O.a)({},a.currentLanguage,e.schedulingPhone)),""!==(null===e||void 0===e?void 0:e.eligibility)&&(o.vaccination.content.links.eligibility?o.vaccination.content.links.eligibility.url.toLowerCase()!==e.eligibility.toLowerCase()&&(o.vaccination.content.links.eligibility={url:e.eligibility}):o.vaccination.content.links.eligibility={url:e.eligibility}),""!==(null===e||void 0===e?void 0:e.eligibilityPlan)&&(o.vaccination.content.links.eligibility_plan?o.vaccination.content.links.eligibility_plan.url.toLowerCase()!==e.eligibilityPlan.toLowerCase()&&(o.vaccination.content.links.eligibility_plan={url:e.eligibilityPlan}):o.vaccination.content.links.eligibility_plan={url:e.eligibilityPlan}),""!==(null===e||void 0===e?void 0:e.info)&&(o.vaccination.content.links.info?o.vaccination.content.links.info.url.toLowerCase()!==e.info.toLowerCase()&&(o.vaccination.content.links.info={url:e.info,text:"cdc/".concat(c.info.content.id,"/state_link")}):o.vaccination.content.links.info={url:e.info,text:"cdc/".concat(c.info.content.id,"/state_link")}),""!==(null===e||void 0===e?void 0:e.providers)&&(o.vaccination.content.links.providers?o.vaccination.content.links.providers.url.toLowerCase()!==e.providers.toLowerCase()&&(o.vaccination.content.links.providers={url:e.providers,text:"c19.links/vax_providers"}):o.vaccination.content.links.providers={url:e.providers,text:"c19.links/vax_providers"}),""!==(null===e||void 0===e?void 0:e.workflow)&&(o.vaccination.content.links.workflow?o.vaccination.content.links.workflow.url.toLowerCase()!==e.workflow.toLowerCase()&&(o.vaccination.content.links.workflow={url:e.workflow,text:"c19.links/vax_quiz"}):o.vaccination.content.links.workflow={url:e.workflow,text:"c19.links/vax_quiz"}),""!==(null===e||void 0===e?void 0:e.scheduling)&&(o.vaccination.content.links.scheduling?o.vaccination.content.links.scheduling.url.toLowerCase()!==e.scheduling.toLowerCase()&&(o.vaccination.content.links.scheduling={url:e.scheduling,text:"c19.links/schedule_vax"}):o.vaccination.content.links.scheduling={url:e.scheduling,text:"c19.links/schedule_vax"}),""!==(null===e||void 0===e?void 0:e.schedulingPhone)&&(c.strings.content[r]=Object(y.a)(Object(y.a)({},c.strings.content[r]),{},Object(O.a)({},a.currentLanguage,e.schedulingPhone)),o.vaccination.content.links.scheduling_phone?o.vaccination.content.links.scheduling_phone.url.toLowerCase()!=="tel:".concat(e.schedulingPhone).toLowerCase()&&(o.vaccination.content.links.scheduling_phone={url:"tel:".concat(e.schedulingPhone),text:r}):o.vaccination.content.links.scheduling_phone={url:"tel:".concat(e.schedulingPhone),text:r}),o.vaccination.content.links.scheduling_phone&&""!==e.schedulingPhoneDesc){var s="c19.link/scheduling.phone.description.".concat(c.info.content.metadata.code_alpha,".").concat(o.info.content.id).toLowerCase();n.value.vaccination.content.links.scheduling_phone.description&&(s=n.value.vaccination.content.links.scheduling_phone.description),c.strings.content[s]=Object(y.a)(Object(y.a)({},c.strings.content[s]),{},Object(O.a)({},a.currentLanguage,e.schedulingPhoneDesc)),o.vaccination.content.links.scheduling_phone.description=s}}else{var l=a.repoFileData[n.key];a.globalFileData.cdcStateNames.content["cdc/".concat(n.key,"/state_name")]=Object(y.a)(Object(y.a)({},a.globalFileData.cdcStateNames.content["cdc/".concat(n.key,"/state_name")]),{},Object(O.a)({},a.currentLanguage,e.details)),l.info.content.name=e.details;var u="c19.link/scheduling.phone.".concat(n.value.info.content.metadata.code_alpha).toLowerCase();if(""!==(null===e||void 0===e?void 0:e.eligibility)&&(l.vaccination.content.links.eligibility?l.vaccination.content.links.eligibility.url.toLowerCase()!==e.eligibility.toLowerCase()&&(l.vaccination.content.links.eligibility={url:e.eligibility}):l.vaccination.content.links.eligibility={url:e.eligibility}),""!==(null===e||void 0===e?void 0:e.eligibilityPlan)&&(l.vaccination.content.links.eligibility_plan?l.vaccination.content.links.eligibility_plan.url.toLowerCase()!==e.eligibilityPlan.toLowerCase()&&(l.vaccination.content.links.eligibility_plan={url:e.eligibilityPlan}):l.vaccination.content.links.eligibility_plan={url:e.eligibilityPlan}),""!==(null===e||void 0===e?void 0:e.info)&&(l.vaccination.content.links.info?l.vaccination.content.links.info.url.toLowerCase()!==e.info.toLowerCase()&&(l.vaccination.content.links.info={url:e.info,text:"cdc/".concat(n.key,"/state_link")}):l.vaccination.content.links.info={url:e.info,text:"cdc/".concat(n.key,"/state_link")}),""!==(null===e||void 0===e?void 0:e.providers)&&(l.vaccination.content.links.providers?l.vaccination.content.links.providers.url.toLowerCase()!==e.providers.toLowerCase()&&(l.vaccination.content.links.providers={url:e.providers,text:"c19.links/vax_providers"}):l.vaccination.content.links.providers={url:e.providers,text:"c19.links/vax_providers"}),""!==(null===e||void 0===e?void 0:e.workflow)&&(l.vaccination.content.links.workflow?l.vaccination.content.links.workflow.url.toLowerCase()!==e.workflow.toLowerCase()&&(l.vaccination.content.links.workflow={url:e.workflow,text:"c19.links/vax_quiz"}):l.vaccination.content.links.workflow={url:e.workflow,text:"c19.links/vax_quiz"}),""!==(null===e||void 0===e?void 0:e.scheduling)&&(l.vaccination.content.links.scheduling?l.vaccination.content.links.scheduling.url.toLowerCase()!==e.scheduling.toLowerCase()&&(l.vaccination.content.links.scheduling={url:e.scheduling,text:"c19.links/schedule_vax"}):l.vaccination.content.links.scheduling={url:e.scheduling,text:"c19.links/schedule_vax"}),""!==(null===e||void 0===e?void 0:e.schedulingPhone)&&(l.strings.content[u]=Object(y.a)(Object(y.a)({},l.strings.content[u]),{},Object(O.a)({},a.currentLanguage,e.schedulingPhone)),l.vaccination.content.links.scheduling_phone?l.vaccination.content.links.scheduling_phone.url.toLowerCase()!=="tel:".concat(e.schedulingPhone).toLowerCase()&&(l.vaccination.content.links.scheduling_phone={url:"tel:".concat(e.schedulingPhone),text:u}):l.vaccination.content.links.scheduling_phone={url:"tel:".concat(e.schedulingPhone),text:u}),l.vaccination.content.links.scheduling_phone&&""!==e.schedulingPhoneDesc){var d="c19.link/scheduling.phone.description.".concat(n.value.info.content.metadata.code_alpha).toLowerCase();n.value.vaccination.content.links.scheduling_phone.description&&(d=n.value.vaccination.content.links.scheduling_phone.description),l.strings.content[d]=Object(y.a)(Object(y.a)({},l.strings.content[d]),{},Object(O.a)({},a.currentLanguage,e.schedulingPhoneDesc)),l.vaccination.content.links.scheduling_phone.description=d}}a.repoFileData=Object(y.a)({},a.repoFileData)}})),_=Object(k.mutatorAction)("modifyStateStrings",(function(e){if(e){var t=x();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.item.moreInfoContent){var i={};i[t.currentLanguage]=e.item.moreInfoContent,n.strings.content[e.infoKey]=i}else delete n.strings.content[e.infoKey];if(e.regionInfo){var a,c=n.regions[e.regionInfo.key].vaccination;(null===(a=c.content)||void 0===a?void 0:a.phases)||P(c,n.vaccination),c.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.find((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()})).moreInfoText=e.infoKey}else{var o=n.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})),r=o.qualifications.find((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));r?e.item.moreInfoContent?r.moreInfoText=e.infoKey:delete r.moreInfoText:o.qualifications.push({question:e.item.qualifierId,moreInfoText:e.infoKey})}}}})),P=function(e,t){e.content.phases=[],t.content.phases.forEach((function(t){var n={};n.id=t.id,n.qualifications=[],t.qualifications.forEach((function(e){var t;n.qualifications.push({question:e.question.toLowerCase(),moreInfoText:null===(t=e.moreInfoText)||void 0===t?void 0:t.replace(/[^a-z0-9\s]/gi,"").replace(/\s/g,"_").toLowerCase(),moreInfoUrl:e.moreInfoUrl})})),e.content.phases.push(n)}))},A=Object(k.mutatorAction)("modifyMoreInfoLinks",(function(e){if(e){var t=x();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var i,a=n.regions[e.regionInfo.key].vaccination;(null===(i=a.content)||void 0===i?void 0:i.phases)||P(a,n.vaccination);var c=a.content.phases.find((function(t){return t.id===e.item.groupId}));if(c){var o=c.qualifications.find((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));o&&(o.moreInfoUrl=e.item.moreInfoUrl)}}else{var r=n.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})),s=r.qualifications.find((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));s?s.moreInfoUrl=e.item.moreInfoUrl:r.qualifications.push({question:e.item.qualifierId,moreInfoUrl:e.item.moreInfoUrl})}}}})),q=Object(k.mutatorAction)("updateQualifier",(function(e){if(e){var t=x();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var i,a=n.regions[e.regionInfo.key].vaccination;(null===(i=a.content)||void 0===i?void 0:i.phases)||P(a,n.vaccination);var c=a.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.find((function(t){return t.question.toLowerCase()===e.oldId.toLowerCase()}));c&&(c.question=e.item.qualifierId.toLowerCase())}else{var o=n.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.find((function(t){return t.question.toLowerCase()===e.oldId.toLowerCase()}));o&&(o.question=e.item.qualifierId.toLowerCase())}t.repoFileData=Object(y.a)({},t.repoFileData)}}})),K=Object(k.mutatorAction)("addQualifier",(function(e){if(e){var t=x();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var i,a=n.regions[e.regionInfo.key].vaccination;(null===(i=a.content)||void 0===i?void 0:i.phases)||P(a,n.vaccination),a.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.push({question:e.item.qualifierId})}else{n.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})).qualifications.push({question:e.item.qualifierId})}t.repoFileData=Object(y.a)({},t.repoFileData)}}})),z=Object(k.mutatorAction)("removeQualifier",(function(e){if(e){var t=x();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var i,a=n.regions[e.regionInfo.key].vaccination;(null===(i=a.content)||void 0===i?void 0:i.phases)||P(a,n.vaccination);var c=a.content.phases.find((function(t){return t.id===e.item.groupId})),o=c.qualifications.findIndex((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));c.qualifications.splice(o,1),t.repoFileData=Object(y.a)({},t.repoFileData)}else{var r=n.vaccination.content.phases.find((function(t){return t.id===e.item.groupId})),s=r.qualifications.findIndex((function(t){return t.question.toLowerCase()===e.item.qualifierId.toLowerCase()}));r.qualifications.splice(s,1),t.repoFileData=Object(y.a)({},t.repoFileData)}}}})),E=Object(k.mutatorAction)("removePhase",(function(e){if(e){var t=x();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo){var i,a=n.regions[e.regionInfo.key].vaccination;(null===(i=a.content)||void 0===i?void 0:i.phases)||P(a,n.vaccination);var c=a.content.phases.findIndex((function(t){return t.id===e.phaseId}));a.content.phases.splice(c,1)}else{var o=n.vaccination.content.phases.findIndex((function(t){return t.id===e.phaseId}));n.vaccination.content.phases.splice(o,1)}t.repoFileData=Object(y.a)({},t.repoFileData)}}})),J=Object(k.mutatorAction)("addPhase",(function(e){if(e){var t=x();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey],i=e.item.name.replace(/[^a-z0-9\s]/gi,"").replace(/\s/g,"_").toLowerCase();n.vaccination.content.phases||(n.vaccination.content.phases=[]),n.vaccination.content.phases.push({id:i,label:e.item.name,qualifications:[]}),t.repoFileData=Object(y.a)({},t.repoFileData)}}})),B=Object(k.mutatorAction)("updatePhase",(function(e){if(e){var t=x();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey],i=e.item.phaseId.toLowerCase().replace(" (active)","").trim();n.vaccination.content.phases.find((function(e){return e.id===i})).label=e.item.name,t.repoFileData=Object(y.a)({},t.repoFileData)}}})),H=Object(k.mutatorAction)("setActivePhase",(function(e){if(e){var t=x();if(null===t||void 0===t?void 0:t.repoFileData){t.pendingChanges=!0;var n=t.repoFileData[e.locationKey];if(e.regionInfo)n.regions[e.regionInfo.key].vaccination.content.activePhase=e.phaseId,t.repoFileData=Object(y.a)({},t.repoFileData);else n.vaccination.content.activePhase=e.phaseId,t.repoFileData=Object(y.a)({},t.repoFileData)}}})),G=Object(k.mutatorAction)("updateGlobalQualifiers",(function(e){if(e){var t=x(),n=t.globalFileData.customStrings;t.pendingChanges=!0;var i="";if(e.isNew){for(var a=e.qualifier.toLowerCase().replace(/[^A-Za-z0-9]/g,"_").split("_").filter((function(e){return e})),c=Object.keys(n.content),o="",r=0;r<a.length&&(o=0===r?a[0]:"".concat(o,"_").concat(a[r]),i="c19.eligibility.question/".concat(e.tagKey.toLowerCase(),".").concat(o),c.includes(i));r++);i=i.endsWith("_")?i.substr(0,i.length-1):i}else i=e.key;t.globalFileData.customStrings.content[i]=Object(y.a)(Object(y.a)({},t.globalFileData.customStrings.content[i]),{},Object(O.a)({},t.currentLanguage,e.qualifier)),t.globalFileData=Object(y.a)({},t.globalFileData)}})),U=Object(k.mutatorAction)("translateLocationName",(function(e){if(e){var t=x();(null===t||void 0===t?void 0:t.globalFileData)&&(t.pendingChanges=!0,t.globalFileData.cdcStateNames.content[e.key]?t.globalFileData.cdcStateNames.content[e.key]=Object(y.a)(Object(y.a)({},t.globalFileData.cdcStateNames.content[e.key]),{},Object(O.a)({},e.toKey,e.to)):t.globalFileData.cdcStateNames.content=Object(y.a)(Object(y.a)({},t.globalFileData.cdcStateNames.content),Object(O.a)({},e.key,Object(O.a)({},e.toKey,e.to))),t.globalFileData=Object(y.a)({},t.globalFileData))}})),W=Object(k.mutatorAction)("translateQualifier",(function(e){if(e){var t=x();(null===t||void 0===t?void 0:t.globalFileData)&&(t.pendingChanges=!0,t.globalFileData.customStrings.content[e.key]?t.globalFileData.customStrings.content[e.key]=Object(y.a)(Object(y.a)({},t.globalFileData.customStrings.content[e.key]),{},Object(O.a)({},e.toKey,e.to)):t.globalFileData.customStrings.content=Object(y.a)(Object(y.a)({},t.globalFileData.customStrings.content),Object(O.a)({},e.key,Object(O.a)({},e.toKey,e.to))),t.globalFileData=Object(y.a)({},t.globalFileData))}})),M=Object(k.mutatorAction)("translateMisc",(function(e){if(e){var t=x();if("state"===e.category&&"global"!==e.parent)(null===t||void 0===t?void 0:t.repoFileData)&&(t.pendingChanges=!0,t.repoFileData[e.parent].strings.content[e.key][e.toKey]?t.repoFileData[e.parent].strings.content[e.key][e.toKey]=e.to:t.repoFileData[e.parent].strings.content[e.key]=Object(y.a)(Object(y.a)({},t.repoFileData[e.parent].strings.content[e.key]),Object(O.a)({},e.toKey,e.to)),t.repoFileData=Object(y.a)({},t.repoFileData));else if(null===t||void 0===t?void 0:t.globalFileData)t.pendingChanges=!0,Object.keys(t.globalFileData.customStrings.content).includes(e.key)?t.globalFileData.customStrings.content[e.key]?t.globalFileData.customStrings.content[e.key]=Object(y.a)(Object(y.a)({},t.globalFileData.customStrings.content[e.key]),{},Object(O.a)({},e.toKey,e.to)):t.globalFileData.customStrings.content=Object(y.a)(Object(y.a)({},t.globalFileData.customStrings.content),Object(O.a)({},e.key,Object(O.a)({},e.toKey,e.to))):t.globalFileData.cdcStateLinks.content[e.key]?t.globalFileData.cdcStateLinks.content[e.key]=Object(y.a)(Object(y.a)({},t.globalFileData.cdcStateLinks.content[e.key]),{},Object(O.a)({},e.toKey,e.to)):t.globalFileData.cdcStateLinks.content=Object(y.a)(Object(y.a)({},t.globalFileData.cdcStateLinks.content),Object(O.a)({},e.key,Object(O.a)({},e.toKey,e.to))),t.globalFileData=Object(y.a)({},t.globalFileData)}})),Q=function(e){var t=e.replace(/_/g," ").toLowerCase().replace(/\b[a-z](?=[a-z]{2})/g,(function(e){return e.toUpperCase()}));return t.startsWith("us ")?t.replace("us ","US "):t.startsWith("st. ")?t.replace("st. ","St. "):t},V=function(e){return"en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th".split(",").map((function(e){return{key:e,text:Y(e,e)}})).filter((function(t){return t.key!==e}))},Y=function(e,t){return new Intl.DisplayNames([e],{type:"language"}).of(t)},Z=function(e){return btoa(unescape(encodeURIComponent(e)))},X=function(e){return decodeURIComponent(escape(atob(e)))},$=n(22),ee=n(128),te=n(276),ne=n(271),ie=n(14),ae=n(284),ce=n(278),oe=n(46),re=n(137),se=n(270),le=n(138),ue=Object(k.action)("createPR",(function(e){return{fileData:e}})),de=Object(k.action)("getRepoFileData"),be=Object(k.action)("initializeGitData"),fe=(n(165),n(2)),he=Object(g.a)((function(){var e=x(),t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)([]),r=Object(l.a)(o,2),s=r[0],u=r[1],d=Object(p.a)(!0),b=Object(l.a)(d,2),f=b[0],h=b[1].toggle,j=Object(a.useState)([]),v=Object(l.a)(j,2),g=v[0],m=v[1];Object(a.useEffect)((function(){if(e.issues){var t=[],n=[];e.issues.forEach((function(e){var i=new Date(e.updated_at),a=e.labels.some((function(e){return"scrapped changes"===e.name.toLowerCase()}));e.pull_request?t.push({title:e.title,author:e.user.login,update:i.toLocaleString(),action:e}):a&&n.push({title:e.title,author:e.user.login,update:i.toLocaleString(),action:e})})),c(t),u(n)}}),[e.issues]);var O=Object(a.useCallback)((function(e){var t=Object($.a)(g),n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e),m(t)}),[g]),y=[{key:"titleCol",name:"Title",fieldName:"title",minWidth:200,isResizable:!0},{key:"notesCol",name:"Notes",fieldName:"notes",minWidth:100,isResizable:!0,onRender:function(e,t,n){return e.action.body?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(ee.a,{className:"infoButton pr-".concat(e.action.number),iconName:"InfoSolid",onClick:function(){return O(e.action.number)}}),g.includes(e.action.number)&&Object(fe.jsx)(te.a,{onDismiss:function(){return O(e.action.number)},target:".infoButton.pr-".concat(e.action.number),gapSpace:0,setInitialFocus:!0,role:"alertDialog",className:"infoCallout",directionalHint:9,children:Object(fe.jsxs)("div",{className:"infoCalloutBody",children:[Object(fe.jsx)("div",{className:"infoHeader",children:"Notes"}),Object(fe.jsx)("div",{className:"infoBody",children:e.action.body})]})})]}):null}},{key:"authorCol",name:"Author",fieldName:"author",minWidth:200,isResizable:!0},{key:"updateCol",name:"Last Update",fieldName:"update",minWidth:200,isResizable:!0},{key:"actionCol",name:"",ariaLabel:"Actions Column",fieldName:"action",minWidth:200,isResizable:!0,onRender:function(e,t,n){var i;return Object(fe.jsxs)("a",{className:"tableActionLink",href:null===e||void 0===e||null===(i=e.action)||void 0===i?void 0:i.html_url,target:"_blank",rel:"noreferrer",children:[Object(fe.jsx)(ee.a,{iconName:"CircleAdditionSolid"}),"Approve"]})}}],k=[{key:"titleCol",name:"Title",fieldName:"title",minWidth:200,isResizable:!0},{key:"authorCol",name:"Author",fieldName:"author",minWidth:200,isResizable:!0},{key:"updateCol",name:"Last Update",fieldName:"update",minWidth:200,isResizable:!0},{key:"actionCol",name:"",ariaLabel:"Actions Column",fieldName:"action",minWidth:200,isResizable:!0,onRender:function(e,t,n){var i;return Object(fe.jsxs)("a",{className:"tableActionLink",href:null===e||void 0===e||null===(i=e.action)||void 0===i?void 0:i.html_url,target:"_blank",rel:"noreferrer",children:[Object(fe.jsx)(ee.a,{iconName:"CircleAdditionSolid"}),"View"]})}}],C=Object(a.useCallback)((function(){be(),h()}),[h]),N=Object(a.useCallback)((function(){e.pendingChanges?h():be()}),[e.pendingChanges,h]);return Object(fe.jsxs)("div",{className:"dashboardPageWrapper",children:[Object(fe.jsxs)("div",{className:"bodyContainer",children:[Object(fe.jsx)("div",{className:"bodyHeader",children:Object(fe.jsxs)("div",{className:"bodyHeaderTitle",children:[Object(fe.jsx)("div",{className:"breadCrumbs",children:"/ Dashboard"}),Object(fe.jsx)("div",{className:"mainTitle",children:"Dashboard"})]})}),Object(fe.jsx)("div",{className:"bodyContent",children:e.isDataRefreshing?Object(fe.jsx)("section",{children:Object(fe.jsx)(ae.a,{description:"Loading content..."})}):Object(fe.jsxs)("section",{children:[Object(fe.jsxs)("div",{className:"refreshRow",children:[Object(fe.jsx)("div",{}),Object(fe.jsxs)("div",{className:"refreshDataHeaderButton",onClick:N,children:[Object(fe.jsx)(ee.a,{iconName:"Refresh",className:"refreshIcon"}),"Refresh Data"]})]}),Object(fe.jsx)("div",{className:"sectionHeader",children:"Pending PRs"}),Object(fe.jsxs)("div",{className:"sectionContent",children:[Object(fe.jsx)(ne.a,{items:i,columns:y,setKey:"set",layoutMode:ie.e.justified,ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"Row checkbox",checkboxVisibility:2}),!i.length&&Object(fe.jsx)("div",{style:{textAlign:"center"},children:"No pending PRs at this time."})]}),Object(fe.jsx)("div",{className:"sectionHeader",children:"Location Updates"}),Object(fe.jsxs)("div",{className:"sectionContent",children:[Object(fe.jsx)(ne.a,{items:s,columns:k,setKey:"set",layoutMode:ie.e.justified,ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"Row checkbox",checkboxVisibility:2}),!s.length&&Object(fe.jsx)("div",{style:{textAlign:"center"},children:"No pending location updates at this time."})]})]})})]}),Object(fe.jsxs)(ce.a,{hidden:f,onDismiss:h,dialogContentProps:{type:oe.a.normal,closeButtonAriaLabel:"Close",title:"Refresh Data"},modalProps:{isBlocking:!1},children:[Object(fe.jsxs)("div",{className:"dialogBodyText",children:["You have pending changes in the review tab to be submitted, refreshing the data will revert those changes.",Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),"Do you want to proceed?"]}),Object(fe.jsxs)(re.a,{children:[Object(fe.jsx)(se.a,{onClick:C,text:"Ok"}),Object(fe.jsx)(le.a,{onClick:h,text:"Cancel"})]})]})]})})),je=Object(a.memo)((function(){return Object(fe.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(fe.jsxs)("div",{className:"appFooterRow",children:[Object(fe.jsx)(ve,{href:"https://go.microsoft.com/fwlink/?LinkId=521839",children:"Privacy & Cookies"})," | ",Object(fe.jsx)(ve,{href:"mailto:".concat("todo@todo.com"),children:"Contact Us"})," | ",Object(fe.jsx)(ve,{href:"https://github.com/microsoft/covid-vaccine-bot/blob/main/CODE_OF_CONDUCT.md",children:"Code of Conduct"})]})})})),ve=Object(a.memo)((function(e){var t=e.children,n=e.href;return Object(fe.jsx)("div",{className:"div",style:{cursor:"pointer",marginLeft:15,marginRight:15,display:"flex",alignContent:"center"},onClick:function(){return n&&window.open(n,"_blank")},children:t})})),pe=n(288),ge=n(280),me=n(279),Oe=function(e,t){var n,i,a=x(),c=a.globalFileData,o=a.currentLanguage,r=e?[].concat(Object($.a)(Object.entries(null!==(n=null===e||void 0===e||null===(i=e.strings)||void 0===i?void 0:i.content)&&void 0!==n?n:{})),Object($.a)(Object.entries(c.customStrings.content))):Object($.a)(Object.entries(c.customStrings.content));return(t?r.filter((function(e){var n=Object(l.a)(e,2),i=n[0];n[1];return i.includes(t.toLowerCase())})):r).map((function(e){var t=Object(l.a)(e,2);return{key:t[0],text:t[1][o]}}))},ye=(n(112),function(e,t){var n=function(e,t,n){return n?function(e,t){var n=x().repoFileData,i=null===n||void 0===n?void 0:n[e.value.info.path.split("/")[0]],a=Oe(i,t);return a.length>0?a[0].text:""}(e,t):function(e,t){var n=Oe(e.value,t);return n.length>0?n[0].text:""}(e,t)};if(e){var i,a=(null===e||void 0===e?void 0:e.value)||{},c=a.info,o=a.vaccination,r=(null===o||void 0===o||null===(i=o.content)||void 0===i?void 0:i.links)||{},s=r.info,l=r.scheduling_phone,u=r.eligibility_plan,d=r.workflow,b=r.scheduling,f=r.providers,h=r.eligibility;return{details:c.content.name,regionType:c.content.type,info:(null===s||void 0===s?void 0:s.url)||"",workflow:(null===d||void 0===d?void 0:d.url)||"",scheduling:(null===b||void 0===b?void 0:b.url)||"",providers:(null===f||void 0===f?void 0:f.url)||"",eligibility:(null===h||void 0===h?void 0:h.url)||"",eligibilityPlan:(null===u||void 0===u?void 0:u.url)||"",schedulingPhone:(null===l||void 0===l?void 0:l.text)?n(e,l.text,t):"",schedulingPhoneDesc:(null===l||void 0===l?void 0:l.description)?n(e,l.description,t):""}}return{details:"",regionType:"",info:"",workflow:"",scheduling:"",providers:"",eligibility:"",eligibilityPlan:"",schedulingPhone:"",schedulingPhoneDesc:""}}),ke=Object(g.a)((function(e){var t=e.onSubmit,n=e.onCancel,i=e.item,c=e.isRegion,o=Object(a.useState)(ye(i,c)),r=Object(l.a)(o,2),s=r[0],u=r[1],b=Object(a.useRef)(s),f=[{key:"state",text:"State"},{key:"territory",text:"Territory"},{key:"tribal_land",text:"Tribal land"},{key:"county",text:"County"},{key:"city",text:"City"}].filter((function(e){return!c||"state"!==e.key})),h=c?"sublocation":"location",j=i?"Edit ".concat(h):"Add new ".concat(h),v=Object(a.useCallback)((function(e,t){b.current=Object(y.a)(Object(y.a)({},b.current),{regionType:null===t||void 0===t?void 0:t.key}),u(Object(y.a)(Object(y.a)({},s),b.current))}),[s,b]),p=Object(a.useCallback)((function(e){var t=e.target.value;b.current=Object(y.a)(Object(y.a)({},b.current),Object(O.a)({},e.target.name,t)),u(Object(y.a)(Object(y.a)({},s),b.current))}),[s,b]),g=Object(a.useCallback)((function(){return""!==s.details&&""!==s.regionType}),[s]);return Object(fe.jsxs)("div",{className:"modalWrapper",children:[Object(fe.jsx)("div",{className:"modalHeader",children:Object(fe.jsx)("div",{className:"title",children:j})}),Object(fe.jsxs)("div",{className:"modalBody",children:[Object(fe.jsxs)("div",{className:"detailsGroup",children:[Object(fe.jsx)(me.a,{label:"Details",name:"details",value:s.details,onChange:p}),Object(fe.jsx)(d.a,{selectedKey:s.regionType,placeholder:"Region type",options:f,onChange:v})]}),Object(fe.jsx)(me.a,{label:"General information link for the region:",name:"info",value:s.info,onChange:p}),Object(fe.jsx)(me.a,{label:"Link to an existing eligibility workflow tool:",name:"workflow",value:s.workflow,onChange:p}),Object(fe.jsx)(me.a,{label:"Appointment registration scheduler:",name:"scheduling",value:s.scheduling,onChange:p}),Object(fe.jsx)(me.a,{label:"List of scheduling providers and locations:",name:"providers",value:s.providers,onChange:p}),Object(fe.jsx)(me.a,{label:"Eligibility criteria about the current phase:",name:"eligibility",value:s.eligibility,onChange:p}),Object(fe.jsx)(me.a,{label:"Documentation describing the rollout phases in detail:",name:"eligibilityPlan",value:s.eligibilityPlan,onChange:p}),Object(fe.jsx)(me.a,{label:"A scheduling hotline:",name:"schedulingPhone",value:s.schedulingPhone,onChange:p}),Object(fe.jsx)(me.a,{label:"Description of scheduling hotline:",name:"schedulingPhoneDesc",value:s.schedulingPhoneDesc,onChange:p})]}),Object(fe.jsxs)("div",{className:"modalFooter",children:[Object(fe.jsx)(se.a,{text:"Submit",disabled:!g(),onClick:function(){return null===t||void 0===t?void 0:t(s,i)}}),Object(fe.jsx)(le.a,{text:"Cancel",onClick:function(){return null===n||void 0===n?void 0:n()}})]})]})})),xe=n(13),Ce=function(e){return we(e,"eligibility.question")},Ne=function(e,t){return Ce(e).filter((function(e){return e.key.includes(t)}))},we=function(e,t){var n,i,a,c=x(),o=c.globalFileData,r=c.currentLanguage,s=e?[].concat(Object($.a)(Object.entries(null!==(n=null===(i=e.value)||void 0===i||null===(a=i.strings)||void 0===a?void 0:a.content)&&void 0!==n?n:{})),Object($.a)(Object.entries(o.customStrings.content))):Object($.a)(Object.entries(o.customStrings.content));return(t?s.filter((function(e){var n=Object(l.a)(e,2),i=n[0];n[1];return i.includes(t)})):s).map((function(e){var t=Object(l.a)(e,2);return{key:t[0],text:t[1][r]}})).sort((function(e,t){return e.text>t.text?1:-1}))},Se=function(e,t){var n,i,a,c=x(),o=c.globalFileData,r=c.currentLanguage,s=e?[].concat(Object($.a)(Object.entries(null!==(n=null===(i=e.value)||void 0===i||null===(a=i.strings)||void 0===a?void 0:a.content)&&void 0!==n?n:{})),Object($.a)(Object.entries(o.customStrings.content))):Object($.a)(Object.entries(o.customStrings.content));return(t?s.filter((function(e){var n=Object(l.a)(e,2),i=n[0];n[1];return i.toLowerCase()===t})):s).map((function(e){var t=Object(l.a)(e,2);return{key:t[0],text:t[1][r]}})).sort((function(e,t){return e.text>t.text?1:-1}))},De=(n(167),Object(g.a)((function(e){var t=e.selectedState,n=e.rowItems,i=e.isEditable,c=e.isRegion,o=e.onRowItemRemove,r=e.onRowItemTextChange,s=e.onRowItemQualifierChange,b=e.groupKey,f=Object(a.useRef)(function(e){var t=Ce(e),n=[],i=[];return t.forEach((function(e){var t=e.key.split("/")[1].split(".")[0];n.includes(t)||(n.push(t),i.push({key:t,text:Q(t)}))})),i.sort((function(e,t){return e.text>t.text?1:-1}))}(t)),h=Object(a.useRef)(Ce(t)),j=Object(a.useState)(Ne(t,n.item.tagKey)),v=Object(l.a)(j,2),p=v[0],g=v[1],m=x(),O=m.globalFileData,k=m.repoFileData,C=!1,N=n.item.moreInfoKey;if(c){var w=n.item.location.value.vaccination.content.phases,S=null===w||void 0===w?void 0:w.find((function(e){return e.id===n.item.groupId}));if(S){var D=null===S||void 0===S?void 0:S.qualifications.find((function(e){return e.question===n.item.qualifierId}));D&&(C=!0,N=D.moreInfoText)}}var F=Object(a.useState)(function(e,t){if(t){var n=Se(e,t);if(n.length>0)return n[0].text}return""}(t,N)),L=Object(l.a)(F,2),I=L[0],R=L[1],T=Object(a.useState)(function(e,t){if(e){var n=t.item.location.value.vaccination.content.phases,i=null===n||void 0===n?void 0:n.find((function(e){return e.id===t.item.groupId}));if(i){var a=null===i||void 0===i?void 0:i.qualifications.find((function(e){return e.question===t.item.qualifierId}));if(a)return a.moreInfoUrl}}return t.item.moreInfoUrl}(c,n)),_=Object(l.a)(T,2),P=_[0],A=_[1],q=Object(a.useRef)(n.item);q.current.moreInfoContent=I,Object(a.useEffect)((function(){O&&(h.current=Ce(t),g(Ne(t,n.item.tagKey)))}),[O,k,h,t,n]);var K=Object(a.useCallback)((function(e,t){g(h.current.filter((function(e){return e.key.split("/")[1].split(".")[0]===t.key}))),R(""),A(""),q.current=Object(y.a)(Object(y.a)({},q.current),{key:"".concat(n.item.groupId,"-c19.eligibility.question/").concat(t.key),tagKey:t.key,qualifierId:void 0,text:"",moreInfoKey:"",moreInfoContent:""})}),[h,n]),z=Object(a.useCallback)((function(e,t){R(""),A(""),q.current=Object(y.a)(Object(y.a)({},q.current),{qualifierId:t.key,text:t.text,moreInfoKey:"",moreInfoContent:""}),s(q.current,n.item)}),[s,n]),E=Object(a.useCallback)((function(e,t){q.current=Object(y.a)(Object(y.a)({},q.current),{moreInfoContent:t}),R(t)}),[R]),J=Object(a.useCallback)((function(e,t){q.current=Object(y.a)(Object(y.a)({},q.current),{moreInfoUrl:t}),A(t)}),[A]);return Object(fe.jsxs)("div",{className:"phaseDetailRow",style:{pointerEvents:i?"unset":"none"},children:[Object(fe.jsxs)("div",{className:"mainRow",children:[Object(fe.jsx)(ee.a,{iconName:"InfoSolid",className:"infoIcon",style:{visibility:C?"visible":"hidden"}}),Object(fe.jsx)(d.a,{options:f.current,defaultSelectedKey:n.item.tagKey,placeholder:"Tag",className:"tagDropdown",styles:{root:{minWidth:250}},onChange:K}),Object(fe.jsx)(d.a,{options:p,defaultSelectedKey:n.item.qualifierId,placeholder:"Qualifier",styles:{root:{width:"100%",minWidth:0}},onChange:z}),Object(fe.jsx)(u.a,{iconProps:{iconName:"MoreVertical"},styles:{menuIcon:{visibility:"hidden",width:0,margin:0}},menuProps:{isBeakVisible:!1,directionalHint:xe.a.rightTopEdge,items:[{key:"removeRow",text:"Remove",onClick:function(){return null===o||void 0===o?void 0:o(n.item,b)}},{key:"details",text:"Details"}]},title:"More","aria-label":"More"})]}),Object(fe.jsxs)("div",{className:"detailsRow",children:[Object(fe.jsx)(me.a,{placeholder:"More info text",multiline:!0,autoAdjustHeight:!0,resizable:!1,styles:{root:{width:"calc(100% - 32px)",padding:"5px 0"}},value:I,onChange:E,onBlur:function(){return r(q.current,n.item)}}),Object(fe.jsx)(me.a,{placeholder:"More info url",styles:{root:{width:"calc(100% - 32px)",padding:"5px 0"}},value:P,onChange:J,onBlur:function(){return r(q.current,n.item)}})]})]})}))),Fe=(n(73),Object(g.a)((function(e){var t=x(),n=t.globalFileData,i=t.currentLanguage,c=t.repoFileData,o=t.isEditable,r=e.isRegion,s=e.value,u=e.selectedState,d=Object(a.useState)([]),b=Object(l.a)(d,2),f=b[0],h=b[1],j=Object(a.useRef)([]);Object(a.useEffect)((function(){if(c){var e=[],t=c[u.key],a=t.vaccination.content.phases,o=r?c[u.key].regions[s.key]:null;r&&o.vaccination.content.phases&&(a=o.vaccination.content.phases),a.forEach((function(a){var c=!r&&s.value.id!==a.id,l=!1;l=r&&o.vaccination.content.activePhase?a.id===o.vaccination.content.activePhase:a.id===t.vaccination.content.activePhase,j.current.length>0&&-1!==j.current.indexOf(a.id)&&(c=!1);var u={key:a.id,name:a.label,count:a.qualifications.length,isCollapsed:c,data:{keyId:a.id,isActive:l}},d=[];a.qualifications.forEach((function(e){var c=String(e.question).toLowerCase(),o="*Translation not found* (".concat(c,")");t.strings&&t.strings.content[c]?o=t.strings.content[c][i]||o:n.customStrings.content[c]&&(o=n.customStrings.content[c][i]||o),d.push({key:a.id+"-"+c,text:o,moreInfoKey:(null===e||void 0===e?void 0:e.moreInfoText)?e.moreInfoText.toLowerCase():"",moreInfoContent:"",moreInfoUrl:e.moreInfoUrl,qualifierId:c,tagKey:c.split("/")[1].split(".")[0],groupId:a.id,location:s})})),u.items=d,e.push(u)})),h(e)}}),[c,n,u,i,r,s]);var v=function(e){var t={key:"".concat(e,"-c19.eligibility.question/new_qualifier"),text:"",moreInfoKey:"",moreInfoUrl:"",qualifierId:"c19.eligibility.question/new_qualifier",tagKey:"new_tagKey",groupId:e,location:s},n=f.map((function(n){return n.key===e&&n.items.push(t),n}));h(n)},p=function(e,t){if("c19.eligibility.question/new_qualifier"!==e.qualifierId)z({locationKey:u.key,item:e,regionInfo:r?s:null});else{var n=f.map((function(e){if(e.key===t){var n=e.items.findIndex((function(e){return"c19.eligibility.question/new_qualifier"===e.qualifierId}));-1!==n&&e.items.splice(n,1)}return e}));h(n)}},g=function(e,t){var n,i;if((null===(n=t.moreInfoUrl)||void 0===n?void 0:n.toLowerCase())!==(null===(i=e.moreInfoUrl)||void 0===i?void 0:i.toLowerCase()))A({locationKey:u.key,item:e,regionInfo:r?s:null});else if(t.moreInfoContent!==e.moreInfoContent){var a=e.qualifierId.replace("question","moreinfo");a+=".".concat(u.value.info.content.metadata.code_alpha.toLowerCase()),r&&(a+=".".concat(s.name.toLowerCase())),a+=".".concat(e.groupId),_({infoKey:a,locationKey:u.key,item:e,regionInfo:r?s:null})}},m=function(e,t){"c19.eligibility.question/new_qualifier"!==t.qualifierId?q({oldId:t.qualifierId,locationKey:u.key,item:e,regionInfo:r?s:null}):K({locationKey:u.key,item:e,regionInfo:r?s:null})};return Object(fe.jsx)("div",{className:"phaseGridContainer",children:f.length>0?f.map((function(e,t){return Object(fe.jsxs)("div",{children:[Object(fe.jsxs)("div",{className:"phaseGroupHeader",children:[Object(fe.jsxs)("div",{className:"groupHeaderLabel",onClick:function(){!function(e){var t=f.map((function(t){return t.key===e.key&&(t.isCollapsed=!t.isCollapsed),t}));j.current=t.filter((function(e){return!e.isCollapsed})).map((function(e){return e.key})),h(t)}(e)},children:[Object(fe.jsx)(ee.a,{iconName:e.isCollapsed?"ChevronRight":"ChevronDown",className:"groupToggleIcon"}),e.name?Object(fe.jsxs)("span",{children:[e.name," ",Object(fe.jsxs)("small",{children:["(",e.data.keyId,")"]})]}):"Phase ".concat(e.data.keyId)]}),Object(fe.jsx)("div",{className:"groupHeaderButtons",children:o?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{className:"addQualifierGroup",onClick:function(){return v(e.data.keyId)},children:[Object(fe.jsx)(ee.a,{iconName:"CircleAdditionSolid",style:{color:"#0078d4"}}),"Add Qualifier"]}),Object(fe.jsxs)("div",{className:"removePhaseGroup",onClick:function(){return t=e.data.keyId,void E({locationKey:u.key,phaseId:t,regionInfo:r?s:null});var t},children:[Object(fe.jsx)(ee.a,{iconName:"Blocked2Solid",style:{color:"#d13438"}}),"Remove"]}),e.data.isActive?Object(fe.jsxs)("div",{className:"activeGroup",children:[Object(fe.jsx)(ee.a,{iconName:"CircleFill",style:{color:"#00b7c3"}}),"Active Phase"]}):Object(fe.jsxs)("div",{className:"activeGroup",onClick:function(){return t=e.data.keyId,void H({locationKey:u.key,phaseId:t,regionInfo:r?s:null});var t},children:[Object(fe.jsx)(ee.a,{iconName:"CircleRing",style:{color:"#00b7c3"}}),"Set as Active"]})]}):Object(fe.jsx)(fe.Fragment,{children:e.data.isActive&&Object(fe.jsxs)("div",{className:"activeGroup",children:[Object(fe.jsx)(ee.a,{iconName:"CircleFill",style:{color:"#00b7c3"}}),"Active Phase"]})})})]}),Object(fe.jsxs)("div",{style:{display:e.isCollapsed?"none":"block"},children:[e.items.length>0?e.items.map((function(t,n){return Object(fe.jsx)(De,{groupKey:e.key,rowItems:{item:t},selectedState:u,isEditable:o,isRegion:r,onRowItemRemove:p,onRowItemTextChange:g,onRowItemQualifierChange:m},t.key+"_"+n)})):null,Object(fe.jsx)("div",{className:"phaseBottomGroup",children:Object(fe.jsxs)("div",{className:"addQualifierGroup",onClick:function(){return v(e.data.keyId)},children:[Object(fe.jsx)(ee.a,{iconName:"CircleAdditionSolid",style:{color:"#0078d4"}}),"Add Qualifier"]})})]})]},"phasegroup-".concat(t))})):null})}))),Le=Object(g.a)((function(e){var t=e.onSubmit,n=e.onCancel,i=e.item,c=Object(a.useState)(function(e){return e?{phaseId:e.keyId,name:e.name.includes(" (active)")?e.name.replace(" (active)",""):e.name,isActive:e.keyId.includes(" (active)")}:{phaseId:null,name:"",isActive:!1}}(i)),o=Object(l.a)(c,2),r=o[0],s=o[1],u=Object(a.useRef)(r),d=Object(a.useCallback)((function(e){var t=e.target.value;u.current=Object(y.a)(Object(y.a)({},u.current),Object(O.a)({},e.target.name,t)),s(Object(y.a)(Object(y.a)({},r),u.current))}),[r,u]),b=i?"Edit Phase":"New Phase";return Object(fe.jsxs)("div",{className:"modalWrapper",children:[Object(fe.jsx)("div",{className:"modalHeader",children:Object(fe.jsx)("div",{className:"title",children:b})}),Object(fe.jsx)("div",{className:"modalBody",children:Object(fe.jsx)(me.a,{label:"Phase Name:",name:"name",value:r.name,onChange:d})}),Object(fe.jsxs)("div",{className:"modalFooter",children:[Object(fe.jsx)(se.a,{text:"Submit",disabled:""===r.name,onClick:function(){return null===t||void 0===t?void 0:t(r)}}),Object(fe.jsx)(le.a,{text:"Cancel",onClick:function(){return null===n||void 0===n?void 0:n()}})]})]})})),Ie=Object(g.a)((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],c=n[1],o=Object(a.useRef)([]),r=Object(a.useState)({isRegion:!1,value:null,selectedState:null}),s=Object(l.a)(r,2),u=s[0],d=s[1],b=Object(p.a)(!1),f=Object(l.a)(b,2),h=f[0],j=f[1],v=j.setTrue,g=j.setFalse,m=Object(p.a)(!1),O=Object(l.a)(m,2),y=O[0],k=O[1],C=k.setTrue,N=k.setFalse,w=Object(a.useRef)(null),S=x(),D=e.selectedState,F=e.onNavigateBack,L=[{key:"regionCol",name:"Region",fieldName:"name",minWidth:200,isResizable:!0},{key:"activePhaseCol",name:"Active Phase ID",fieldName:"phase",minWidth:200,isResizable:!0},{key:"editCol",name:"",fieldName:"editLocation",minWidth:50,isResizable:!1}].filter((function(e){return!!S.isEditable||"editCol"!==e.key})),I=[{key:"idCol",name:"Phase ID",fieldName:"keyId",minWidth:50,maxWidth:200,isResizable:!1},{key:"nameCol",name:"Name",fieldName:"name",minWidth:200,isResizable:!1},{key:"qualCol",name:"# of qualifications",fieldName:"qualifications",minWidth:200,isResizable:!1},{key:"editCol",name:"",fieldName:"editPhase",minWidth:50,isResizable:!1}].filter((function(e){return!!S.isEditable||"editCol"!==e.key})),_=Object(a.useState)([]),P=Object(l.a)(_,2),A=P[0],q=P[1];Object(a.useEffect)((function(){var e,t=S.repoFileData[D.key],n=null!==(e=null===t||void 0===t?void 0:t.regions)&&void 0!==e?e:{};if(Object.keys(n).length>0){var i=[];Object.entries(n).forEach((function(e){var n=Object(l.a)(e,2),a=n[0],c=n[1],o=c;i.push({key:a,name:Q(o.info.content.name),value:c,phase:o.vaccination.content.activePhase?o.vaccination.content.activePhase:t.vaccination.content.activePhase})})),c(i),o.current=i}if(t){var a=Re({key:t.info.content.id,value:t});q(a)}}),[S.repoFileData,D,o,q]);var K=Object(a.useCallback)((function(e,t){d({isRegion:e,value:t,selectedState:D})}),[D]),z=Object(a.useCallback)((function(e,t){g(),t?T(e,!0,t,D):R(e,!0,D)}),[g,D]),E=Object(a.useCallback)((function(e){w.current=null!==e&&void 0!==e?e:null,v()}),[v]),H=Object(a.useCallback)((function(e){w.current=null!==e&&void 0!==e?e:null,C()}),[C]),G=Object(a.useCallback)((function(e,t,n){var i=e[null===n||void 0===n?void 0:n.fieldName];return"editCol"===(null===n||void 0===n?void 0:n.key)?S.isEditable?Object(fe.jsx)(ee.a,{iconName:"Edit",className:"editIcon",onClick:function(){return"editLocation"===(null===n||void 0===n?void 0:n.fieldName)?E(e):H(e)}}):null:Object(fe.jsx)("span",{children:i})}),[E,H,S.isEditable]),U=Object(a.useCallback)((function(e,t){c(t?o.current.filter((function(e){return e.name.toLowerCase().indexOf(t)>-1})):o.current)}),[o]);return Object(fe.jsxs)("div",{className:"bodyContainer",children:[Object(fe.jsx)("div",{className:"bodyHeader subContent",children:Object(fe.jsxs)("div",{className:"bodyHeaderTitle",children:[Object(fe.jsxs)("div",{className:"breadCrumbs",children:[Object(fe.jsxs)("span",{className:"crumbLink",onClick:F,children:["/ Locations"," "]}),u.value?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("span",{className:"crumbLink",onClick:function(){return d({isRegion:!1,value:null,selectedState:null})},children:["/ ",D.text+" "]}),u.isRegion?Object(fe.jsxs)(fe.Fragment,{children:["/ ",u.value.name]}):Object(fe.jsx)(fe.Fragment,{children:"/ Phase Overview"})]}):Object(fe.jsxs)(fe.Fragment,{children:["/ ",D.text]})]}),Object(fe.jsx)("div",{className:"mainTitle",children:u.value?Object(fe.jsx)(fe.Fragment,{children:u.isRegion?Object(fe.jsxs)(fe.Fragment,{children:[u.value.name," Region Phase Overview"]}):Object(fe.jsxs)(fe.Fragment,{children:[D.text," Phase Overview"]})}):Object(fe.jsx)(fe.Fragment,{children:D.text})})]})}),u.value?Object(fe.jsx)("div",{className:"bodyContent",children:Object(fe.jsx)("section",{children:Object(fe.jsx)(Fe,{isRegion:u.isRegion,value:u.value,selectedState:D})})}):Object(fe.jsxs)("div",{className:"bodyContent",children:[Object(fe.jsxs)("section",{children:[Object(fe.jsx)("div",{className:"listTitle",children:"Phases"}),Object(fe.jsxs)("div",{className:"searchRow",children:[Object(fe.jsx)("div",{}),S.isEditable&&Object(fe.jsxs)("div",{className:"addLocationHeaderButton",onClick:function(){return H(null)},children:[Object(fe.jsx)(ee.a,{iconName:"CircleAdditionSolid",style:{color:"#0078d4"}}),"Add Phase"]})]}),D.value.vaccination.content.phases&&D.value.vaccination.content.phases.length>0?Object(fe.jsx)(ne.a,{items:A,columns:I,setKey:"set",layoutMode:ie.e.justified,checkboxVisibility:2,onItemInvoked:function(e){return K(!1,e)},onRenderItemColumn:G,className:"locationDetailsList"}):Object(fe.jsx)("div",{children:"No phases available at this time."})]}),Object(fe.jsxs)("section",{children:[Object(fe.jsx)("div",{className:"listTitle",children:"Sublocation"}),Object(fe.jsxs)("div",{className:"searchRow",children:[o.current.length>0?Object(fe.jsx)(pe.a,{styles:{root:{width:400}},placeholder:"Search",onChange:function(e,t){return U(e,t)}}):Object(fe.jsx)("div",{}),S.isEditable&&Object(fe.jsxs)("div",{className:"addLocationHeaderButton",onClick:function(){return E(null)},children:[Object(fe.jsx)(ee.a,{iconName:"CircleAdditionSolid",style:{color:"#0078d4"}}),"Add Sublocation"]})]}),o.current.length>0?Object(fe.jsx)(ne.a,{items:i,columns:L,setKey:"set",layoutMode:ie.e.justified,selectionPreservedOnEmptyClick:!0,ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"Row checkbox",checkboxVisibility:2,onItemInvoked:function(e){return K(!0,e)},onRenderItemColumn:G,className:"locationDetailsList"}):Object(fe.jsx)("div",{children:"No regions available at this time."})]})]}),Object(fe.jsx)(ge.a,{isOpen:h,isModeless:!1,isDarkOverlay:!0,isBlocking:!1,children:Object(fe.jsx)(ke,{item:w.current,onCancel:g,onSubmit:z,isRegion:!0})}),Object(fe.jsx)(ge.a,{isOpen:y,isModeless:!1,isDarkOverlay:!0,isBlocking:!1,children:Object(fe.jsx)(Le,{item:w.current,onCancel:N,onSubmit:function(e){N(),e.phaseId?B({locationKey:D.key,item:e}):J({locationKey:D.key,item:e})}})})]})})),Re=function(e){return e.value.vaccination.content.phases?e.value.vaccination.content.phases.map((function(t,n){var i,a=e.value.vaccination.content.activePhase;return{key:String(t.id)+n,keyId:String(t.id)+(t.id===a?" (active)":""),name:Q(null!==(i=t.label)&&void 0!==i?i:t.id)+(t.id===a?" (active)":""),qualifications:t.qualifications.length,value:t,isNew:!1}})):[]},Te=Object(g.a)((function(e){var t=e.onSelectedItem,n=Object(p.a)(!1),i=Object(l.a)(n,2),c=i[0],o=i[1],r=o.setTrue,s=o.setFalse,u=Object(a.useState)([]),d=Object(l.a)(u,2),b=d[0],f=d[1],h=Object(a.useRef)([]),j=Object(a.useRef)(null),v=x(),g=[{key:"stateCol",name:"State",fieldName:"text",minWidth:200,isResizable:!0},{key:"regionCol",name:"Sublocations",fieldName:"regions",minWidth:200,isResizable:!0},{key:"editCol",name:"",fieldName:"editLocation",minWidth:50,isResizable:!1}].filter((function(e){return!!v.isEditable||"editCol"!==e.key}));Object(a.useEffect)((function(){if(v.repoFileData){var e=[];Object.entries(v.repoFileData).forEach((function(t){var n,i,a=Object(l.a)(t,2),c=a[0],o=a[1],r=null===o||void 0===o||null===(n=o.info)||void 0===n?void 0:n.content.id,s=null===v||void 0===v||null===(i=v.globalFileData)||void 0===i?void 0:i.cdcStateNames.content,u=s["cdc/".concat(r,"/state_name")]&&s["cdc/".concat(r,"/state_name")][v.currentLanguage]&&""!==s["cdc/".concat(r,"/state_name")][v.currentLanguage].trim()?s["cdc/".concat(r,"/state_name")][v.currentLanguage]:"*Translation Not Found* (".concat(r,")");e.push({key:c,text:u,regions:(null===o||void 0===o?void 0:o.regions)?Object.keys(o.regions).length:0,value:o})})),f(e),h.current=e}}),[v.repoFileData,v.globalFileData,v.currentLanguage,h]);var m=Object(a.useCallback)((function(e,t){f(t?h.current.filter((function(e){return e.text.toLowerCase().indexOf(t)>-1})):h.current)}),[h]),O=Object(a.useCallback)((function(e){t(e)}),[t]),y=Object(a.useCallback)((function(e,t){s(),t?T(e,!1,t):R(e,!1)}),[s]),k=Object(a.useCallback)((function(e){j.current=null!==e&&void 0!==e?e:null,r()}),[r]),C=Object(a.useCallback)((function(e,t,n){var i=e[null===n||void 0===n?void 0:n.fieldName];return"editCol"===(null===n||void 0===n?void 0:n.key)?v.isEditable?Object(fe.jsx)(ee.a,{iconName:"Edit",className:"editIcon",onClick:function(){return k(e)}}):null:Object(fe.jsx)("span",{children:i})}),[k,v.isEditable]);return Object(fe.jsxs)("div",{className:"bodyContainer",children:[Object(fe.jsx)("div",{className:"bodyHeader",children:Object(fe.jsxs)("div",{className:"bodyHeaderTitle",children:[Object(fe.jsx)("div",{className:"breadCrumbs",children:"/ Locations"}),Object(fe.jsx)("div",{className:"mainTitle",children:"Locations"})]})}),Object(fe.jsx)("div",{className:"bodyContent",children:v.repoFileData?Object(fe.jsxs)("section",{children:[Object(fe.jsxs)("div",{className:"searchRow",children:[Object(fe.jsx)(pe.a,{styles:{root:{width:400}},placeholder:"Search",onChange:function(e,t){return m(e,t)}}),v.isEditable&&Object(fe.jsxs)("div",{className:"addLocationHeaderButton",onClick:function(){return k(null)},children:[Object(fe.jsx)(ee.a,{iconName:"CircleAdditionSolid",style:{color:"#0078d4"}}),"Add Location"]})]}),Object(fe.jsx)(ne.a,{items:b,columns:g,setKey:"set",layoutMode:ie.e.justified,selectionPreservedOnEmptyClick:!0,ariaLabelForSelectionColumn:"Toggle selection",ariaLabelForSelectAllCheckbox:"Toggle selection for all items",checkButtonAriaLabel:"Row checkbox",checkboxVisibility:2,onItemInvoked:O,onRenderItemColumn:C,className:"locationDetailsList"})]}):Object(fe.jsx)("section",{children:Object(fe.jsx)(ae.a,{description:"Loading content..."})})}),Object(fe.jsx)(ge.a,{isOpen:c,isModeless:!1,isDarkOverlay:!0,isBlocking:!1,children:Object(fe.jsx)(ke,{item:j.current,onCancel:s,onSubmit:y})})]})})),_e=Object(g.a)((function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(a.useCallback)((function(){i(null)}),[]);return Object(fe.jsx)("div",{className:"locationPageContainer",children:n?Object(fe.jsx)(Ie,{selectedState:n,onNavigateBack:c}):Object(fe.jsx)(Te,{onSelectedItem:i})})})),Pe=Object(k.action)("loginUser"),Ae=(n(168),Object(g.a)((function(){return Object(fe.jsx)("div",{className:"loginPageContainer",children:Object(fe.jsxs)("div",{className:"loginContainer",children:[Object(fe.jsx)("h3",{children:"Data Composer"}),Object(fe.jsx)(le.a,{text:"Login with Github",onClick:Pe})]})})}))),qe=(n(169),Object(g.a)((function(e){var t=e.onSubmit,n=e.onCancel,i=e.item,c=e.tagsOptions,o=Object(a.useState)(function(e){return e?{tagKey:e.key.split("/")[1].split(".")[0],key:e.key,qualifier:e.text,isNew:!1}:{tagKey:"",key:"",qualifier:"",isNew:!0}}(i)),r=Object(l.a)(o,2),s=r[0],u=r[1],b=Object(a.useRef)(s),f=Object(a.useRef)(function(){var e=x(),t=e.globalFileData.customStrings.content;return Object.entries(t).filter((function(e){var t=Object(l.a)(e,2),n=t[0];return t[1],n.startsWith("c19.eligibility.question/")})).map((function(t){var n=Object(l.a)(t,2);return n[0],n[1][e.currentLanguage].toLowerCase().replaceAll(" ","")}))}()),h=Object(a.useState)(!1),j=Object(l.a)(h,2),v=j[0],p=j[1],g=Object(a.useState)(!1),m=Object(l.a)(g,2),k=m[0],C=m[1],N=Object(a.useCallback)((function(e,t){b.current=Object(y.a)(Object(y.a)({},b.current),{tagKey:null===t||void 0===t?void 0:t.key}),u(Object(y.a)(Object(y.a)({},s),b.current))}),[s,b]),w=Object(a.useCallback)((function(e){var t=e.target.value;b.current=Object(y.a)(Object(y.a)({},b.current),Object(O.a)({},e.target.name,t)),u(Object(y.a)(Object(y.a)({},s),b.current))}),[s,b]),S=Object(a.useCallback)((function(e){var t=e.toLowerCase().replaceAll(" ","");return f.current.includes(t)?(p(!0),"Qualifier already exist, please revise."):(p(!1),"")}),[f,p]),D=Object(a.useCallback)((function(e){var t=e.toLowerCase().replaceAll(" ","_");return c.map((function(e){return e.key})).includes(t)?(p(!0),"Tag already exist, please revise."):(p(!1),"")}),[p,c]),F=Object(a.useCallback)((function(){return!!v||""===s.qualifier}),[s,v]),L=Object(a.useCallback)((function(){var e=s.tagKey.replaceAll(" ","_");c.push({key:e,text:s.tagKey}),c.sort((function(e,t){return e.text>t.text?1:-1})),b.current=Object(y.a)(Object(y.a)({},b.current),{tagKey:e}),C(!1),u(Object(y.a)(Object(y.a)({},s),b.current))}),[s,c,b,C]),I=i?"Edit Qualifier":"New Qualifier";return Object(fe.jsxs)("div",{className:"modalWrapper",children:[Object(fe.jsx)("div",{className:"modalHeader",children:Object(fe.jsx)("div",{className:"title",children:I})}),Object(fe.jsxs)("div",{className:"modalBody",children:[Object(fe.jsxs)("div",{className:"tagRow",children:[k?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(me.a,{name:"tagKey",placeholder:"Type new tag",onChange:w,validateOnLoad:!1,onGetErrorMessage:function(){return D(s.tagKey)}}),Object(fe.jsx)(se.a,{text:"Ok",onClick:function(){return L()}}),Object(fe.jsx)(le.a,{text:"Cancel",onClick:function(){return C(!1)}})]}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(d.a,{selectedKey:s.tagKey,placeholder:"Tag",options:c,onChange:N,disabled:!s.isNew}),s.isNew&&Object(fe.jsx)(se.a,{text:"New tag",onClick:function(){return C(!0)}})]}),Object(fe.jsx)("div",{})]}),Object(fe.jsx)(me.a,{label:"",name:"qualifier",placeholder:"Qualifier text...",value:s.qualifier,onChange:w,multiline:!0,autoAdjustHeight:!1,resizable:!1,disabled:!s.tagKey||k,validateOnLoad:!1,onGetErrorMessage:function(){return S(s.qualifier)}})]}),Object(fe.jsxs)("div",{className:"modalFooter",children:[Object(fe.jsx)(se.a,{text:"Submit",disabled:F(),onClick:function(){return null===t||void 0===t?void 0:t(s)}}),Object(fe.jsx)(le.a,{text:"Cancel",onClick:function(){return null===n||void 0===n?void 0:n()}})]})]})}))),Ke=(n(170),Object(g.a)((function(){var e=x(),t=e.globalFileData,n=e.currentLanguage,i=e.isEditable,c=Object(a.useState)([]),o=Object(l.a)(c,2),r=o[0],s=o[1],u=Object(a.useState)([]),d=Object(l.a)(u,2),b=d[0],f=d[1],h=Object(p.a)(!1),j=Object(l.a)(h,2),v=j[0],g=j[1],m=g.setTrue,O=g.setFalse,y=Object(a.useRef)(null);Object(a.useEffect)((function(){if(null===t||void 0===t?void 0:t.customStrings){var e=[],i=[],a=[],c=[],o=t.customStrings.content;Object.keys(o).filter((function(e){return e.includes("eligibility.question")})).sort((function(e,t){return e>t?1:-1})).forEach((function(t){var r=t.split("/")[1].split(".");if(e.includes(r[0])){var s=a.findIndex((function(e){return e.key===r[0]}));a[s].count++}else e.push(r[0]),a.push({key:r[0],name:Q(r[0]),startIndex:c.length,count:1,isCollapsed:!0});i.includes(t)||(i.push(t),c.push({key:t,text:o[t][n]?o[t][n]:"*Translation Not Found* (".concat(n,")")}))})),s(a),f(c)}}),[t,n,s,f]);var k=[{key:"questionColKey",name:"Question",fieldName:"text",minWidth:100,isResizable:!1},{key:"editCol",name:"",fieldName:"editQualifier",minWidth:50,isResizable:!1}].filter((function(e){return!!i||"editCol"!==e.key})),C=Object(a.useCallback)((function(e){y.current=null!==e&&void 0!==e?e:null,m()}),[m,y]),N=Object(a.useCallback)((function(e){G(e),setTimeout((function(){return O()}),100)}),[O]),w=Object(a.useCallback)((function(e,t,n){var a=e[null===n||void 0===n?void 0:n.fieldName];return"editCol"===(null===n||void 0===n?void 0:n.key)?i?Object(fe.jsx)(ee.a,{iconName:"Edit",className:"editIcon",onClick:function(){return C(e)}}):null:Object(fe.jsx)("span",{children:a})}),[C,i]),S=r.map((function(e){return{key:e.key,text:e.name}}));return Object(fe.jsxs)("div",{className:"qualifierPanelContainer",children:[Object(fe.jsx)("div",{className:"panelHeader",children:Object(fe.jsx)("div",{className:"panelHeaderTitle",children:"Qualifiers"})}),Object(fe.jsx)("div",{className:"panelBody",children:Object(fe.jsxs)("section",{children:[Object(fe.jsxs)("div",{className:"searchRow",children:[Object(fe.jsx)("div",{}),Object(fe.jsxs)("div",{className:"addQualiferHeaderButton",onClick:function(){return C(null)},children:[Object(fe.jsx)(ee.a,{iconName:"CircleAdditionSolid",className:"addQualifierIcon"}),"Add Qualifier"]})]}),Object(fe.jsx)(ne.a,{items:b,groups:r,columns:k,groupProps:{showEmptyGroups:!1},compact:!0,isHeaderVisible:!1,checkboxVisibility:2,className:"qualifierGroupItem",onRenderItemColumn:w})]})}),Object(fe.jsx)(ge.a,{isOpen:v,isModeless:!1,isDarkOverlay:!0,isBlocking:!1,children:Object(fe.jsx)(qe,{item:y.current,tagsOptions:S,onSubmit:N,onCancel:O})})]})}))),ze=(n(171),Object(g.a)((function(e){var t=e.showDashboard,n=Object(a.useState)([]),i=Object(l.a)(n,2),c=i[0],o=i[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),u=s[0],d=s[1],b=Object(a.useState)([]),f=Object(l.a)(b,2),h=f[0],j=f[1],v=Object(a.useState)(!1),p=Object(l.a)(v,2),g=p[0],m=p[1],k=Object(a.useState)({}),C=Object(l.a)(k,2),w=C[0],S=C[1],D=Object(a.useRef)(w),F=Object(a.useRef)([]),L=x();Object(a.useEffect)((function(){var e=[],t=[],n=[];JSON.stringify(L.initGlobalFileData.customStrings).toLowerCase()!==JSON.stringify(L.globalFileData.customStrings).toLowerCase()&&(e.push({label:"Global strings information updated",value:L.globalFileData.customStrings}),n.push(L.globalFileData.customStrings),F.current.push({key:"global",type:"customStrings",value:N(JSON.parse(JSON.stringify(L.initGlobalFileData.customStrings)),JSON.parse(JSON.stringify(L.globalFileData.customStrings)))})),JSON.stringify(L.initGlobalFileData.cdcStateNames).toLowerCase()!==JSON.stringify(L.globalFileData.cdcStateNames).toLowerCase()&&(e.push({label:"State names information updated",value:L.globalFileData.cdcStateNames}),n.push(L.globalFileData.cdcStateNames),F.current.push({key:"global",type:"cdcStateNames",value:N(JSON.parse(JSON.stringify(L.initGlobalFileData.cdcStateNames)),JSON.parse(JSON.stringify(L.globalFileData.cdcStateNames)))})),JSON.stringify(L.initGlobalFileData.cdcStateLinks).toLowerCase()!==JSON.stringify(L.globalFileData.cdcStateLinks).toLowerCase()&&(e.push({label:"State links information updated",value:L.globalFileData.cdcStateLinks}),n.push(L.globalFileData.cdcStateLinks),F.current.push({key:"global",type:"cdcStateLinks",value:N(JSON.parse(JSON.stringify(L.initGlobalFileData.cdcStateLinks)),JSON.parse(JSON.stringify(L.globalFileData.cdcStateLinks)))})),Object.keys(L.repoFileData).forEach((function(n){if(L.initRepoFileData)if(L.initRepoFileData[n]){var i,a,c=!1;if(JSON.stringify(L.initRepoFileData[n].info).toLowerCase()!==JSON.stringify(L.repoFileData[n].info).toLowerCase()&&(e.push({label:"Updated information for ".concat(n),value:L.repoFileData[n]}),F.current.push({key:n,type:"info",value:N(JSON.parse(JSON.stringify(L.initRepoFileData[n].info)),JSON.parse(JSON.stringify(L.repoFileData[n].info)))}),c=!0),L.repoFileData[n].regions&&(null===(i=JSON.stringify(L.initRepoFileData[n].regions))||void 0===i?void 0:i.toLowerCase())!==JSON.stringify(L.repoFileData[n].regions).toLowerCase())e.push({label:"Updated regions for ".concat(n),value:L.repoFileData[n]}),F.current.push({key:n,type:"regions",value:N(JSON.parse(JSON.stringify(null!==(a=L.initRepoFileData[n].regions)&&void 0!==a?a:{})),JSON.parse(JSON.stringify(L.repoFileData[n].regions)))}),c=!0;JSON.stringify(L.initRepoFileData[n].vaccination).toLowerCase()!==JSON.stringify(L.repoFileData[n].vaccination).toLowerCase()&&(e.push({label:"Updated phase information for ".concat(n),value:L.repoFileData[n]}),F.current.push({key:n,type:"vaccination",value:N(JSON.parse(JSON.stringify(L.initRepoFileData[n].vaccination)),JSON.parse(JSON.stringify(L.repoFileData[n].vaccination)))}),c=!0),JSON.stringify(L.initRepoFileData[n].strings).toLowerCase()!==JSON.stringify(L.repoFileData[n].strings).toLowerCase()&&(e.push({label:"Updated strings information for ".concat(n),value:L.repoFileData[n]}),F.current.push({key:n,type:"strings",value:N(JSON.parse(JSON.stringify(L.initRepoFileData[n].strings)),JSON.parse(JSON.stringify(L.repoFileData[n].strings)))}),c=!0),c&&t.push({key:n,data:L.repoFileData[n]})}else e.push({label:"New location added - ".concat(n),value:L.repoFileData[n]}),t.push({key:n,data:L.repoFileData[n]})})),console.log(F.current),d(t),o(e),j(n)}),[L.initRepoFileData,L.repoFileData,L.initGlobalFileData,L.globalFileData,F]);var I=Object(a.useCallback)((function(e){var t=e.target.value;D.current=Object(y.a)(Object(y.a)({},D.current),Object(O.a)({},e.target.name,t)),S(Object(y.a)(Object(y.a)({},w),D.current))}),[w,D]);return Object(fe.jsx)("div",{className:"reviewPageContainer",children:Object(fe.jsxs)("div",{className:"bodyContainer",children:[Object(fe.jsx)("div",{className:"bodyHeader",children:Object(fe.jsxs)("div",{className:"bodyHeaderTitle",children:[Object(fe.jsx)("div",{className:"breadCrumbs",children:"/ Review"}),Object(fe.jsx)("div",{className:"mainTitle",children:"Review"})]})}),Object(fe.jsx)("div",{className:"bodyContent",children:g?Object(fe.jsx)("section",{className:"loadingContainer",children:Object(fe.jsx)(ae.a,{description:"Saving changes..."})}):Object(fe.jsx)("section",{children:Object(fe.jsxs)("div",{className:"submitContainer",children:[Object(fe.jsx)(me.a,{label:"Title (Optional):",name:"prTitle",value:w.prTitle,onChange:I}),Object(fe.jsx)(me.a,{label:"Details (Optional):",name:"prDetails",multiline:!0,rows:5,autoAdjustHeight:!0,resizable:!1,value:w.prDetails,onChange:I}),Object(fe.jsx)(ne.a,{items:c,columns:[{key:"labelCol",name:"Pending Changes",fieldName:"label",minWidth:200,isResizable:!0}],setKey:"set",layoutMode:ie.e.justified,checkboxVisibility:2}),Object(fe.jsx)(se.a,{text:"Submit changes",onClick:function(){m(!0),ue([h,u,t,w,F.current])}})]})})})]})})}))),Ee=(n(172),{dropdown:{border:"none"},title:{fontSize:"14px",color:"#0078d4 !important",border:"none",backgroundColor:"transparent"},caretDown:{color:"#0078d4 !important",fontSize:"14px"},dropdownOptionText:{fontSize:"14px"}}),Je=Object(g.a)((function(){var e=x(),t=e.globalFileData,n=e.repoFileData,i=e.currentLanguage,c=V(),o=[{key:"missing",text:"Needs Translation"},{key:"all",text:"Show All"}],r=[{key:"all",text:"All"},{key:"state",text:"State-specific"},{key:"state_link",text:"State Links"},{key:"other",text:"Uncategorized"}],s=Object(a.useRef)({}),u=Object(a.useRef)({}),b=Object(a.useRef)({}),f=Object(a.useRef)([]),h=Object(a.useRef)([]),j=Object(a.useRef)([]),v=Object(a.useRef)([]),p=Object(a.useRef)(i),g=Object(a.useRef)(c[0].key),m=Object(a.useState)([]),k=Object(l.a)(m,2),C=k[0],N=k[1],w=Object(a.useState)([]),S=Object(l.a)(w,2),D=S[0],F=S[1],L=Object(a.useState)([]),I=Object(l.a)(L,2),R=I[0],T=I[1],_=Object(a.useState)(o[0].key),P=Object(l.a)(_,2),A=P[0],q=P[1],K=Object(a.useState)(r[0].key),z=Object(l.a)(K,2),E=z[0],J=z[1],B=Object(a.useState)(""),H=Object(l.a)(B,2),G=H[0],Z=H[1],X=Object(a.useState)({locations:!1,qualifiers:!1,misc:!1}),te=Object(l.a)(X,2),ne=te[0],ie=te[1],ae=Object(a.useCallback)((function(){var e=[];if(n){var i=[];Object.entries(n).forEach((function(n){var a,c,o,r,s,u=Object(l.a)(n,2),d=(u[0],u[1]),b=null===d||void 0===d||null===(a=d.info)||void 0===a?void 0:a.content.id,f=null===t||void 0===t?void 0:t.cdcStateNames.content,h=null===t||void 0===t?void 0:t.cdcStateLinks.content,j=f["cdc/".concat(b,"/state_name")]&&f["cdc/".concat(b,"/state_name")][p.current]&&""!==f["cdc/".concat(b,"/state_name")][p.current].trim()?f["cdc/".concat(b,"/state_name")][p.current]:"*Translation Not Found* (".concat(b,")"),v=h["cdc/".concat(b,"/state_link")]&&h["cdc/".concat(b,"/state_link")][p.current]&&""!==h["cdc/".concat(b,"/state_link")][p.current].trim()?h["cdc/".concat(b,"/state_link")][p.current]:"*Translation Not Found* (".concat(b,")"),m=g.current&&(null===f||void 0===f||null===(c=f["cdc/".concat(b,"/state_name")])||void 0===c?void 0:c[g.current])?null===f||void 0===f||null===(o=f["cdc/".concat(b,"/state_name")])||void 0===o?void 0:o[g.current]:"",O=g.current&&(null===h||void 0===h||null===(r=h["cdc/".concat(b,"/state_link")])||void 0===r?void 0:r[g.current])?null===h||void 0===h||null===(s=h["cdc/".concat(b,"/state_link")])||void 0===s?void 0:s[g.current]:"";i.push({key:"cdc/".concat(b,"/state_name"),fromKey:p.current,from:j,toKey:g.current,to:m,_to:m,parent:"global",category:"locations"}),e.push({key:"cdc/".concat(b,"/state_link"),fromKey:p.current,from:v,toKey:g.current,to:O,_to:O,parent:"global",category:"state_link"})})),f.current=i.sort((function(e,t){return e.from>t.from?1:-1}))}if(t){var a=[];Object.entries(t.customStrings.content).forEach((function(t){var n=Object(l.a)(t,2),i=n[0],c=n[1];i.startsWith("c19.eligibility.question")?a.push({key:i,fromKey:p.current,from:c[p.current],toKey:g.current,to:c[g.current],_to:c[g.current],parent:"global",category:"qualifiers"}):e.push({key:i,fromKey:p.current,from:c[p.current],toKey:g.current,to:c[g.current],_to:c[g.current],parent:"global",category:"other"})})),h.current=a.sort((function(e,t){return e.from>t.from?1:-1}))}var c=[];n&&Object.entries(n).filter((function(e){var t=Object(l.a)(e,2);t[0];return t[1].strings})).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],i=t[1];Object.entries(i.strings.content).forEach((function(e){var t=Object(l.a)(e,2),i=t[0],a=t[1];c.push({key:i,fromKey:p.current,from:a[p.current],toKey:g.current,to:a[g.current],_to:a[g.current],parent:n,category:"state"})}))})),j.current=e.concat(c).sort((function(e,t){return e.key>t.key?1:-1}));var o=[],r=[];j.current.forEach((function(e){r.includes(e.parent)||"state"!==e.category||(o.push({key:e.parent,text:Q(e.parent)}),r.push(e.parent))})),v.current=o.sort((function(e,t){return e.key>t.key?1:-1}))}),[t,n]);Object(a.useEffect)((function(){p.current=i,ae()}),[i,p,ae]);var ce=Object(a.useCallback)((function(e){ie(Object(y.a)(Object(y.a)({},ne),Object(O.a)({},e,!ne[e])))}),[ie,ne]),oe=Object(a.useCallback)((function(e,t){var n=e.target.value,i=C.findIndex((function(e){return e.from===t.from}));C[i]=Object(y.a)(Object(y.a)({},t),{},{to:n}),N(Object($.a)(C)),s.current=C[i]}),[s,C,N]),re=Object(a.useCallback)((function(e,t){var n=e.target.value,i=D.findIndex((function(e){return e.from===t.from}));D[i]=Object(y.a)(Object(y.a)({},t),{},{to:n}),F(Object($.a)(D)),u.current=D[i]}),[u,D,F]),se=Object(a.useCallback)((function(e,t){var n=e.target.value,i=R.findIndex((function(e){return e.from===t.from}));R[i]=Object(y.a)(Object(y.a)({},t),{},{to:n}),T(Object($.a)(R)),b.current=R[i]}),[b,R,T]),le=Object(a.useCallback)((function(e){e.to&&e.to.toLowerCase()!==e._to.toLowerCase()&&(e.to=Q(e.to).trim(),U(e))}),[]),ue=Object(a.useCallback)((function(e){e.to&&e.to.toLowerCase()!==e._to.toLowerCase()&&(e.to=String(e.to).trim(),W(e))}),[]),de=Object(a.useCallback)((function(e){e.to&&e.to.toLowerCase()!==e._to.toLowerCase()&&(e.to=String(e.to).trim(),M(e))}),[]),be=Object(a.useCallback)((function(e,t){g.current=t.key,ae(),"missing"===A?(N(f.current.filter((function(e){return!e._to}))),F(h.current.filter((function(e){return!e._to}))),T("all"===E?j.current.filter((function(e){return!e._to})):"state"===E?j.current.filter((function(e){return!e._to&&e.category===E&&e.parent===G})):j.current.filter((function(e){return!e._to&&e.category===E})))):(N(f.current),F(h.current),T("all"===E?j.current:"state"===E?j.current.filter((function(e){return e.category===E&&e.parent===G})):j.current.filter((function(e){return e.category===E}))))}),[A,E,G,ae,N,F,T]),he=Object(a.useCallback)((function(e,t){"missing"===t.key?(N(f.current.filter((function(e){return!e._to}))),F(h.current.filter((function(e){return!e._to}))),T("all"===E?j.current.filter((function(e){return!e._to})):"state"===E?j.current.filter((function(e){return!e._to&&e.category===E&&e.parent===G})):j.current.filter((function(e){return!e._to&&e.category===E})))):(N(f.current),F(h.current),T("all"===E?j.current:"state"===E?j.current.filter((function(e){return e.category===E&&e.parent===G})):j.current.filter((function(e){return e.category===E})))),q(t.key)}),[T,N,F,f,h,j,E,G,q]),je=Object(a.useCallback)((function(e,t){var n=G||v.current[0].key,i=j.current.filter((function(e){return"all"===t.key?"missing"===A?!e._to:e:"missing"===A?"state"===t.key?!e._to&&e.category===t.key&&e.parent===n:!e._to&&e.category===t.key:"state"===t.key?e.category===t.key&&n:e.category===t.key}));T(i),J(t.key),Z(n)}),[j,A,G,Z,T,J]),ve=Object(a.useCallback)((function(e,t){T(j.current.filter((function(e){return e.parent===t.key}))),Z(t.key)}),[T,j]);return Object(fe.jsx)("div",{className:"translatePageContainer",children:Object(fe.jsxs)("div",{className:"bodyContainer",children:[Object(fe.jsx)("div",{className:"bodyHeader",children:Object(fe.jsxs)("div",{className:"bodyHeaderTitle",children:[Object(fe.jsx)("div",{className:"breadCrumbs",children:"/ Translate"}),Object(fe.jsx)("div",{className:"mainTitle",children:"Translate"})]})}),Object(fe.jsxs)("div",{className:"bodyContent",children:[Object(fe.jsxs)("div",{className:"filterGroup",children:[Object(fe.jsx)(d.a,{selectedKey:g.current,placeholder:"Available languages",options:c,styles:Ee,onChange:be}),Object(fe.jsx)(d.a,{selectedKey:A,placeholder:"Needs Translation",options:o,styles:Ee,onChange:he})]}),Object(fe.jsxs)("section",{children:[Object(fe.jsxs)("div",{className:"listTitle",onClick:function(){return ce("locations")},children:[Object(fe.jsx)(ee.a,{iconName:ne.locations?"ChevronRight":"ChevronDown",className:"groupToggleIcon"}),Object(fe.jsx)("div",{children:"Locations"})]}),!ne.locations&&(C.length>0?C.map((function(e,t){return Object(fe.jsxs)("div",{className:"translateListRow".concat(t%2>0?"":" altRow"),children:[Object(fe.jsx)("div",{className:"fromCol",children:e.from}),Object(fe.jsx)(me.a,{name:e.to,value:e.to,className:"toCol",onChange:function(t){return oe(t,e)},onBlur:function(){return le(e)}})]},"locationRow-".concat(t))})):Object(fe.jsxs)("div",{className:"emptyTranslateListRow",children:["No missing location translations found for:"," ",Y(g.current,g.current),"."]}))]}),Object(fe.jsxs)("section",{children:[Object(fe.jsxs)("div",{className:"listTitle",onClick:function(){return ce("qualifiers")},children:[Object(fe.jsx)(ee.a,{iconName:ne.qualifiers?"ChevronRight":"ChevronDown",className:"groupToggleIcon"}),Object(fe.jsx)("div",{children:"Qualifiers"})]}),!ne.qualifiers&&(D.length>0?D.map((function(e,t){return Object(fe.jsxs)("div",{className:"translateListRow".concat(t%2>0?"":" altRow"," qualifier"),children:[Object(fe.jsx)("div",{className:"fromCol",children:e.from}),Object(fe.jsx)(me.a,{name:e.to,value:e.to,className:"toCol",autoAdjustHeight:!0,resizable:!1,multiline:!0,rows:Math.ceil(e.from.length/100),onChange:function(t){return re(t,e)},onBlur:function(){return ue(e)}})]},"qualifierRow-".concat(t))})):Object(fe.jsxs)("div",{className:"emptyTranslateListRow",children:["No missing qualifier translations found for:"," ",Y(g.current,g.current),"."]}))]}),Object(fe.jsxs)("section",{children:[Object(fe.jsxs)("div",{className:"listTitle",onClick:function(){return ce("misc")},children:[Object(fe.jsx)(ee.a,{iconName:ne.misc?"ChevronRight":"ChevronDown",className:"groupToggleIcon"}),Object(fe.jsx)("div",{children:"Miscellaneous"})]}),!ne.misc&&(R.length>0?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)("div",{className:"miscFilterGroup",children:[Object(fe.jsx)(d.a,{selectedKey:E,placeholder:"Filter Miscellaneous",options:r,styles:Ee,onChange:je}),"state"===E?Object(fe.jsx)(d.a,{selectedKey:G,options:v.current,styles:Ee,onChange:ve}):Object(fe.jsx)("div",{})]}),R.map((function(e,t){return Object(fe.jsxs)("div",{className:"translateListRow".concat(t%2>0?"":" altRow"," misc"),children:[Object(fe.jsx)("div",{className:"fromCol",children:e.from}),Object(fe.jsx)(me.a,{name:e.to,value:e.to,className:"toCol",autoAdjustHeight:!0,resizable:!1,multiline:!0,rows:Math.ceil(e.from.length/100),onChange:function(t){return se(t,e)},onBlur:function(){return de(e)}})]},"miscRow-".concat(t))}))]}):Object(fe.jsxs)("div",{className:"emptyTranslateListRow",children:["No missing miscellaneous translations found for:"," ",Y(g.current,g.current),"."]}))]})]})]})})})),Be=(n(173),n(174),Object(g.a)((function(){var e=x(),t=Object(p.a)(!1),n=Object(l.a)(t,2),i=n[0],c=n[1],o=c.setTrue,r=c.setFalse,s=Object(a.useState)("Dashboard"),g=Object(l.a)(s,2),O=g[0],y=g[1];Object(a.useEffect)((function(){e.pendingChanges?window.onbeforeunload=function(){return!0}:window.onbeforeunload=null}),[e.pendingChanges]);var k=Object(a.useCallback)((function(e){"Locations"===e.props.headerText?o():r(),y(e.props.headerText)}),[o,r,y]),C=Object(a.useCallback)((function(){y("Dashboard")}),[y]);return Object(fe.jsxs)("div",{className:"rootContentWrapper",children:[x().isAuthenticated?Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsxs)(m.d,{children:[Object(fe.jsx)(m.b,{exact:!0,path:"/",children:Object(fe.jsxs)("div",{className:"appPageContainer",children:[Object(fe.jsxs)("div",{className:"appHeaderWrapper",children:[Object(fe.jsxs)("div",{className:"appHeaderContainer",children:[Object(fe.jsx)(u.a,{iconProps:{iconName:"waffle"},title:"Apps",styles:{icon:{fontSize:"24px",color:"white"},rootHovered:{backgroundColor:"transparent"},rootPressed:{backgroundColor:"transparent"}}}),Object(fe.jsx)("div",{className:"appHeaderTitle",children:"Data Composer"})]}),Object(fe.jsxs)("div",{className:"appHeaderPersona",children:[Object(fe.jsx)("div",{children:Object(fe.jsx)(d.a,{defaultSelectedKey:e.currentLanguage,onChange:function(e,t){return I(t)},ariaLabel:"Pick Language",options:V(),styles:{dropdown:{border:"none"},title:{fontSize:"14px",color:"white !important",border:"none",backgroundColor:"transparent"},caretDown:{color:"white !important",fontSize:"14px"},dropdownOptionText:{fontSize:"14px"},root:{selectors:{":hover":{backgroundColor:"rgba(0,0,0,.25);"}}}}})}),Object(fe.jsx)("div",{className:"appHeaderUsername",children:e.userDisplayName}),Object(fe.jsx)(b.a,{text:e.userDisplayName,size:f.c.size32,hidePersonaDetails:!0})]})]}),Object(fe.jsx)("div",{className:"appBodyWrapper",children:x().isAuthorized?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"appBodyLeft",children:Object(fe.jsxs)(h.a,{onLinkClick:k,selectedKey:O,children:[Object(fe.jsxs)(j.a,{headerText:"Dashboard",itemKey:"Dashboard",children:[e.pendingChanges&&Object(fe.jsx)(v.a,{styles:{root:{margin:"10px 5px"}},children:"You have pending changes, please click on the review tab to submit these changes."}),Object(fe.jsx)(he,{})]}),Object(fe.jsxs)(j.a,{headerText:"Locations",itemKey:"Locations",children:[e.pendingChanges&&Object(fe.jsx)(v.a,{styles:{root:{margin:"10px 5px"}},children:"You have pending changes, please click on the review tab to submit these changes."}),Object(fe.jsx)(_e,{})]}),e.isEditable&&Object(fe.jsxs)(j.a,{headerText:"Translate",itemKey:"Translate",children:[e.pendingChanges&&Object(fe.jsx)(v.a,{styles:{root:{margin:"10px 5px"}},children:"You have pending changes, please click on the review tab to submit these changes."}),Object(fe.jsx)(Je,{})]}),e.pendingChanges&&Object(fe.jsx)(j.a,{headerText:"Review",itemKey:"Review",children:Object(fe.jsx)(ze,{showDashboard:C})})]})}),e.isEditable&&i&&Object(fe.jsx)("div",{className:"appBodyRight",children:Object(fe.jsx)(Ke,{})})]}):Object(fe.jsx)("div",{className:"appBodyLeft",children:Object(fe.jsxs)("div",{className:"dashboardPageWrapper",children:[Object(fe.jsx)("div",{className:"bodyContainer",children:Object(fe.jsx)("div",{className:"bodyHeader",children:Object(fe.jsx)("div",{className:"bodyHeaderTitle",children:Object(fe.jsx)("div",{className:"mainTitle",children:"Welcome!"})})})}),Object(fe.jsx)("section",{style:{width:"70%",margin:"0px auto"},children:Object(fe.jsxs)("p",{children:["Thank you for your interest in helping to manage the data, unfortunately right now access to this tool requires collaborator permissions on"," ",Object(fe.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.github.com/".concat("microsoft","/").concat("covid-vaccine-bot"),children:"this repo"}),". Feel free to request access over on GitHub!"]})})]})})})]})}),Object(fe.jsx)(m.b,{path:"*",children:Object(fe.jsx)("div",{children:"404 page not found."})})]})}):Object(fe.jsxs)(m.d,{children:[Object(fe.jsx)(m.b,{exact:!0,path:"/",children:Object(fe.jsx)(Ae,{})}),Object(fe.jsx)(m.b,{path:"*",children:Object(fe.jsx)(m.a,{to:"/"})})]}),Object(fe.jsx)(je,{})]})}))),He=n(18),Ge=n.n(He),Ue=n(32),We=Object(k.mutatorAction)("setUserAuthData",(function(e){if(e){var t=x();t.accessToken=e.accessToken,t.email=e.email,t.isAuthenticated=e.isAuthenticated,t.userDisplayName=e.userDisplayName,t.username=e.username}})),Me=Object(k.mutatorAction)("setUserNoAccess",(function(){x().isAuthorized=!1})),Qe=n(70),Ve=(n(180),function(){var e=Object(Ue.a)(Ge.a.mark((function e(){var t,n,i,a,c,o,r;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,Qe.a.apps.length||Qe.a.initializeApp({apiKey:"AIzaSyDWHG36x0EjPRf8zdw9t439_jHPkJRNc3I",authDomain:"covid-vaccine-data-app.firebaseapp.com"}),(n=new Qe.a.auth.GithubAuthProvider).addScope("repo"),e.next=6,Qe.a.auth().signInWithPopup(n);case 6:return(i=e.sent)&&(r=i.credential,t={isAuthenticated:!0,accessToken:r.accessToken,email:null===(a=i.user)||void 0===a?void 0:a.email,userDisplayName:null===(c=i.user)||void 0===c?void 0:c.displayName,username:null===(o=i.additionalUserInfo)||void 0===o?void 0:o.username}),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Ye=n(136),Ze=n(71),Xe=n.n(Ze),$e=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=t.split("/"),a=e;i.length>1;){var c=i,o=Object(Ye.a)(c),r=o[0],s=o.slice(1);i=s,void 0===a[r]&&(a[r]={}),a=a[r]}return a[i[0]]?a[i[0]]=Object(y.a)(Object(y.a)({},a[i[0]]),n):a[i[0]]={},e},et=function(){var e=Object(Ue.a)(Ge.a.mark((function e(t,n){var i,a;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t),{method:"GET",headers:{Authorization:"token ".concat(n)}});case 2:return i=e.sent,e.next=5,i.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(e){for(var t="en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th".split(","),n=Object.keys(e),i="String ID,"+t.join(",")+"\n",a=function(){var n=o[c],a=[n];t.forEach((function(t){e[n][t]?a.push('"'.concat(e[n][t].replace(/"/g,'""'),'"')):a.push("")})),i+=a.join(",")+"\n"},c=0,o=n;c<o.length;c++)a();return i},nt=function(){var e=Object(Ue.a)(Ge.a.mark((function e(t){var n,i,a,c,o,r,s,l,u,d,b,f,h,j,v,p,g,m,O,y,k,N,w,S,D,F,L,I,R,T,_,P,A,q,K,z,E,J,B,H,G,U,W,M,Q,V,Y,$,ee=arguments;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ee.length>1&&void 0!==ee[1]?ee[1]:void 0,i=x(),a="microsoft",c="covid-vaccine-bot",e.t0=t,e.next="checkAccess"===e.t0?7:"getBranches"===e.t0?11:"getPullRequests"===e.t0?17:"getIssues"===e.t0?23:"getRepoFileData"===e.t0?36:"createPR"===e.t0?80:143;break;case 7:return e.next=9,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/collaborators/").concat(i.username),{method:"GET",headers:{Authorization:"token ".concat(i.accessToken),Accept:"application/vnd.github.v3+json"}});case 9:return o=e.sent,e.abrupt("return",o);case 11:return e.next=13,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/branches"),{method:"GET",headers:{Authorization:"token ".concat(i.accessToken)}});case 13:return r=e.sent,e.next=16,r.json();case 16:return e.abrupt("return",e.sent);case 17:return e.next=19,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/pulls"),{method:"GET",headers:{Authorization:"token ".concat(i.accessToken)}});case 19:return s=e.sent,e.next=22,s.json();case 22:return e.abrupt("return",e.sent);case 23:return e.next=25,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/issues"),{method:"GET",headers:{Authorization:"token ".concat(i.accessToken)}});case 25:return l=e.sent,e.next=28,l.clone().json();case 28:return u=e.sent,d=[],u.forEach(function(){var e=Object(Ue.a)(Ge.a.mark((function e(t){var n,o,r;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/issues/").concat(t.number,"/comments"),{method:"GET",headers:{Authorization:"token ".concat(i.accessToken)}});case 2:return n=e.sent,e.next=5,n.json();case 5:(o=e.sent)&&o.length>0&&(r=JSON.parse(o[0].body.substr(1,o[0].body.length-2)),d.push({prNumber:t.number,prDescription:t.body,prChanges:r}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=33,l.json();case 33:return e.t1=e.sent,e.t2=d,e.abrupt("return",[e.t1,e.t2]);case 36:return e.next=38,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/contents/packages/plans/data"),{method:"GET",headers:{Authorization:"token ".concat(i.accessToken)}});case 38:return b=e.sent,e.next=41,b.json();case 41:return f=e.sent,h=f.find((function(e){return"policies"===e.name})).git_url,e.next=45,fetch("".concat(h,"?recursive=true"),{method:"GET",headers:{Authorization:"token ".concat(i.accessToken)}});case 45:return j=e.sent,e.next=48,j.json();case 48:return v=e.sent,p={},v.tree.forEach(function(){var e=Object(Ue.a)(Ge.a.mark((function e(t){var n,a,c,o,r,s;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("tree"!==t.type){e.next=4;break}$e(p,t.path),e.next=22;break;case 4:return n=t.path.lastIndexOf("/"),a=t.path.substring(0,n),c=t.path.substring(n+1),o=c.split(".")[0],r={},e.next=11,et(String(t.url),String(i.accessToken));case 11:s=e.sent,e.t0=c.split(".")[1].toLowerCase(),e.next="json"===e.t0?15:"md"===e.t0?17:"csv"===e.t0?19:21;break;case 15:return r[o]={name:c,type:o,sha:t.sha,url:t.url,path:t.path,content:JSON.parse(X(s.content))},e.abrupt("break",21);case 17:return r.desc_md={name:c,type:o,sha:t.sha,url:t.url,path:t.path,content:X(s.content)},e.abrupt("break",21);case 19:return r.strings={name:c,type:o,sha:t.sha,url:t.url,path:t.path,content:C(Xe()(X(s.content),{columns:!0}))},e.abrupt("break",21);case 21:r!=={}&&$e(p,a,r);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=f.find((function(e){return"localization"===e.name})).git_url,e.next=54,fetch("".concat(g,"?recursive=true"),{method:"GET",headers:{Authorization:"token ".concat(i.accessToken)}});case 54:return m=e.sent,e.next=57,m.json();case 57:return O=e.sent,y=O.tree.find((function(e){return"custom-strings.csv"===e.path})),k=O.tree.find((function(e){return"cdc-state-names.csv"===e.path})),N=O.tree.find((function(e){return"cdc-state-links.csv"===e.path})),w={},S={},D={},e.next=66,et(String(y.url),String(i.accessToken));case 66:return F=e.sent,w=C(Xe()(X(F.content),{columns:!0})),e.next=70,et(String(k.url),String(i.accessToken));case 70:return L=e.sent,S=C(Xe()(X(L.content),{columns:!0})),e.next=74,et(String(N.url),String(i.accessToken));case 74:return I=e.sent,D=C(Xe()(X(I.content),{columns:!0})),y.content=w,k.content=S,N.content=D,e.abrupt("return",[p,y,k,N]);case 80:if(!(null===i||void 0===i?void 0:i.mainBranch)){e.next=142;break}return R=null===i||void 0===i?void 0:i.mainBranch,T="refs/heads/".concat(i.username,"-policy-").concat(Date.now()),_=n[0],P=n[1],A=n[3],q=n[4],e.next=89,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/git/refs"),{method:"POST",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({ref:T,sha:R.commit.sha})});case 89:return K=e.sent,e.next=92,K.json();case 92:if(!e.sent){e.next=130;break}if(!_){e.next=104;break}e.t3=Ge.a.keys(_);case 96:if((e.t4=e.t3()).done){e.next=104;break}return z=e.t4.value,E=_[z],J=tt(E.content),e.next=102,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/contents/packages/plans/data/localization/").concat(E.path),{method:"PUT",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({branch:T,message:"updated ".concat(E.path),content:Z(J),sha:E.sha})});case 102:e.next=96;break;case 104:if(!P){e.next=130;break}e.t5=Ge.a.keys(P);case 106:if((e.t6=e.t5()).done){e.next=130;break}return B=e.t6.value,H=P[B].data,e.next=111,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/contents/packages/plans/data/policies/").concat(H.info.path),{method:"PUT",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({branch:T,message:"updated ".concat(H.info.path),content:Z(JSON.stringify(H.info.content,null,"\t")),sha:H.info.sha})});case 111:return e.next=113,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/contents/packages/plans/data/policies/").concat(H.vaccination.path),{method:"PUT",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({branch:T,message:"updated ".concat(H.vaccination.path),content:Z(JSON.stringify(H.vaccination.content,null,"\t")),sha:H.vaccination.sha})});case 113:return e.next=115,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/contents/packages/plans/data/policies/").concat(H.strings.path),{method:"PUT",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({branch:T,message:"updated ".concat(H.strings.path),content:Z(tt(H.strings.content)),sha:H.strings.sha})});case 115:if(!H.regions){e.next=128;break}G=Object.keys(H.regions),U=0,W=G;case 118:if(!(U<W.length)){e.next=128;break}return M=W[U],Q=H.regions[M],e.next=123,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/contents/packages/plans/data/policies/").concat(Q.info.path),{method:"PUT",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({branch:T,message:"updated ".concat(Q.info.path),content:Z(JSON.stringify(Q.info.content,null,"\t")),sha:Q.info.sha})});case 123:return e.next=125,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/contents/packages/plans/data/policies/").concat(Q.vaccination.path),{method:"PUT",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({branch:T,message:"updated ".concat(Q.vaccination.path),content:Z(JSON.stringify(Q.vaccination.content,null,"\t")),sha:Q.vaccination.sha})});case 125:U++,e.next=118;break;case 128:e.next=106;break;case 130:return V=A.prTitle?A.prTitle:"auto PR creation",e.next=133,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/pulls"),{method:"POST",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({head:T,base:"main",title:V,body:A.prDetails})});case 133:return Y=e.sent,e.next=136,Y.clone().json();case 136:return $=e.sent,e.next=139,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/issues/").concat($.number,"/labels"),{method:"POST",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({labels:["data-composer-submission","requires-data-accuracy-review"]})});case 139:return e.next=141,fetch("https://api.github.com/repos/".concat(a,"/").concat(c,"/issues/").concat($.number,"/comments"),{method:"POST",headers:{Authorization:"token ".concat(i.accessToken)},body:JSON.stringify({body:"`".concat(JSON.stringify(q),"`")})});case 141:return e.abrupt("return",Y.json());case 142:return e.abrupt("break",143);case 143:return e.abrupt("return",void 0);case 144:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(k.orchestrator)(Pe,Object(Ue.a)(Ge.a.mark((function e(){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve();case 2:if(!(t=e.sent)){e.next=9;break}return We(t),e.next=7,nt("checkAccess");case 7:e.sent.ok?be():Me();case 9:case"end":return e.stop()}}),e)})))),Object(k.orchestrator)(ue,function(){var e=Object(Ue.a)(Ge.a.mark((function e(t){var n,i;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileData,e.next=3,nt("createPR",n);case 3:if(!(i=e.sent)){e.next=18;break}return e.next=7,nt("getBranches");case 7:return i=e.sent,S(i),e.next=11,nt("getRepoFileData");case 11:return i=e.sent,L(i),e.next=15,nt("getIssues");case 15:i=e.sent,D(i,n[2]()),F();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(k.orchestrator)(de,Object(Ue.a)(Ge.a.mark((function e(){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt("getRepoFileData");case 2:t=e.sent,L(t);case 4:case"end":return e.stop()}}),e)})))),Object(k.orchestrator)(be,Object(Ue.a)(Ge.a.mark((function e(){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,nt("getBranches");case 3:return t=e.sent,S(t),e.next=7,nt("getRepoFileData");case 7:return t=e.sent,L(t),e.next=11,nt("getIssues");case 11:t=e.sent,D(t),F(),w(!1);case 15:case"end":return e.stop()}}),e)})))),function(){try{Object(i.a)(),r.a.render(Object(fe.jsx)(c.a.StrictMode,{children:Object(fe.jsx)(s.a,{basename:"/covid-vaccine-bot",children:Object(fe.jsx)(Be,{})})}),document.getElementById("root"))}catch(e){console.error("error rendering app",e)}}()},73:function(e,t,n){}},[[215,1,2]]]);
//# sourceMappingURL=main.5504c428.chunk.js.map