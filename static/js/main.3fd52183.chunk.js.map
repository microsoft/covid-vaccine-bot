{"version":3,"sources":["actions/authActions.ts","actions/repoActions.ts","store/localStorage.ts","store/store.ts","mutators/authMutators.ts","utils/dataUtils.ts","config.ts","utils/textUtils.ts","mutators/repoMutators.ts","components/Dashboard.tsx","components/Footer.tsx","components/DeleteLocationForm.tsx","selectors/locationSelectors.ts","components/LocationForm.tsx","components/PhaseForm.tsx","selectors/phaseSelectors.ts","components/PhaseQualifierForm.tsx","components/LocationsPhases.tsx","components/LocationsRegions.tsx","components/LocationsStates.tsx","components/Locations.tsx","components/Login.tsx","components/AddQualiferForm.tsx","selectors/qualifierSelectors.ts","components/QualifierPanel.tsx","selectors/changesSelectors.ts","components/Review.tsx","components/Translate.tsx","components/UnAuthorized.tsx","components/UserAccessExpirationForm.tsx","components/App.tsx","services/loginUserService.ts","services/repoServices.ts","orchestrators/authOrchestrators.ts","orchestrators/repoOrchestrators.ts","index.tsx"],"names":["loginUser","action","reLoginUser","createPR","fileData","getRepoFileData","initializeGitData","loadPR","prNumber","loadBranch","branch","saveContinue","LOCAL_STORE_KEY","loadState","serializedState","localStorage","getItem","JSON","parse","err","console","warn","clearState","removeItem","initialStore","isAuthenticated","isAuthorized","accessToken","undefined","username","email","userDisplayName","branches","issues","repoFileData","initRepoFileData","globalFileData","initGlobalFileData","mainBranch","currentLanguage","toggleQualifier","isEditable","pendingChanges","isDataRefreshing","prChanges","userWorkingBranch","userWorkingBranches","userAccessExpired","isDataStale","isSavingCommits","getAppStore","createStore","localState","getAppState","store","getRootStore","get","autorun","state","local","stringify","setItem","saveState","setUserAccessToken","mutatorAction","setUserAuthData","data","setUserAccessExpired","setUserNoAccess","logoutUser","window","location","reload","convertCSVDataToObj","csvData","returnObj","forEach","row","stringLabel","Object","keys","find","x","trim","stringId","k","endsWith","toLowerCase","configs","languageKeys","toProperCase","text","res","replace","letter","toUpperCase","startsWith","formatId","getLanguageKeys","split","getLanguageOptions","excludeLanguage","map","key","getLanguageDisplayText","filter","l","languageCode","Intl","DisplayNames","type","of","utf8_to_b64","str","btoa","unescape","encodeURIComponent","b64_to_utf8","decodeURIComponent","escape","atob","createCSVDataString","contentObj","push","getLanguageKeysWithSMSVoice","contentKeys","result","join","rowValues","lang","setIsDataRefreshing","setIsDataStale","setPendingChanges","setSavingCommitsFlag","setBranchList","name","setUserWorkingBranches","setIssuesList","callback","setLoadedPRData","prData","loadedPRData","last_commit","commits","pop","setUserWorkingBranch","clearLoadedPRData","setRepoFileData","customStrings","cdcStateNames","cdcStateLinks","setInitRepoFileData","setCurrentLanguage","updateLocationList","locationData","isRegion","selectedState","newLocObj","locationName","details","info","content","id","metadata","code_alpha","code_numeric","regionType","path","sha","url","strings","vaccination","activePhase","links","eligibility","eligibilityPlan","eligibility_plan","providers","workflow","scheduling","schedulingPhone","scheduling_phone","createLocationDataObj","noPhaseLabel","schedulingPhoneKey","schedulingPhoneDesc","schedulingPhoneDescKey","description","regions","stringsContentObj","deleteLocation","updateLocationData","prevItem","regionObj","value","modifyStateStrings","locationKey","item","moreInfoContent","newStringsObj","infoKey","regionInfo","regionVaccinationObj","phases","copyPhaseData","phase","groupId","qualifications","qualification","question","qualifierId","moreInfoText","affectedPhase","affectedQualifier","newObj","oldObj","currPhaseObj","qual","moreInfoUrl","modifyMoreInfoLinks","updateQualifier","oldId","addQualifier","removeQualifier","removeIndex","findIndex","splice","removePhase","phaseId","addPhase","label","duplicatePhase","phaseSource","nextPhaseId","newItem","newContentKey","RegExp","updatePhase","setActivePhase","updateGlobalQualifiers","qualifierKey","isNew","qualifierKeyBank","qualifier","i","customStringKeys","qKey","length","tagKey","includes","substr","translateLocationName","toKey","to","sms","voice","translateQualifier","translateMisc","category","parent","recursiveFindAndReplace","saveObj","region","updateStrings","stringsList","observer","useState","prList","setPRList","issueList","setIssueList","useBoolean","hideDialog","toggleHideDialog","toggle","noteKeys","setNoteKeys","useEffect","tempPRList","tempIssueList","requestUpdate","Date","updated_at","isScrappedIssue","labels","some","pull_request","title","author","user","login","update","toLocaleString","toggleCallout","useCallback","tempItems","index","indexOf","prColumns","fieldName","minWidth","isResizable","onRender","column","body","FontIcon","className","number","iconName","onClick","Callout","onDismiss","target","gapSpace","setInitialFocus","role","directionalHint","ariaLabel","disabled","href","html_url","rel","issueColumns","userWorkingBranchColumns","parseInt","refreshData","onRefreshDataClick","ProgressIndicator","DetailsList","items","columns","setKey","layoutMode","DetailsListLayoutMode","justified","ariaLabelForSelectionColumn","ariaLabelForSelectAllCheckbox","checkButtonAriaLabel","checkboxVisibility","style","textAlign","Dialog","hidden","dialogContentProps","DialogType","normal","closeButtonAriaLabel","modalProps","isBlocking","DialogFooter","PrimaryButton","DefaultButton","Footer","memo","display","flexDirection","process","Link","children","cursor","marginLeft","marginRight","alignContent","open","props","onSubmit","onCancel","getCustomStrings","keyFilter","customStringsList","entries","setInitialData","getStrings","selectedRegion","returnVal","getRegionCustomStrings","getStateCustomStrings","vacInfo","formData","setFormData","fieldChanges","useRef","regionTypeOptions","baseTitle","formTitle","handleRegionChange","_ev","current","handleTextChange","ev","onNoLabelChange","checked","canSubmit","TextField","onChange","Dropdown","selectedKey","placeholder","options","Checkbox","duplicate","keyId","isActive","hasError","setHasError","isDuplicate","disableSubmit","onGetErrorMessage","getPhaseQualifierItems","getPhaseQualifierItemsByKey","qualifierList","sort","a","b","getExactCustomStrings","rowItems","onRowItemRemove","onRowItemTextChange","onRowItemQualifierChange","groupKey","phaseTagItems","phaseQualifiers","tagKeys","tagList","getPhaseTagItems","phaseQualifierItems","filteredQualifierItems","setFilteredQualifierItems","overrideIconFlag","moreInfoKey","regionPhases","currPhase","currQualification","getPhaseMoreInfoTextByKey","setMoreInfoText","getPhaseMoreInfoUrl","setMoreInfoUrl","changedItem","onTagChange","_event","option","q","onQualifierChange","onMoreInfoTextChange","onMoreInfoUrlChange","pointerEvents","visibility","defaultSelectedKey","styles","root","width","IconButton","iconProps","menuIcon","margin","menuProps","isBeakVisible","DirectionalHint","rightTopEdge","aria-label","multiline","autoAdjustHeight","resizable","padding","onBlur","phaseList","setPhaseList","groupToggleState","selectedModalFormItem","isDuplaceModalOpen","openDuplicateModal","setTrue","dismissDuplicateModal","setFalse","onDuplicateSubmit","onDuplicatePhaseClick","tempPhaseList","currentStateObj","phaseObj","isCollapsed","isActivePhase","tempPhaseObj","count","phaseItems","String","onRemoveRowItem","group","newItemIndex","onChangeRowItemText","currentItem","initItem","calcInfoKey","onChangeRowItemQualifier","idx","toggleGroup","onToggleCollapse","color","groupItem","marginTop","onAddQualifierClick","Modal","isOpen","isModeless","isDarkOverlay","filteredRegionsList","setFilteredRegionsList","stateRegionsFullList","selectedPhaseItem","setSelectedPhaseItem","isLocationModalOpen","openLocationModal","dismissLocationModal","isDeleteLocationModalOpen","openDeleteLocationModal","dismissDeleteLocationModal","isPhaseModalOpen","openPhaseModal","dismissPhaseModal","onNavigateBack","subLocationsColumns","loc","phaseColumns","maxWidth","phaseItemList","setPhaseItemList","selectedStateObj","tempList","valObj","newList","setInitialPhaseItems","selectedPhase","onLocationFormSubmit","onDeleteLocationFormSubmit","onLocationFormOpen","onPhaseFormOpen","onLocationDeleteFormOpen","onRenderItemColumn","_index","fieldContent","onRegionFilter","onItemInvoked","SearchBox","selectionPreservedOnEmptyClick","phaseData","onSelectedItem","filteredStateList","setFilteredStateList","stateRepoFullList","selectedLocationItem","locationColumns","col","nextFilteredStateList","stateId","stateNames","stateLabel","onStateFilter","openSelection","setSelectedState","tagsOptions","globalQualifiersList","replaceAll","getGlobalQualifierValidationTexts","isAddingTag","setIsAddingTag","handleTagChange","newQualifier","newQualifierText","isTagDuplicate","newTag","newTagKey","t","createNewTag","validateOnLoad","qualifierGroup","setQualifierGroup","qualifierGroupItems","setQualifierGroupItems","isAddQualifierModalOpen","openAddQualifierModal","dismissAddQualifierModal","formItem","groupKeys","questionItemKeys","tempQualifierGroup","tempQualifierGroupItems","questionGroupKey","groupIdx","obj","startIndex","onAddQualifierFormOpen","addQualifierSubmit","setTimeout","tag","groups","groupProps","showEmptyGroups","compact","isHeaderVisible","getChanges","changesList","locationUpdates","globalUpdates","isEqual","delete","addChanges","showDashboard","setChangesList","setLocationUpdates","setGlobalUpdates","showLoading","setShowLoading","errorMessage","setErrorMessage","initData","prTitle","prDetails","setInitialFormData","handleSubmit","resp","error","MessageBar","messageBarType","MessageBarType","dismissButtonAriaLabel","toString","rows","filterDropdownStyles","dropdown","border","fontSize","backgroundColor","caretDown","dropdownOptionText","languageOptions","translationFilter","miscFilter","locationFullList","qualifierFullList","miscFullList","stateSpecificOptions","mainLanguage","toLanguage","fileUploadRef","createRef","locationList","setLocationList","setQualifierList","miscList","setMiscList","translationFilterState","setTranslationFilterState","miscFilterState","setMiscFilterState","miscStateSpecFilterState","setMiscStateSpecFilterState","locations","qualifiers","misc","isSectionCollapse","setSectionCollapse","buildTranslationsLists","tempMiscList","stateLinks","stateLinkLabel","translateToValue","translateToValue_SMS","translateToValue_Voice","translateLinkToValue","translateLinkToValue_SMS","translateLinkToValue_Voice","fromKey","from","_to","_sms","_voice","tempQualifierList","stateStrings","aKey","bKey","concat","tempMiscStateSpecificList","tempKeys","onCollapseSection","handleLocationTextChange","rowItem","change","handleQualifierTextChange","handleMiscTextChange","updateLocationTranslation","hasUpdate","updateQualifierTranslation","updateMiscTranslation","onLanguageChange","onTranslationFilterChange","onMiscFilterChange","selectedMiscStateOptionKey","filteredList","onMiscStateSpecificFilterChange","onReaderLoadData","readerEvent","Error","searchForStrings","elem","resultObj","assign","htmlFor","ref","e","files","file","reader","FileReader","onload","readAsText","stringsObj","stringData","Blob","csvUrl","URL","createObjectURL","click","val","Math","ceil","isPanelOpen","showPanel","hidePanel","isPersonaMenuOpen","showPersonaMenu","hidePersonaMenu","branchWasSaved","setBranchWasSaved","isAccessExpiration","showAccessExpirationModal","hideAccessExpirationModal","setSelectedKey","personaComponent","onbeforeunload","togglePanel","headerText","onAccessExpirationFormSubmit","renderRepoMessageBar","isMultiline","commit","committer","renderSaveContinueMessageBar","actions","Spinner","ariaLive","labelPosition","MessageBarButton","exact","icon","rootHovered","rootPressed","o","selectors","Persona","size","PersonaSize","size32","hidePersonaDetails","ContextualMenu","onItemClick","Pivot","onLinkClick","PivotItem","itemKey","firebaseApp","firebase","initializeApp","apiKey","authDomain","loginUserService","authResp","provider","auth","GithubAuthProvider","addScope","signInWithPopup","response","oauthCreds","credential","displayName","additionalUserInfo","githubRepoOwner","githubRepoName","createPath","pathInput","head","tail","gitFetch","headers","json","_options","apiUrl","fetch","method","Authorization","ok","status","log","getContent","token","createWorkingBranch","branchName","commitChanges","branchLastCommitSha","updateObj","query","message","globalResp","locationResp","locationObj","infoQuery","vacQuery","stringQuery","regionKeys","regInfoQuery","regVacQuery","repoServices","command","extraData","now","Accept","userPrs","allBranches","usersBranches","pr","prs","Promise","all","populatedPRs","loadPRResponse","commitResp","dataFolderObj","policyFolderGitUrl","folder","git_url","loadPolicyFolderResponse","stateData","tree","element","lastInstance","lastIndexOf","filePath","substring","fileName","fileType","fileObj","localizationFolderGitUrl","localizationResponse","customStringsData","cdcStateNamesData","cdcStateLinksData","customStringsDataParse","cdcStateNamesDataParse","cdcStateLinksDataParse","prFormData","base","prResp","orchestrator","accessResp","handleError","nextWorkingBranches","changes","initializeIcons","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.3fd52183.chunk.js","sourcesContent":["/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { action } from 'satcheljs'\n\nexport const loginUser = action('loginUser')\nexport const reLoginUser = action('reLoginUser')\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { action } from 'satcheljs'\n\nexport const createPR = action('createPR', (fileData: any) => ({\n\tfileData,\n}))\n\nexport const getRepoFileData = action('getRepoFileData')\n\nexport const initializeGitData = action('initializeGitData')\n\nexport const loadPR = action('loadPR', (prNumber: any) => ({\n\tprNumber,\n}))\n\nexport const loadBranch = action('loadBranch', (branch: any) => ({\n\tbranch,\n}))\n\nexport const saveContinue = action('saveContinue')\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { AppState } from './schema/AppState'\n\nexport const LOCAL_STORE_KEY = 'dataComposer'\n\nexport const loadState = (): AppState | undefined => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem(LOCAL_STORE_KEY)\n\n\t\tif (!serializedState) return undefined\n\n\t\treturn JSON.parse(serializedState)\n\t} catch (err) {\n\t\tconsole.warn('Error loading state', err)\n\t\tclearState()\n\t\treturn undefined\n\t}\n}\n\nexport const saveState = (state: any): void => {\n\ttry {\n\t\tconst local = loadState()\n\t\tconst serializedState = JSON.stringify({\n\t\t\t...local,\n\t\t\t...state,\n\t\t})\n\n\t\tlocalStorage.setItem(LOCAL_STORE_KEY, serializedState)\n\t} catch (err) {\n\t\tconsole.warn('Error saving state', err)\n\t\tclearState()\n\t}\n}\n\nexport const clearState = (): void => {\n\tlocalStorage.removeItem(LOCAL_STORE_KEY)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { autorun } from 'mobx'\nimport { createStore, getRootStore } from 'satcheljs'\nimport { loadState, saveState } from './localStorage'\nimport { AppState } from './schema/AppState'\n\nexport const initialStore = {\n\tisAuthenticated: false,\n\tisAuthorized: true,\n\taccessToken: undefined,\n\tusername: undefined,\n\temail: undefined,\n\tuserDisplayName: undefined,\n\tbranches: undefined,\n\tissues: [],\n\trepoFileData: undefined,\n\tinitRepoFileData: undefined,\n\tglobalFileData: undefined,\n\tinitGlobalFileData: undefined,\n\tmainBranch: undefined,\n\tcurrentLanguage: 'en-us',\n\ttoggleQualifier: false,\n\tisEditable: true,\n\tpendingChanges: false,\n\tisDataRefreshing: false,\n\tprChanges: undefined,\n\tuserWorkingBranch: undefined,\n\tuserWorkingBranches: [],\n\tuserAccessExpired: false,\n\tisDataStale: false,\n\tisSavingCommits: false\n}\n\nexport const getAppState = (): AppState => {\n\tconst localState = loadState()\n\n\treturn {\n\t\t...initialStore,\n\t\t...localState,\n\t}\n}\n\nexport const getAppStore = createStore<AppState>('appState', getAppState())\n\nconst store = getRootStore().get('appState')\n\nautorun(() => {\n\tif (store.accessToken)\n\t\tsaveState({\n\t\t\taccessToken: store.accessToken,\n\t\t\tisAuthorized: store.isAuthorized,\n\t\t\tisAuthenticated: store.isAuthenticated,\n\t\t\tuserDisplayName: store.userDisplayName,\n\t\t\tusername: store.username,\n\t\t\temail: store.email,\n\t\t\tuserAccessExpired: store.userAccessExpired,\n\t\t})\n})","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { mutatorAction } from 'satcheljs'\nimport { clearState } from '../store/localStorage'\nimport { AppState } from '../store/schema/AppState'\nimport { getAppStore } from '../store/store'\n\nexport const setUserAccessToken = mutatorAction(\n\t'setUserAccessToken',\n\t(accessToken?: any) => {\n\t\tconst store = getAppStore()\n\t\tstore.accessToken = accessToken\n\t}\n)\n\nexport const setUserAuthData = mutatorAction(\n\t'setUserAuthData',\n\t(data: AppState | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.accessToken = data.accessToken\n\t\t\tstore.email = data.email\n\t\t\tstore.isAuthenticated = data.isAuthenticated\n\t\t\tstore.userDisplayName = data.userDisplayName\n\t\t\tstore.username = data.username\n\t\t}\n\t}\n)\n\nexport const setUserAccessExpired = mutatorAction('setUserAccessExpired', (userAccessExpired: boolean) => {\n\tconst store = getAppStore()\n\tstore.userAccessExpired = userAccessExpired\n})\n\nexport const setUserNoAccess = mutatorAction('setUserNoAccess', () => {\n\tconst store = getAppStore()\n\tstore.isAuthorized = false\n})\n\nexport const logoutUser = mutatorAction('logoutUser', () => {\n\tclearState()\n\n\twindow.location.reload()\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nexport const convertCSVDataToObj = (csvData: any) => {\n\tconst returnObj: any = {}\n\n\tcsvData.forEach((row: any) => {\n\t\tconst stringLabel: string = Object.keys(row).find(\n\t\t\t(x) => x.trim() === 'String ID'\n\t\t) as string\n\t\tconst stringId: string = row[stringLabel]\n\n\t\tdelete row[stringLabel]\n\t\tObject.keys(row).forEach(k => {\n\t\t\tif ((!k.endsWith('sms') || !k.endsWith('voice'))) {\n\t\t\t\t!(`${k}-sms` in row) && (row[`${k}-sms`]= \"\")\n\t\t\t\t!(`${k}-voice` in row) && (row[`${k}-voice`]= \"\")\n\t\t\t}\n\t\t})\n\n\t\treturnObj[stringId.toLowerCase()] = row\n\t})\n\n\treturn returnObj\n}\n\nexport const createLocationDataObj = (locationData: any): any => {\n\tconst locationName = locationData.details\n\t\t.replace(/[^a-z0-9\\s]/gi, '')\n\t\t.replace(/\\s/g, '_')\n\t\t.toLowerCase()\n\treturn {\n\t\tinfo: {\n\t\t\tcontent: {\n\t\t\t\tid: locationName,\n\t\t\t\tmetadata: {\n\t\t\t\t\tcode_alpha: locationName,\n\t\t\t\t\tcode_numeric: 0,\n\t\t\t\t},\n\t\t\t\tname: locationData.details,\n\t\t\t\ttype: locationData.regionType,\n\t\t\t},\n\t\t\tname: 'info.json',\n\t\t\tpath: `${locationName}/info.json`,\n\t\t\tsha: '',\n\t\t\ttype: 'info',\n\t\t\turl: '',\n\t\t},\n\t\tstrings: { content: {} },\n\t\tvaccination: {\n\t\t\tcontent: {\n\t\t\t\tactivePhase: '',\n\t\t\t\tlinks: {\n\t\t\t\t\t...(locationData?.eligibility !== '' && {\n\t\t\t\t\t\teligibility: {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.eligibilityPlan !== '' && {\n\t\t\t\t\t\teligibility_plan: {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.info !== '' && {\n\t\t\t\t\t\tinfo: {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${locationName}/state_link`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.providers !== '' && {\n\t\t\t\t\t\tproviders: {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.workflow !== '' && {\n\t\t\t\t\t\tworkflow: {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.scheduling !== '' && {\n\t\t\t\t\t\tscheduling: {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t\t...(locationData?.schedulingPhone !== '' && {\n\t\t\t\t\t\tscheduling_phone: {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: locationData.schedulingPhone,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t},\n\t\t\tname: 'vaccination.json',\n\t\t\tpath: `${locationName}/vaccination.json`,\n\t\t\tsha: '',\n\t\t\ttype: 'vaccination',\n\t\t\turl: '',\n\t\t},\n\t}\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nconst configs = {\n    languageKeys: \"en-us,ko-kr,vi-vn,zh-cn,es-us,de-de,es-es,fi-fi,fr-fr,he-il,it-it,ja-jp,pt-pt,sv-se,th-th\"\n}\n\nexport default configs","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport configs from '../config'\n\nexport const toProperCase = (text: string): string => {\n\tconst res = text\n\t\t.replace(/_/g, ' ')\n\t\t.toLowerCase()\n\t\t.replace(/\\b[a-z](?=[a-z]{2})/g, function (letter) {\n\t\t\treturn letter.toUpperCase()\n\t\t})\n\n\tif (res.startsWith('us ')) {\n\t\treturn res.replace('us ', 'US ')\n\t}\n\n\tif (res.startsWith('st. ')) {\n\t\treturn res.replace('st. ', 'St. ')\n\t}\n\treturn res\n}\n\nexport const formatId = (text: string) => {\n\treturn text?.trim().replace(/[^a-z0-9\\s]/gi, '')\n\t\t.replace(/\\s+/g, '_')\n\t\t.toLowerCase()\n}\n\nexport const getLanguageKeys = () => {\n\treturn configs.languageKeys.split(\n\t\t','\n\t)\n}\n\nexport const getLanguageOptions = (excludeLanguage?: string) => {\n\treturn getLanguageKeys()\n\t\t.map((key) => {\n\t\t\treturn {\n\t\t\t\tkey: key,\n\t\t\t\ttext: getLanguageDisplayText(key, key),\n\t\t\t}\n\t\t})\n\t\t.filter((l) => l.key !== excludeLanguage)\n}\n\nexport const getLanguageDisplayText = (\n\tcurrentLanguage: string,\n\tlanguageCode: string\n): string => {\n\t// @ts-expect-error DisplayNames not on Intl\n\tconst languageName = new Intl.DisplayNames([currentLanguage], {\n\t\ttype: 'language',\n\t})\n\treturn languageName.of(languageCode)\n}\n\nexport const utf8_to_b64 = (str: string): string => {\n\treturn btoa(unescape(encodeURIComponent(str)))\n}\n\nexport const b64_to_utf8 = (str: string): string => {\n\treturn decodeURIComponent(escape(atob(str)))\n}\n\nexport const getLanguageKeysWithSMSVoice = ():string[] => {\n\tconst languageKeys: any[] = []\n\tgetLanguageKeys().forEach(l => {\n\t\tlanguageKeys.push(l)\n\t\tlanguageKeys.push(`${l}-sms`)\n\t\tlanguageKeys.push(`${l}-voice`)\n\t})\n\treturn languageKeys\n}\n\nexport const createCSVDataString = (contentObj: any) => {\n\tconst languageKeys = getLanguageKeysWithSMSVoice()\n\tconst contentKeys = Object.keys(contentObj)\n\n\tlet result = 'String ID,' + languageKeys.join(',') + '\\n'\n\n\tfor (const key of contentKeys) {\n\t\tconst rowValues = [key]\n\t\tlanguageKeys.forEach((lang: string) => {\n\t\t\tif (contentObj[key][lang]) {\n\t\t\t\trowValues.push(`\"${contentObj[key][lang].replace(/\"/g, '\"\"')}\"`)\n\t\t\t} else {\n\t\t\t\trowValues.push('')\n\t\t\t}\n\t\t})\n\n\t\tresult += rowValues.join(',') + '\\n'\n\t}\n\treturn result\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { mutatorAction } from 'satcheljs'\nimport { getAppStore } from '../store/store'\nimport { createLocationDataObj } from '../utils/dataUtils'\nimport { formatId } from '../utils/textUtils'\n\nexport const setIsDataRefreshing = mutatorAction(\n\t'setIsDataRefreshing',\n\t(isDataRefreshing: boolean) => {\n\t\tconst store = getAppStore()\n\t\tstore.isDataRefreshing = isDataRefreshing\n\t}\n)\n\nexport const setIsDataStale = mutatorAction(\n\t'isDataStale',\n\t(isDataStale: boolean) => {\n\t\tconst store = getAppStore()\n\t\tstore.isDataStale = isDataStale\n\t}\n)\n\nexport const setPendingChanges = mutatorAction(\n\t'setPendingChanges',\n\t(pendingChanges: boolean) => {\n\t\tconst store = getAppStore()\n\t\tstore.pendingChanges = pendingChanges\n\t}\n)\n\nexport const setSavingCommitsFlag = mutatorAction('setSavingCommitsFlag', (data: boolean) => {\n\tconst store = getAppStore()\n\tstore.isSavingCommits = data\n})\n\nexport const setGlobalAndRepoChanges = mutatorAction(\n\t'setGlobalAndRepoChanges', \n\t() => {\n\t\tconst store = getAppStore()\n\t\tstore.initGlobalFileData = store.globalFileData\n\t\tstore.initRepoFileData = store.repoFileData\n\t}\n)\n\nexport const setBranchList = mutatorAction(\n\t'setBranchList',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.branches = data\n\t\t\tconst mainBranch = data.find((branch) => branch.name === 'main')\n\t\t\tstore.mainBranch = mainBranch\n\t\t}\n\t}\n)\n\nexport const setUserWorkingBranches = mutatorAction(\n\t'setUserWorkingBranches',\n\t(userWorkingBranches: any[] | undefined) => {\n\t\tif (userWorkingBranches) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.userWorkingBranches = userWorkingBranches\n\t\t}\n\t}\n)\n\nexport const setIssuesList = mutatorAction(\n\t'setIssuesList',\n\t(data: any[] | undefined, callback?: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.issues = data\n\n\t\t\tif (callback) {\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setLoadedPRData = mutatorAction(\n\t'setLoadedPRData',\n\t(prData: any | undefined) => {\n\t\tconst store = getAppStore()\n\t\tif (prData) {\n\t\t\tstore.loadedPRData = prData.data\n\t\t\tstore.prChanges = {\n\t\t\t\tlast_commit: prData?.commits?.pop?.(),\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setUserWorkingBranch = mutatorAction('setUserWorkingBranch', (data: any | undefined) => {\n\tconst store = getAppStore()\n\tstore.userWorkingBranch = data\n})\n\nexport const clearLoadedPRData = mutatorAction('clearLoadedPRData', () => {\n\tconst store = getAppStore()\n\tstore.pendingChanges = false\n\tstore.prChanges = undefined\n\tstore.loadedPRData = undefined\n})\n\nexport const setRepoFileData = mutatorAction(\n\t'setRepoFileData',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.repoFileData = data[0]\n\t\t\tstore.globalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setInitRepoFileData = mutatorAction(\n\t'setInitRepoFileData',\n\t(data: any[] | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.repoFileData = data[0]\n\t\t\tstore.initRepoFileData = data[0]\n\t\t\tstore.globalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t\tstore.initGlobalFileData = {\n\t\t\t\tcustomStrings: data[1],\n\t\t\t\tcdcStateNames: data[2],\n\t\t\t\tcdcStateLinks: data[3],\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setCurrentLanguage = mutatorAction(\n\t'setCurrentLanguage',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.currentLanguage = data.key\n\t\t}\n\t}\n)\nexport const updateLocationList = mutatorAction(\n\t'updateLocationList',\n\t(locationData: any, isRegion: boolean, selectedState?: any) => {\n\t\tif (locationData) {\n\t\t\tconst store = getAppStore()\n\t\t\tconst newLocObj = createLocationDataObj(locationData)\n\t\t\tstore.pendingChanges = true\n\n\t\t\tif (!isRegion) {\n\t\t\t\tstore.globalFileData.cdcStateNames.content[\n\t\t\t\t\t`cdc/${newLocObj.info.content.id}/state_name`\n\t\t\t\t] = {\n\t\t\t\t\t...store.globalFileData.cdcStateNames.content[\n\t\t\t\t\t\t`cdc/${newLocObj.info.content.id}/state_name`\n\t\t\t\t\t],\n\t\t\t\t\t[store.currentLanguage]: locationData.details,\n\t\t\t\t}\n\n\t\t\t\tnewLocObj.strings.path = `${newLocObj.info.content.id}/${newLocObj.info.content.id}.csv`\n\n\t\t\t\tif ('noPhaseLabel' in newLocObj.vaccination.content) {\n\t\t\t\t\tnewLocObj.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tnewLocObj.vaccination.content = {\n\t\t\t\t\t\t...newLocObj.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst stringsContentObj: any = {}\n\t\t\t\tif (locationData.schedulingPhone !== '') {\n\t\t\t\t\tconst schedulingPhoneKey: string = `c19.link/scheduling.phone.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tstringsContentObj[schedulingPhoneKey] = {\n\t\t\t\t\t\t...stringsContentObj[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.text = schedulingPhoneKey\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhoneDesc !== '') {\n\t\t\t\t\tconst schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tstringsContentObj[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...stringsContentObj[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\n\t\t\t\tnewLocObj.strings.content = stringsContentObj\n\n\t\t\t\tstore.repoFileData[newLocObj.info.content.id] = newLocObj\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t} else {\n\t\t\t\tconst location = store.repoFileData[selectedState.key]\n\t\t\t\tnewLocObj.info.path = `${selectedState.key}/regions/${newLocObj.info.path}`\n\t\t\t\tnewLocObj.vaccination.path = `${selectedState.key}/regions/${newLocObj.vaccination.path}`\n\n\t\t\t\tif ('noPhaseLabel' in newLocObj.vaccination.content) {\n\t\t\t\t\tnewLocObj.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tnewLocObj.vaccination.content = {\n\t\t\t\t\t\t...newLocObj.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData.info !== '') {\n\t\t\t\t\tnewLocObj.vaccination.content.links.info.text = `cdc/${location.info.content.id}/state_link` //`c19.link/info.${newLocObj.info.content.id}`.toLowerCase()\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhone !== '') {\n\t\t\t\t\tconst schedulingPhoneKey: string = `c19.link/scheduling.phone.${location.info.content.metadata.code_alpha}.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.text = schedulingPhoneKey\n\t\t\t\t}\n\n\t\t\t\tif (locationData.schedulingPhoneDesc !== '') {\n\t\t\t\t\tconst schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${location.info.content.metadata.code_alpha}.${newLocObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tnewLocObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\n\t\t\t\tif (location.regions) {\n\t\t\t\t\tlocation.regions[newLocObj.info.content.id] = newLocObj\n\t\t\t\t} else {\n\t\t\t\t\tlocation.regions = {\n\t\t\t\t\t\t[newLocObj.info.content.id]: newLocObj,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\n\nexport const deleteLocation = mutatorAction(\n\t'deleteLocation',\n\t(\n\t\tlocationData: any,\n\t\tisRegion?: boolean,\n\t\tselectedState?: any\n\t) => {\n\t\tconst store = getAppStore()\n\t\tstore.pendingChanges = true\n\t\t\n\t\tif(isRegion && selectedState)\n\t\t\tdelete store.repoFileData[selectedState.key]?.regions?.[locationData.key]\n\t\telse \n\t\t\tdelete store.repoFileData[locationData.key]\n\n\t\tstore.repoFileData = { ...store.repoFileData }\n\t}\n)\n\nexport const updateLocationData = mutatorAction(\n\t'updateLocationData',\n\t(\n\t\tlocationData: any,\n\t\tisRegion: boolean,\n\t\tprevItem: any,\n\t\tselectedState?: any\n\t) => {\n\t\tif (locationData) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.pendingChanges = true\n\t\t\tif (!isRegion) {\n\t\t\t\tconst location = store.repoFileData[prevItem.key]\n\n\t\t\t\tstore.globalFileData.cdcStateNames.content[\n\t\t\t\t\t`cdc/${prevItem.key}/state_name`\n\t\t\t\t] = {\n\t\t\t\t\t...store.globalFileData.cdcStateNames.content[\n\t\t\t\t\t\t`cdc/${prevItem.key}/state_name`\n\t\t\t\t\t],\n\t\t\t\t\t[store.currentLanguage]: locationData.details,\n\t\t\t\t}\n\n\t\t\t\tlocation.info.content.name = locationData.details\n\t\t\t\tconst schedulingPhoneKey = `c19.link/scheduling.phone.${prevItem.value.info.content.metadata.code_alpha}`.toLowerCase()\n\n\t\t\t\tif ('noPhaseLabel' in location.vaccination.content) {\n\t\t\t\t\tlocation.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tlocation.vaccination.content = {\n\t\t\t\t\t\t...location.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibility !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.eligibility) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibility.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.eligibility\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibilityPlan !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.eligibility_plan) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibilityPlan.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.eligibility_plan\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.info !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.info) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.info.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.info.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.info = {\n\t\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\t\ttext: `cdc/${prevItem.key}/state_link`,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.info = {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${prevItem.key}/state_link`,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.info\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.providers !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.providers) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.providers.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.providers.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.providers = {\n\t\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.providers = {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.providers\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.workflow !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.workflow) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.workflow.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.workflow.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.workflow\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.scheduling !== '') {\n\t\t\t\t\tif (location.vaccination.content.links.scheduling) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.scheduling.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete location.vaccination.content.links.scheduling\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tif (location.vaccination.content.links.scheduling_phone) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone.url.toLowerCase() !==\n\t\t\t\t\t\t\t`tel:${locationData.schedulingPhone}`.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone &&\n\t\t\t\t\tlocationData.schedulingPhoneDesc !== ''\n\t\t\t\t) {\n\t\t\t\t\tlet schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${prevItem.value.info.content.metadata.code_alpha}`.toLowerCase()\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t.description\n\t\t\t\t\t) {\n\t\t\t\t\t\tschedulingPhoneDescKey =\n\t\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t\t.description\n\t\t\t\t\t}\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tlocation.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst location = store.repoFileData[selectedState.key]\n\t\t\t\tconst regionObj = location.regions[prevItem.key]\n\t\t\t\tregionObj.info.content.name = locationData.details\n\n\t\t\t\tif ('noPhaseLabel' in regionObj.vaccination.content) {\n\t\t\t\t\tregionObj.vaccination.content.noPhaseLabel = locationData.noPhaseLabel\n\t\t\t\t} else {\n\t\t\t\t\tregionObj.vaccination.content = {\n\t\t\t\t\t\t...regionObj.vaccination.content,\n\t\t\t\t\t\tnoPhaseLabel: locationData.noPhaseLabel,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst schedulingPhoneKey = `c19.link/scheduling.phone.${location.info.content.metadata.code_alpha}.${regionObj.info.content.id}`.toLowerCase()\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibility !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.eligibility) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibility.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility = {\n\t\t\t\t\t\t\turl: locationData.eligibility,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.eligibility\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.eligibilityPlan !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.eligibility_plan) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.eligibilityPlan.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.eligibility_plan = {\n\t\t\t\t\t\t\turl: locationData.eligibilityPlan,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.eligibility_plan\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.info !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.info) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.info.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.info.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.info = {\n\t\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\t\ttext: `cdc/${location.info.content.id}/state_link`,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.info = {\n\t\t\t\t\t\t\turl: locationData.info,\n\t\t\t\t\t\t\ttext: `cdc/${location.info.content.id}/state_link`,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.info\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.providers !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.providers) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.providers.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.providers.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.providers = {\n\t\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.providers = {\n\t\t\t\t\t\t\turl: locationData.providers,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_providers',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.providers\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.workflow !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.workflow) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.workflow.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.workflow.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.workflow = {\n\t\t\t\t\t\t\turl: locationData.workflow,\n\t\t\t\t\t\t\ttext: 'c19.links/vax_quiz',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.workflow\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.scheduling !== '') {\n\t\t\t\t\tif (regionObj.vaccination.content.links.scheduling) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling.url.toLowerCase() !==\n\t\t\t\t\t\t\tlocationData.scheduling.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling = {\n\t\t\t\t\t\t\turl: locationData.scheduling,\n\t\t\t\t\t\t\ttext: 'c19.links/schedule_vax',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete regionObj.vaccination.content.links.scheduling\n\t\t\t\t}\n\n\t\t\t\tif (locationData?.schedulingPhone !== '') {\n\t\t\t\t\tlocation.strings.content[schedulingPhoneKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhone,\n\t\t\t\t\t}\n\t\t\t\t\tif (regionObj.vaccination.content.links.scheduling_phone) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone.url.toLowerCase() !==\n\t\t\t\t\t\t\t`tel:${locationData.schedulingPhone}`.toLowerCase()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone = {\n\t\t\t\t\t\t\turl: `tel:${locationData.schedulingPhone}`,\n\t\t\t\t\t\t\ttext: schedulingPhoneKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone &&\n\t\t\t\t\tlocationData.schedulingPhoneDesc !== ''\n\t\t\t\t) {\n\t\t\t\t\tlet schedulingPhoneDescKey = `c19.link/scheduling.phone.description.${location.info.content.metadata.code_alpha}.${regionObj.info.content.id}`.toLowerCase()\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t.description\n\t\t\t\t\t) {\n\t\t\t\t\t\tschedulingPhoneDescKey =\n\t\t\t\t\t\t\tprevItem.value.vaccination.content.links.scheduling_phone\n\t\t\t\t\t\t\t\t.description\n\t\t\t\t\t}\n\t\t\t\t\tlocation.strings.content[schedulingPhoneDescKey] = {\n\t\t\t\t\t\t...location.strings.content[schedulingPhoneDescKey],\n\t\t\t\t\t\t[store.currentLanguage]: locationData.schedulingPhoneDesc,\n\t\t\t\t\t}\n\n\t\t\t\t\tregionObj.vaccination.content.links.scheduling_phone.description = schedulingPhoneDescKey\n\t\t\t\t}\n\t\t\t}\n\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t}\n\t}\n)\n\nexport const modifyStateStrings = mutatorAction(\n\t'modifyStateStrings',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (!data.item.moreInfoContent) {\n\t\t\t\t\tdelete location.strings.content[data.infoKey]\n\t\t\t\t} else {\n\t\t\t\t\tconst newStringsObj: any = {}\n\t\t\t\t\tnewStringsObj[store.currentLanguage] = data.item.moreInfoContent\n\t\t\t\t\tlocation.strings.content[data.infoKey] = newStringsObj\n\t\t\t\t}\n\n\t\t\t\tif (!data.regionInfo) {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\tif (data.item.moreInfoContent) {\n\t\t\t\t\t\t\taffectedQualifier.moreInfoText = data.infoKey\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdelete affectedQualifier.moreInfoText\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t\t\tmoreInfoText: data.infoKey,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedQualifier.moreInfoText = data.infoKey\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nconst copyPhaseData = (newObj: any, oldObj: any) => {\n\tnewObj.content['phases'] = []\n\toldObj.content.phases.forEach((phase: any) => {\n\t\tconst currPhaseObj: any = {}\n\t\tcurrPhaseObj['id'] = phase.id\n\t\tcurrPhaseObj['qualifications'] = []\n\t\tphase.qualifications.forEach((qual: any) => {\n\t\t\tcurrPhaseObj.qualifications.push({\n\t\t\t\tquestion: qual.question.toLowerCase(),\n\t\t\t\tmoreInfoText: qual.moreInfoText\n\t\t\t\t\t?.replace(/[^a-z0-9._/\\s]/gi, '')\n\t\t\t\t\t.replace(/\\s/g, '_')\n\t\t\t\t\t.toLowerCase(),\n\t\t\t\tmoreInfoUrl: qual.moreInfoUrl,\n\t\t\t})\n\t\t})\n\n\t\tnewObj.content.phases.push(currPhaseObj)\n\t})\n}\n\nexport const modifyMoreInfoLinks = mutatorAction(\n\t'modifyMoreInfoLinks',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tif (affectedPhase) {\n\t\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\t\taffectedQualifier.moreInfoUrl = data.item.moreInfoUrl\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.moreInfoUrl = data.item.moreInfoUrl\n\t\t\t\t\t} else {\n\t\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t\t\tmoreInfoUrl: data.item.moreInfoUrl,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateQualifier = mutatorAction(\n\t'updateQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() === data.oldId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.question = data.item.qualifierId.toLowerCase()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst affectedQualifier = affectedPhase.qualifications.find(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() === data.oldId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (affectedQualifier) {\n\t\t\t\t\t\taffectedQualifier.question = data.item.qualifierId.toLowerCase()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\nexport const addQualifier = mutatorAction(\n\t'addQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\taffectedPhase.qualifications.push({\n\t\t\t\t\t\tquestion: data.item.qualifierId,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\nexport const removeQualifier = mutatorAction(\n\t'removeQualifier',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst affectedPhase = regionVaccinationObj.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst removeIndex = affectedPhase.qualifications.findIndex(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\taffectedPhase.qualifications.splice(removeIndex, 1)\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t} else {\n\t\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t\t(phase: any) => phase.id === data.item.groupId\n\t\t\t\t\t)\n\n\t\t\t\t\tconst removeIndex = affectedPhase.qualifications.findIndex(\n\t\t\t\t\t\t(qualification: any) =>\n\t\t\t\t\t\t\tqualification.question.toLowerCase() ===\n\t\t\t\t\t\t\tdata.item.qualifierId.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\taffectedPhase.qualifications.splice(removeIndex, 1)\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\nexport const removePhase = mutatorAction(\n\t'removePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\t\t\t\t\tconst removeIndex = regionVaccinationObj.content.phases.findIndex(\n\t\t\t\t\t\t(phase: any) => phase.id === data.phaseId\n\t\t\t\t\t)\n\n\t\t\t\t\tregionVaccinationObj.content.phases.splice(removeIndex, 1)\n\t\t\t\t} else {\n\t\t\t\t\tconst removeIndex = location.vaccination.content.phases.findIndex(\n\t\t\t\t\t\t(phase: any) => phase.id === data.phaseId\n\t\t\t\t\t)\n\n\t\t\t\t\tlocation.vaccination.content.phases.splice(removeIndex, 1)\n\t\t\t\t}\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const addPhase = mutatorAction('addPhase', (data: any | undefined) => {\n\tif (data) {\n\t\tconst store = getAppStore()\n\t\tif (store?.repoFileData) {\n\t\t\tstore.pendingChanges = true\n\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\tconst phaseId = formatId(data.item.name)\n\n\t\t\tconst emptyQualifications: any = []\n\n\t\t\tif (!location.vaccination.content.phases) {\n\t\t\t\tlocation.vaccination.content.phases = []\n\t\t\t}\n\n\t\t\tlocation.vaccination.content.phases.push({\n\t\t\t\tid: phaseId,\n\t\t\t\tlabel: data.item.name,\n\t\t\t\tqualifications: emptyQualifications,\n\t\t\t})\n\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t}\n\t}\n})\n\nexport const duplicatePhase = mutatorAction(\n\t'duplicatePhase',\n\t(\n\t\tdata:\n\t\t\t| {\n\t\t\t\t\tname: string\n\t\t\t\t\tlocationKey: string\n\t\t\t\t\tphaseId: string\n\t\t\t\t\tisRegion?: boolean\n\t\t\t\t\tregionInfo?: { key: string }\n\t\t\t  }\n\t\t\t| undefined\n\t) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tconst phaseSource =\n\t\t\t\t\tdata.isRegion &&\n\t\t\t\t\tdata.regionInfo?.key &&\n\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination?.content.phases\n\t\t\t\t\t\t? location.regions[\n\t\t\t\t\t\t\t\tdata.regionInfo.key\n\t\t\t\t\t\t  ].vaccination.content.phases.find(\n\t\t\t\t\t\t\t\t(item: { id: string }) => item.id === data.phaseId\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: location.vaccination.content.phases.find(\n\t\t\t\t\t\t\t\t(item: { id: string }) => item.id === data.phaseId\n\t\t\t\t\t\t  )\n\t\t\t\tconst nextPhaseId = formatId(data.name)\n\n\t\t\t\tconst newItem = {\n\t\t\t\t\tid: nextPhaseId,\n\t\t\t\t\tlabel: data.name,\n\t\t\t\t\tqualifications: phaseSource.qualifications?.map((item: any) => {\n\t\t\t\t\t\tconst newContentKey = item.moreInfoText?.replace(\n\t\t\t\t\t\t\tnew RegExp(data.phaseId + '$'),\n\t\t\t\t\t\t\tnextPhaseId\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (newContentKey) {\n\t\t\t\t\t\t\tlocation.strings.content[newContentKey] =\n\t\t\t\t\t\t\t\tlocation.strings.content[item.moreInfoText]\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tquestion: item.question,\n\t\t\t\t\t\t\tmoreInfoUrl: item.moreInfoUrl,\n\t\t\t\t\t\t\tmoreInfoText: newContentKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t}\n\n\t\t\t\tif (data.isRegion && data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\n\t\t\t\t\tif (!regionVaccinationObj.content?.phases) {\n\t\t\t\t\t\tcopyPhaseData(regionVaccinationObj, location.vaccination)\n\t\t\t\t\t}\n\n\t\t\t\t\tregionVaccinationObj.content.phases.push(newItem)\n\t\t\t\t} else {\n\t\t\t\t\t// State level region phase\n\t\t\t\t\tlocation.vaccination.content.phases.push(newItem)\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updatePhase = mutatorAction(\n\t'updatePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\t\t\t\tconst phaseId = data.item.phaseId\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(' (active)', '')\n\t\t\t\t\t.trim()\n\n\t\t\t\tconst affectedPhase = location.vaccination.content.phases.find(\n\t\t\t\t\t(phase: any) => phase.id === phaseId\n\t\t\t\t)\n\n\t\t\t\taffectedPhase.label = data.item.name\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const setActivePhase = mutatorAction(\n\t'setActivePhase',\n\t(data: any | undefined) => {\n\t\tif (data) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst location = store.repoFileData[data.locationKey]\n\n\t\t\t\tif (data.regionInfo) {\n\t\t\t\t\tconst regionVaccinationObj =\n\t\t\t\t\t\tlocation.regions[data.regionInfo.key].vaccination\n\t\t\t\t\tregionVaccinationObj.content['activePhase'] = data.phaseId\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t} else {\n\t\t\t\t\tlocation.vaccination.content['activePhase'] = data.phaseId\n\t\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const updateGlobalQualifiers = mutatorAction(\n\t'updateGlobalQualifiers',\n\t(item: any | undefined) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tconst { customStrings } = store.globalFileData\n\t\t\tstore.pendingChanges = true\n\t\t\tlet qualifierKey = ''\n\n\t\t\tif (item.isNew) {\n\t\t\t\tconst qualifierKeyBank = item.qualifier\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(/[^A-Za-z0-9]/g, '_')\n\t\t\t\t\t.split('_')\n\t\t\t\t\t.filter((i: string) => i) as string[]\n\n\t\t\t\tconst customStringKeys = Object.keys(customStrings.content)\n\n\t\t\t\tlet qKey = ''\n\t\t\t\tfor (let i = 0; i < qualifierKeyBank.length; i++) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tqKey = qualifierKeyBank[0]\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqKey = `${qKey}_${qualifierKeyBank[i]}`\n\t\t\t\t\t}\n\t\t\t\t\tqualifierKey = `c19.eligibility.question/${item.tagKey.toLowerCase()}.${qKey}`\n\n\t\t\t\t\tif (!customStringKeys.includes(qualifierKey)) {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tqualifierKey = qualifierKey.endsWith('_')\n\t\t\t\t\t? qualifierKey.substr(0, qualifierKey.length - 1)\n\t\t\t\t\t: qualifierKey\n\t\t\t} else {\n\t\t\t\tqualifierKey = item.key\n\t\t\t}\n\n\t\t\tstore.globalFileData.customStrings.content[qualifierKey] = {\n\t\t\t\t...store.globalFileData.customStrings.content[qualifierKey],\n\t\t\t\t[store.currentLanguage]: item.qualifier,\n\t\t\t}\n\n\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t}\n\t}\n)\n\nexport const translateLocationName = mutatorAction(\n\t'translateLocationName',\n\t(item: any) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (store.globalFileData.cdcStateNames.content[item.key]) {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content[item.key] = {\n\t\t\t\t\t\t...store.globalFileData.cdcStateNames.content[item.key],\n\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content = {\n\t\t\t\t\t\t...store.globalFileData.cdcStateNames.content,\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const translateQualifier = mutatorAction(\n\t'translateQualifier',\n\t(item: any) => {\n\t\tif (item) {\n\t\t\tconst store = getAppStore()\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (store.globalFileData.customStrings.content[item.key]) {\n\t\t\t\t\tstore.globalFileData.customStrings.content[item.key] = {\n\t\t\t\t\t\t...store.globalFileData.customStrings.content[item.key],\n\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstore.globalFileData.customStrings.content = {\n\t\t\t\t\t\t...store.globalFileData.customStrings.content,\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n)\n\nexport const translateMisc = mutatorAction('translateMisc', (item: any) => {\n\tif (item) {\n\t\tconst store = getAppStore()\n\t\tif (item.category === 'state' && item.parent !== 'global') {\n\t\t\tif (store?.repoFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tif (\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][item.toKey]\n\t\t\t\t) {\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][\n\t\t\t\t\t\titem.toKey\n\t\t\t\t\t] = item.to\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][\n\t\t\t\t\t\t`${item.toKey}-sms`\n\t\t\t\t\t] = item.sms\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key][\n\t\t\t\t\t\t`${item.toKey}-voice`\n\t\t\t\t\t] = item.voice\n\t\t\t\t} else {\n\t\t\t\t\tstore.repoFileData[item.parent].strings.content[item.key] = {\n\t\t\t\t\t\t...store.repoFileData[item.parent].strings.content[item.key],\n\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.repoFileData = { ...store.repoFileData }\n\t\t\t}\n\t\t} else {\n\t\t\tif (store?.globalFileData) {\n\t\t\t\tstore.pendingChanges = true\n\t\t\t\tconst customStringKeys = Object.keys(\n\t\t\t\t\tstore.globalFileData.customStrings.content\n\t\t\t\t)\n\t\t\t\tconst isCustomString = customStringKeys.includes(item.key)\n\n\t\t\t\tif (isCustomString) {\n\t\t\t\t\tif (store.globalFileData.customStrings.content[item.key]) {\n\t\t\t\t\t\tstore.globalFileData.customStrings.content[item.key] = {\n\t\t\t\t\t\t\t...store.globalFileData.customStrings.content[item.key],\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.globalFileData.customStrings.content = {\n\t\t\t\t\t\t\t...store.globalFileData.customStrings.content,\n\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (store.globalFileData.cdcStateLinks.content[item.key]) {\n\t\t\t\t\t\tstore.globalFileData.cdcStateLinks.content[item.key] = {\n\t\t\t\t\t\t\t...store.globalFileData.cdcStateLinks.content[item.key],\n\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstore.globalFileData.cdcStateLinks.content = {\n\t\t\t\t\t\t\t...store.globalFileData.cdcStateLinks.content,\n\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t[item.key]: {\n\t\t\t\t\t\t\t\t\t[item.toKey]: item.to,\n\t\t\t\t\t\t\t\t\t[`${item.toKey}-sms`]: item.sms,\n\t\t\t\t\t\t\t\t\t[`${item.toKey}-voice`]: item.voice,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t\t}\n\t\t}\n\t}\n})\n\nconst recursiveFindAndReplace = (key: string, saveObj: any, location: any) => {\n\tif (\n\t\tlocation.strings &&\n\t\tlocation.strings.content &&\n\t\tlocation.strings.content[key]\n\t) {\n\t\tlocation.strings.content[key] = saveObj\n\t\treturn\n\t}\n\tif (location.regions && location.regions.length > 0) {\n\t\tlocation.regions.forEach((region: any) => {\n\t\t\trecursiveFindAndReplace(key, saveObj, region)\n\t\t})\n\t}\n}\n\nexport const updateStrings = mutatorAction(\n\t'udpateStrings',\n\t(stringsList: any) => {\n\t\tif (stringsList) {\n\t\t\tconst store = getAppStore()\n\t\t\tstore.pendingChanges = true\n\t\t\tObject.keys(stringsList).forEach((stringId: string) => {\n\t\t\t\tif (store.globalFileData.customStrings.content[stringId]) {\n\t\t\t\t\tstore.globalFileData.customStrings.content[stringId] =\n\t\t\t\t\t\tstringsList[stringId]\n\t\t\t\t} else if (store.globalFileData.cdcStateLinks.content[stringId]) {\n\t\t\t\t\tstore.globalFileData.cdcStateLinks.content[stringId] =\n\t\t\t\t\t\tstringsList[stringId]\n\t\t\t\t} else if (store.globalFileData.cdcStateNames.content[stringId]) {\n\t\t\t\t\tstore.globalFileData.cdcStateNames.content[stringId] =\n\t\t\t\t\t\tstringsList[stringId]\n\t\t\t\t} else {\n\t\t\t\t\tfor (const item of Object.keys(store.repoFileData)) {\n\t\t\t\t\t\tconst location = store.repoFileData[item]\n\t\t\t\t\t\tif (JSON.stringify(location).includes(stringId)) {\n\t\t\t\t\t\t\trecursiveFindAndReplace(stringId, stringsList[stringId], location)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tstore.globalFileData = { ...store.globalFileData }\n\t\t}\n\t}\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n import {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tIColumn,\n\tFontIcon,\n\tDialog,\n\tDialogType,\n\tDialogFooter,\n\tPrimaryButton,\n\tDefaultButton,\n\tCallout\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useCallback } from 'react'\nimport { initializeGitData, loadPR, loadBranch } from '../actions/repoActions'\nimport { getAppStore } from '../store/store'\n\nimport './Dashboard.scss'\n\nexport default observer(function Dashboard() {\n\n\tconst state = getAppStore()\n\n\tconst [prList, setPRList] = useState<any[]>([])\n\tconst [issueList, setIssueList] = useState<any[]>([])\n\tconst [hideDialog, { toggle: toggleHideDialog }] = useBoolean(true);\n\tconst [noteKeys, setNoteKeys] = useState<any>([])\n\n\tuseEffect(() => {\n\t\tif(state.issues){\n\t\t\tconst tempPRList:any = [];\n\t\t\tconst tempIssueList:any = [];\n\t\t\tstate.issues.forEach( (item:any) => {\n\n\t\t\t\tconst requestUpdate:Date = new Date(item.updated_at);\n\t\t\t\tconst isScrappedIssue = item.labels.some( (x:any) => x.name.toLowerCase() === \"scrapped changes\" )\n\n\t\t\t\tif(item.pull_request){\n\t\t\t\t\ttempPRList.push({ title:item.title, author:item.user.login, update:requestUpdate.toLocaleString(), action:item});\n\t\t\t\t}\n\t\t\t\telse if (isScrappedIssue){\n\t\t\t\t\ttempIssueList.push({ title:item.title, author:item.user.login, update:requestUpdate.toLocaleString(), action:item});\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tsetPRList(tempPRList);\n\t\t\tsetIssueList(tempIssueList);\n\t\t}\n\t},[state.issues])\n\n\tconst onIssueActionRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\n\t\treturn (<a className=\"tableActionLink\" href={item?.action?.html_url} target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\tView</a>)\n\n\t};\n\n\n\tconst onPRActionRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\t\tconst disabled = state.loadedPRData?.number === item?.action.number\n\t\treturn (\n\t\t\t<div className=\"actionsColumn\">\n\t\t\t\t<a className=\"tableActionLink\" href={item?.action?.html_url} target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t/>\n\t\t\t\t\tApprove\n\t\t\t\t</a>\n\t\t\t\t<div className={`loadPRButton ${disabled ? 'disabled': ''}`} onClick={() => loadPR(item.action.number)}>\n\t\t\t\t\t<FontIcon iconName=\"DrillDownSolid\"/>Load PR\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\n\t}\n\n\tconst onBranchActionRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\t\tconst disabled = state.userWorkingBranch === item?.name\n\n\t\treturn (\n\t\t\t<div className=\"actionsColumn\">\n\t\t\t\t<div className={`loadPRButton ${disabled ? 'disabled': ''}`} onClick={() => loadBranch(item)}>\n\t\t\t\t\t<FontIcon iconName=\"DrillDownSolid\"/>Load Branch\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\t};\n\n\tconst toggleCallout = useCallback((id: number) => {\n\t\tconst tempItems = [...noteKeys]\n\t\tconst index = tempItems.indexOf(id)\n\t\tif (index > -1) {\n\t\t\ttempItems.splice(index, 1)\n\t\t} else {\n\t\t\ttempItems.push(id)\n\t\t}\n\n\t\tsetNoteKeys(tempItems)\n\t},[noteKeys])\n\n\n\tconst onPRNotesRender =  (item?: any, index?: number, column?: IColumn) =>  {\n\t\tif (!item.action.body) {\n\t\t\treturn null\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<FontIcon\n\t\t\t\t\tclassName={`infoButton pr-${item.action.number}`}\n\t\t\t\t\ticonName=\"InfoSolid\"\n\t\t\t\t\tonClick={() => toggleCallout(item.action.number)}\n\t\t\t\t/>\n\t\t\t\t{noteKeys.includes(item.action.number) && (\n\t\t\t\t\t<Callout\n\t\t\t\t\t\tonDismiss={() => toggleCallout(item.action.number)}\n\t\t\t\t\t\ttarget={`.infoButton.pr-${item.action.number}`}\n\t\t\t\t\t\tgapSpace={4}\n\t\t\t\t\t\tsetInitialFocus={true}\n\t\t\t\t\t\trole=\"alertDialog\"\n\t\t\t\t\t\tclassName=\"infoCallout\"\n\t\t\t\t\t\tdirectionalHint={5}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"infoCalloutBody\">\n\t\t\t\t\t\t\t<div className=\"infoHeader\">Notes</div>\n\t\t\t\t\t\t\t<div className=\"infoBody\">\n\t\t\t\t\t\t\t\t{item.action.body}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t</>\n\t\t)\n\t};\n\n\tconst onBranchCreatedDateRender = (item: any) => {\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t{new Date(parseInt(item.name.split('-policy-')[1])).toLocaleString()}\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst prColumns = [\n\t\t{\n\t\t\tkey: 'titleCol',\n\t\t\tname: 'Title',\n\t\t\tfieldName: 'title',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'notesCol',\n\t\t\tname: 'Notes',\n\t\t\tfieldName: 'notes',\n\t\t\tminWidth: 100,\n\t\t\tisResizable: true,\n\t\t\tonRender: onPRNotesRender\n\t\t},\n\t\t{\n\t\t\tkey: 'authorCol',\n\t\t\tname: 'Author',\n\t\t\tfieldName: 'author',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'updateCol',\n\t\t\tname: 'Last Update',\n\t\t\tfieldName: 'update',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel:'Actions Column',\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onPRActionRender\n\t\t},\n\t];\n\n\tconst issueColumns = [\n\t\t{\n\t\t\tkey: 'titleCol',\n\t\t\tname: 'Title',\n\t\t\tfieldName: 'title',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'authorCol',\n\t\t\tname: 'Author',\n\t\t\tfieldName: 'author',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'updateCol',\n\t\t\tname: 'Last Update',\n\t\t\tfieldName: 'update',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel:'Actions Column',\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onIssueActionRender\n\t\t},\n\t];\n\t\n\tconst userWorkingBranchColumns = [\n\t\t{\n\t\t\tkey: 'branchName',\n\t\t\tname: 'Branch Name',\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'createdCol',\n\t\t\tname: 'Created On',\n\t\t\tfieldName: 'createdOn',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onBranchCreatedDateRender\n\t\t},\n\t\t{\n\t\t\tkey: 'actionCol',\n\t\t\tname: '',\n\t\t\tariaLabel:'Actions Column',\n\t\t\tfieldName: 'action',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t\tonRender: onBranchActionRender\n\t\t},\n\t];\n\n\tconst refreshData = useCallback(() => {\n\t\tinitializeGitData()\n\t\ttoggleHideDialog()\n\t},[toggleHideDialog])\n\n\tconst onRefreshDataClick = useCallback(() => {\n\t\tif (state.pendingChanges) {\n\t\t\ttoggleHideDialog()\n\t\t} else {\n\t\t\tinitializeGitData()\n\t\t}\n\t},[state.pendingChanges, toggleHideDialog])\n\n\treturn (\n\t\t<div className=\"dashboardPageWrapper\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ Dashboard</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">Dashboard</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{!state.isDataRefreshing ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"refreshRow\">\n\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"refreshDataHeaderButton\"\n\t\t\t\t\t\t\t\tonClick={onRefreshDataClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName=\"Refresh\"\n\t\t\t\t\t\t\t\t\tclassName=\"refreshIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\tRefresh Data\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sectionHeader\">Working Branches</div>\n\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={state.userWorkingBranches}\n\t\t\t\t\t\t\tcolumns={userWorkingBranchColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !state.userWorkingBranches.length && (\n\t\t\t\t\t\t\t<div style={{textAlign:\"center\"}}>No working branches at this time.</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sectionHeader\">Pending PRs</div>\n\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={prList}\n\t\t\t\t\t\t\tcolumns={prColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !prList.length && (\n\t\t\t\t\t\t\t<div style={{textAlign:\"center\"}}>No pending PRs at this time.</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sectionHeader\">Location Updates</div>\n\t\t\t\t\t\t<div className=\"sectionContent\">\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={issueList}\n\t\t\t\t\t\t\tcolumns={issueColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !issueList.length && (\n\t\t\t\t\t\t\t<div style={{textAlign:\"center\"}}>No pending location updates at this time.</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>):(\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<ProgressIndicator description=\"Loading content...\" />\n\t\t\t\t\t</section>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Dialog\n\t\t\t\thidden={hideDialog}\n\t\t\t\tonDismiss={toggleHideDialog}\n\t\t\t\tdialogContentProps={{\n\t\t\t\t\ttype: DialogType.normal,\n\t\t\t\t\tcloseButtonAriaLabel: 'Close',\n\t\t\t\t\ttitle: 'Refresh Data'\n\t\t\t\t}}\n\t\t\t\tmodalProps={{isBlocking: false}}\n\t\t\t>\n\t\t\t<div className=\"dialogBodyText\">You have pending changes in the review tab to be submitted, refreshing the data will revert those changes.<br/><br/>Do you want to proceed?</div>\n\t\t\t<DialogFooter>\n\t\t\t\t<PrimaryButton onClick={refreshData} text=\"Ok\" />\n\t\t\t\t<DefaultButton onClick={toggleHideDialog} text=\"Cancel\" />\n\t\t\t\t</DialogFooter>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { FC, memo } from 'react'\n\nconst CONTACT_EMAIL = process.env.REACT_APP_CONTACT_US_EMAIL\nconst CODE_OF_CONDUCT_URL = process.env.REACT_APP_CODE_OF_CONDUCT_URL\n\nexport const Footer: FC = memo(function Footer() {\n\treturn (\n\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\n\t\t\t<div className=\"appFooterRow\">\n\t\t\t\t<Link href=\"https://go.microsoft.com/fwlink/?LinkId=521839\">\n\t\t\t\t\tPrivacy &amp; Cookies\n\t\t\t\t</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link href={`mailto:${CONTACT_EMAIL}`}>Contact Us</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link href={CODE_OF_CONDUCT_URL}>Code of Conduct</Link>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n\nconst Link: FC<{\n\thref?: string\n}> = memo(function Link({ children, href }) {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"div\"\n\t\t\tstyle={{\n\t\t\t\tcursor: 'pointer',\n\t\t\t\tmarginLeft: 15,\n\t\t\t\tmarginRight: 15,\n\t\t\t\tdisplay: 'flex',\n\t\t\t\talignContent: 'center',\n\t\t\t}}\n\t\t\tonClick={() => href && window.open(href, '_blank')}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { PrimaryButton, DefaultButton } from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\n\nimport './LocationForm.scss'\n\nexport default observer(function DeleteLocationForm(props: any) {\n\tconst { onSubmit, onCancel, location } = props\n\t\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">Remove Location</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<p>\n\t\t\t\t\t\tAre you sure you would like to remove <strong>{location.text ?? location.name}</strong>?\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext=\"Remove Location\"\n\t\t\t\t\tonClick={() => onSubmit?.(location)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton text=\"Cancel\" onClick={() => onCancel?.()} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\n\nexport const getStateCustomStrings = (\n\tselectedState: any,\n\tkeyFilter: string\n): string => {\n\tconst returnVal = getCustomStrings(selectedState.value, keyFilter)\n\tif (returnVal.length > 0) return returnVal[0].text\n\n\treturn ''\n}\n\nexport const getRegionCustomStrings = (\n\tselectedRegion: any,\n\tkeyFilter: string\n): string => {\n\tconst { repoFileData } = getAppStore()\n\tconst selectedState =\n\t\trepoFileData?.[selectedRegion.value.info.path.split('/')[0]]\n\n\tconst returnVal = getCustomStrings(selectedState, keyFilter)\n\tif (returnVal.length > 0) return returnVal[0].text\n\n\treturn ''\n}\n\nconst getCustomStrings = (selectedState: any, keyFilter: string): any[] => {\n\tconst { globalFileData, currentLanguage } = getAppStore()\n\n\tconst customStringsList: any[] = selectedState\n\t\t? [\n\t\t\t\t...Object.entries(selectedState?.strings?.content ?? {}),\n\t\t\t\t...Object.entries(globalFileData.customStrings.content),\n\t\t  ]\n\t\t: [...Object.entries(globalFileData.customStrings.content)]\n\tconst filteredList = keyFilter\n\t\t? customStringsList.filter(([key, _value]: [string, any]) =>\n\t\t\t\tkey.includes(keyFilter.toLowerCase())\n\t\t  )\n\t\t: customStringsList\n\n\treturn filteredList.map(([key, value]: [string, any]) => {\n\t\treturn {\n\t\t\tkey: key,\n\t\t\ttext: value[currentLanguage],\n\t\t}\n\t})\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n\tDefaultButton,\n\tTextField,\n\tDropdown,\n\tIDropdownOption,\n\tCheckbox\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport {\n\tgetStateCustomStrings,\n\tgetRegionCustomStrings,\n} from '../selectors/locationSelectors'\n\nimport './LocationForm.scss'\n\nexport interface LocationFormProp {\n\titem?: any\n\tonSubmit?: (locationData: any, prevItem: any) => void\n\tonCancel?: () => void\n\tisRegion?: boolean\n}\n\nconst setInitialData = (item?: any, isRegion?: boolean) => {\n\tconst getStrings = (item: any, keyFilter: string, isRegion?: boolean) => {\n\t\treturn isRegion\n\t\t\t? getRegionCustomStrings(item, keyFilter)\n\t\t\t: getStateCustomStrings(item, keyFilter)\n\t}\n\n\tif (item) {\n\t\tconst { info, vaccination } = item?.value || {}\n\t\tconst {\n\t\t\tinfo: vacInfo,\n\t\t\tscheduling_phone,\n\t\t\teligibility_plan,\n\t\t\tworkflow,\n\t\t\tscheduling,\n\t\t\tproviders,\n\t\t\teligibility,\n\t\t} = vaccination?.content?.links || {}\n\n\t\treturn {\n\t\t\tdetails: info.content.name,\n\t\t\tregionType: info.content.type,\n\t\t\tinfo: vacInfo?.url || '',\n\t\t\tworkflow: workflow?.url || '',\n\t\t\tscheduling: scheduling?.url || '',\n\t\t\tproviders: providers?.url || '',\n\t\t\teligibility: eligibility?.url || '',\n\t\t\teligibilityPlan: eligibility_plan?.url || '',\n\t\t\tschedulingPhone: scheduling_phone?.text\n\t\t\t\t? getStrings(item, scheduling_phone.text, isRegion)\n\t\t\t\t: '',\n\t\t\tschedulingPhoneDesc: scheduling_phone?.description\n\t\t\t\t? getStrings(item, scheduling_phone.description, isRegion)\n\t\t\t\t: '',\n\t\t\tnoPhaseLabel: vaccination.content?.noPhaseLabel || false\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\tdetails: '',\n\t\t\tregionType: '',\n\t\t\tinfo: '',\n\t\t\tworkflow: '',\n\t\t\tscheduling: '',\n\t\t\tproviders: '',\n\t\t\teligibility: '',\n\t\t\teligibilityPlan: '',\n\t\t\tschedulingPhone: '',\n\t\t\tschedulingPhoneDesc: '',\n\t\t\tnoPhaseLabel: false\n\t\t}\n\t}\n}\n\nexport default observer(function LocationForm(props: LocationFormProp) {\n\tconst { onSubmit, onCancel, item, isRegion } = props\n\tconst [formData, setFormData] = useState<any>(setInitialData(item, isRegion))\n\tconst fieldChanges = useRef<any>(formData)\n\tconst regionTypeOptions = [\n\t\t{\n\t\t\tkey: 'state',\n\t\t\ttext: 'State',\n\t\t},\n\t\t{\n\t\t\tkey: 'territory',\n\t\t\ttext: 'Territory',\n\t\t},\n\t\t{\n\t\t\tkey: 'tribal_land',\n\t\t\ttext: 'Tribal land',\n\t\t},\n\t\t{\n\t\t\tkey: 'county',\n\t\t\ttext: 'County',\n\t\t},\n\t\t{\n\t\t\tkey: 'city',\n\t\t\ttext: 'City',\n\t\t},\n\t].filter((region) => (isRegion ? region.key !== 'state' : true))\n\n\tconst baseTitle = isRegion ? 'sublocation' : 'location'\n\tconst formTitle = item ? `Edit ${baseTitle}` : `Add new ${baseTitle}`\n\n\tconst handleRegionChange = useCallback(\n\t\t(_ev: any, item?: IDropdownOption) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\tregionType: item?.key,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst onNoLabelChange = useCallback(\n\t\t(_ev: any, checked?: boolean) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\tnoPhaseLabel: checked,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t[formData, fieldChanges])\n\n\tconst canSubmit = useCallback(() => {\n\t\treturn formData.details !== '' && formData.regionType !== ''\n\t}, [formData])\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{formTitle}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<div className=\"detailsGroup\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Details\"\n\t\t\t\t\t\tname=\"details\"\n\t\t\t\t\t\tvalue={formData.details}\n\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tselectedKey={formData.regionType}\n\t\t\t\t\t\tplaceholder=\"Region type\"\n\t\t\t\t\t\toptions={regionTypeOptions}\n\t\t\t\t\t\tonChange={handleRegionChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"General information link for the region:\"\n\t\t\t\t\tname=\"info\"\n\t\t\t\t\tvalue={formData.info}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Link to an existing eligibility workflow tool:\"\n\t\t\t\t\tname=\"workflow\"\n\t\t\t\t\tvalue={formData.workflow}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Appointment registration scheduler:\"\n\t\t\t\t\tname=\"scheduling\"\n\t\t\t\t\tvalue={formData.scheduling}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"List of scheduling providers and locations:\"\n\t\t\t\t\tname=\"providers\"\n\t\t\t\t\tvalue={formData.providers}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Eligibility criteria about the current phase:\"\n\t\t\t\t\tname=\"eligibility\"\n\t\t\t\t\tvalue={formData.eligibility}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Documentation describing the rollout phases in detail:\"\n\t\t\t\t\tname=\"eligibilityPlan\"\n\t\t\t\t\tvalue={formData.eligibilityPlan}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"A scheduling hotline:\"\n\t\t\t\t\tname=\"schedulingPhone\"\n\t\t\t\t\tvalue={formData.schedulingPhone}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Description of scheduling hotline:\"\n\t\t\t\t\tname=\"schedulingPhoneDesc\"\n\t\t\t\t\tvalue={formData.schedulingPhoneDesc}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<Checkbox\n\t\t\t\t\tlabel=\"No phase label\"\n\t\t\t\t\tchecked={formData.noPhaseLabel}\n\t\t\t\t\tonChange={onNoLabelChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext=\"Submit\"\n\t\t\t\t\tdisabled={!canSubmit()}\n\t\t\t\t\tonClick={() => onSubmit?.(formData, item)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton text=\"Cancel\" onClick={() => onCancel?.()} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n    DefaultButton,\n    TextField\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport { getAppStore } from '../store/store'\nimport { formatId } from '../utils/textUtils'\n\nimport './LocationForm.scss'\n\nexport interface PhaseFormProp {\n    item?: any\n    selectedState?: any\n    onSubmit?: (phaseData: any) => void\n    onCancel?: () => void\n    duplicate?: boolean,\n    isRegion?: boolean\n    regionInfo?: any\n}\n\nconst setInitialData = (item: any) => {\n    if (item) {\n        return {\n            phaseId: item.keyId,\n            name: item.name.includes(' (active)') ? item.name.replace(' (active)','') : item.name,\n            isActive: item.keyId.includes(' (active)')\n        }\n    } else {\n        return {\n            phaseId: null,\n            name: '',\n            isActive: false\n        }\n    }\n}\n\nexport default observer(function PhaseForm(props: PhaseFormProp) {\n    const { onSubmit, onCancel, item, duplicate=false, selectedState, isRegion, regionInfo } = props\n    const [formData, setFormData] = useState<any>(setInitialData(item))\n\tconst [hasError, setHasError] = useState<boolean>(false)\n\tconst { repoFileData } = getAppStore()\n    const fieldChanges = useRef<any>(formData)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst isDuplicate = useCallback(() => {\n            if(!duplicate)\n                return ''\n\n            const location = repoFileData[selectedState.key]\n            const nextPhaseId = formatId(formData.name);\n\t\t    const nameExists = (isRegion && regionInfo?.key && location.regions[regionInfo.key].vaccination?.content.phases && \n                !!location.regions[regionInfo.key].vaccination.content.phases.find((item: {id: string}) => item.id === nextPhaseId)) ||\n                !!location.vaccination.content.phases.find((item: {id: string}) => item.id === nextPhaseId)\n\n\t\t\tif (nameExists) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn 'Phase is too similar to one already in use, please revise.'\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[repoFileData, setHasError, duplicate, formData?.name, selectedState?.key, isRegion, regionInfo?.key]\n\t)\n\n\tconst disableSubmit = useCallback((): boolean => {\n\t\treturn hasError || formData.name === ''\n\t}, [formData, hasError])\n\n\n\tconst formTitle = duplicate ? 'Duplicate Phase' : item ? 'Edit Phase' : 'New Phase'\n\n    return (\n        <div className=\"modalWrapper\">\n            <div className=\"modalHeader\">\n                <div className=\"title\">{formTitle}</div>\n            </div>\n            <div className=\"modalBody\">\n                <TextField\n                    label=\"Phase Name:\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleTextChange}\n\t\t\t\t\tonGetErrorMessage={isDuplicate}\n                />\n            </div>\n            <div className=\"modalFooter\">\n                <PrimaryButton text=\"Submit\" disabled={disableSubmit()} onClick={() => onSubmit?.(formData)} />\n                <DefaultButton text=\"Cancel\" onClick={() => onCancel?.()}/>\n            </div>\n        </div>\n    )\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\n\nexport const getPhaseQualifierItems = (selectedState?: any) => {\n    return getCustomStrings(selectedState, 'eligibility.question')\n}\n\nexport const getPhaseQualifierItemsByKey = (selectedState?: any, selectedKey?: any) => {\n    return getPhaseQualifierItems(selectedState).filter(qualifier => {\n        return qualifier.key.startsWith(`c19.eligibility.question/${selectedKey}.`) || qualifier.key.endsWith(`c19.eligibility.question/${selectedKey}`)\n    })\n}\n\nexport const getPhaseTagItems = (selectedState?: any) => {\n    const phaseQualifiers = getPhaseQualifierItems(selectedState);\n\n    const tagKeys: any[] = []\n    const tagList: any[] = []\n    phaseQualifiers.forEach(qualifier => {\n        const baseKey = qualifier.key.split('/')\n        const tagKey = baseKey[1].split('.')[0];\n\n        if (!tagKeys.includes(tagKey)) {\n            tagKeys.push(tagKey)\n            tagList.push({\n                key: tagKey,\n                text: toProperCase(tagKey)\n            })\n        }\n    })\n\n    return tagList.sort((a,b) => (a.text > b.text) ? 1 : -1)\n}\n\nexport const getPhaseMoreInfoItems = (selectedState?: any) => {\n    return getCustomStrings(selectedState, 'eligibility.moreinfo')\n}\n\nexport const getPhaseMoreInfoTextByKey = (selectedState?: any, selectedKey?: any) => {\n    if (selectedKey) {\n        const res = getExactCustomStrings(selectedState, selectedKey)\n        if (res.length > 0) {\n            return res[0].text\n        }\n    }\n\n    return ''\n}\nexport const getPhaseMoreInfoUrl = (isRegion:boolean, rowItems:any) => {\n        if(isRegion){\n        const regionPhases = rowItems.item.location.value.vaccination.content.phases\n        const currPhase = regionPhases?.find((phase: { id: any }) => phase.id === rowItems.item.groupId)\n        if (currPhase){\n            const currQualification = currPhase?.qualifications.find((qualification: { question: any }) => qualification.question === rowItems.item.qualifierId)\n            if (currQualification) {\n                return currQualification.moreInfoUrl \n            }\n        }\n        }\n        return rowItems.item.moreInfoUrl\n    }\nconst getCustomStrings = (selectedState?: any, keyFilter?: string) => {\n    const { globalFileData, currentLanguage } = getAppStore();\n    const qualifierList: any[] = selectedState\n        ? [...Object.entries(selectedState.value?.strings?.content ?? {}), ...Object.entries(globalFileData.customStrings.content)]\n        : [...Object.entries(globalFileData.customStrings.content)]\n\n    const filteredList = keyFilter ? qualifierList.filter(([key, _value]:[string, any]) => key.includes(keyFilter)) : qualifierList\n    return filteredList\n        .map(([key, value]:[string, any]) => {\n            return {\n                key: key,\n                text: value[currentLanguage]\n            }\n        })\n        .sort((a,b) => (a.text > b.text) ? 1 : -1)\n}\n\nconst getExactCustomStrings = (selectedState?: any, keyFilter?: string) => {\n    const { globalFileData, currentLanguage } = getAppStore();\n    const qualifierList: any[] = selectedState\n        ? [...Object.entries(selectedState.value?.strings?.content ?? {}), ...Object.entries(globalFileData.customStrings.content)]\n        : [...Object.entries(globalFileData.customStrings.content)]\n\n    const filteredList = keyFilter ? qualifierList.filter(([key, _value]:[string, any]) => key.toLowerCase() === keyFilter) : qualifierList\n    return filteredList\n        .map(([key, value]:[string, any]) => {\n            return {\n                key: key,\n                text: value[currentLanguage]\n            }\n        })\n        .sort((a,b) => (a.text > b.text) ? 1 : -1)\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tIconButton,\n\tDropdown,\n\tDirectionalHint,\n\tTextField,\n\tFontIcon,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useState, useRef, useEffect } from 'react'\nimport {\n\tgetPhaseTagItems,\n\tgetPhaseQualifierItems,\n\tgetPhaseMoreInfoTextByKey,\n\tgetPhaseQualifierItemsByKey,\n\tgetPhaseMoreInfoUrl,\n} from '../selectors/phaseSelectors'\nimport { getAppStore } from '../store/store'\n\nimport './PhaseQualifierForm.scss'\nexport interface PhaseQualifierFormProps {\n\tselectedState: any\n\trowItems: any\n\tisEditable: boolean\n\tisRegion: boolean\n\tgroupKey: string\n\tonRowItemRemove?: (item: any, groupKey: any) => void\n\tonRowItemTextChange: (item: any, prevItem: any) => void\n\tonRowItemQualifierChange: (item: any, prevItem: any) => void\n}\n\nexport default observer(function PhaseQualiferForm(\n\tprops: PhaseQualifierFormProps\n) {\n\tconst {\n\t\tselectedState,\n\t\trowItems,\n\t\tisEditable,\n\t\tisRegion,\n\t\tonRowItemRemove,\n\t\tonRowItemTextChange,\n\t\tonRowItemQualifierChange,\n\t\tgroupKey,\n\t} = props\n\tconst phaseTagItems = useRef(getPhaseTagItems(selectedState))\n\tconst phaseQualifierItems = useRef(getPhaseQualifierItems(selectedState))\n\tconst [filteredQualifierItems, setFilteredQualifierItems] = useState<any[]>(\n\t\tgetPhaseQualifierItemsByKey(selectedState, rowItems.item.tagKey)\n\t)\n\n\tconst { globalFileData, repoFileData } = getAppStore()\n\n\tlet overrideIconFlag = false\n\tlet moreInfoKey = rowItems.item.moreInfoKey\n\tif (isRegion) {\n\t\tconst regionPhases = rowItems.item.location.value.vaccination.content.phases\n\t\tconst currPhase = regionPhases?.find(\n\t\t\t(phase: { id: any }) => phase.id === rowItems.item.groupId\n\t\t)\n\t\tif (currPhase) {\n\t\t\tconst currQualification = currPhase?.qualifications.find(\n\t\t\t\t(qualification: { question: any }) =>\n\t\t\t\t\tqualification.question === rowItems.item.qualifierId\n\t\t\t)\n\t\t\tif (currQualification) {\n\t\t\t\toverrideIconFlag = true\n\t\t\t\tmoreInfoKey = currQualification.moreInfoText\n\t\t\t}\n\t\t}\n\t}\n\n\tconst [moreInfoText, setMoreInfoText] = useState<string>(\n\t\tgetPhaseMoreInfoTextByKey(selectedState, moreInfoKey)\n\t)\n\n\tconst [moreInfoUrl, setMoreInfoUrl] = useState<string>(\n\t\tgetPhaseMoreInfoUrl(isRegion, rowItems)\n\t)\n\n\tconst changedItem = useRef<any>(rowItems.item)\n\tchangedItem.current.moreInfoContent = moreInfoText\n\n\tuseEffect(() => {\n\t\tif (globalFileData) {\n\t\t\tphaseQualifierItems.current = getPhaseQualifierItems(selectedState)\n\t\t\tsetFilteredQualifierItems(\n\t\t\t\tgetPhaseQualifierItemsByKey(selectedState, rowItems.item.tagKey)\n\t\t\t)\n\t\t}\n\t}, [\n\t\tglobalFileData,\n\t\trepoFileData,\n\t\tphaseQualifierItems,\n\t\tselectedState,\n\t\trowItems,\n\t])\n\n\tconst onTagChange = useCallback(\n\t\t(_event, option) => {\n\t\t\tsetFilteredQualifierItems(\n\t\t\t\tphaseQualifierItems.current.filter(\n\t\t\t\t\t(q) => q.key.split('/')[1].split('.')[0] === option.key\n\t\t\t\t)\n\t\t\t)\n\t\t\tsetMoreInfoText('')\n\t\t\tsetMoreInfoUrl('')\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tkey: `${rowItems.item.groupId}-c19.eligibility.question/${option.key}`,\n\t\t\t\t\ttagKey: option.key,\n\t\t\t\t\tqualifierId: undefined,\n\t\t\t\t\ttext: '',\n\t\t\t\t\tmoreInfoKey: '',\n\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\t[phaseQualifierItems, rowItems]\n\t)\n\n\tconst onQualifierChange = useCallback(\n\t\t(_event, option) => {\n\t\t\tsetMoreInfoText('')\n\t\t\tsetMoreInfoUrl('')\n\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tqualifierId: option.key,\n\t\t\t\t\ttext: option.text,\n\t\t\t\t\tmoreInfoKey: '',\n\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t},\n\t\t\t}\n\t\t\tonRowItemQualifierChange(changedItem.current, rowItems.item)\n\t\t},\n\t\t[onRowItemQualifierChange, rowItems]\n\t)\n\n\tconst onMoreInfoTextChange = useCallback(\n\t\t(_event, value) => {\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tmoreInfoContent: value,\n\t\t\t\t},\n\t\t\t}\n\t\t\tsetMoreInfoText(value)\n\t\t},\n\t\t[setMoreInfoText]\n\t)\n\n\tconst onMoreInfoUrlChange = useCallback(\n\t\t(_event, value) => {\n\t\t\tchangedItem.current = {\n\t\t\t\t...changedItem.current,\n\t\t\t\t...{\n\t\t\t\t\tmoreInfoUrl: value,\n\t\t\t\t},\n\t\t\t}\n\t\t\tsetMoreInfoUrl(value)\n\t\t},\n\t\t[setMoreInfoUrl]\n\t)\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"phaseDetailRow\"\n\t\t\tstyle={{ pointerEvents: isEditable ? 'unset' : 'none' }}\n\t\t>\n\t\t\t<div className=\"mainRow\">\n\t\t\t\t<FontIcon\n\t\t\t\t\ticonName=\"InfoSolid\"\n\t\t\t\t\tclassName=\"infoIcon\"\n\t\t\t\t\tstyle={{ visibility: overrideIconFlag ? 'visible' : 'hidden' }}\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\toptions={phaseTagItems.current}\n\t\t\t\t\tdefaultSelectedKey={rowItems.item.tagKey}\n\t\t\t\t\tplaceholder=\"Tag\"\n\t\t\t\t\tclassName=\"tagDropdown\"\n\t\t\t\t\tstyles={{ root: { minWidth: 250 } }}\n\t\t\t\t\tonChange={onTagChange}\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\ttitle={rowItems.item.text}\n\t\t\t\t\toptions={filteredQualifierItems}\n\t\t\t\t\tdefaultSelectedKey={rowItems.item.qualifierId}\n\t\t\t\t\tplaceholder=\"Qualifier\"\n\t\t\t\t\tstyles={{ root: { width: '100%', minWidth: 0 } }}\n\t\t\t\t\tonChange={onQualifierChange}\n\t\t\t\t/>\n\t\t\t\t<IconButton\n\t\t\t\t\ticonProps={{ iconName: 'MoreVertical' }}\n\t\t\t\t\tstyles={{ menuIcon: { visibility: 'hidden', width: 0, margin: 0 } }}\n\t\t\t\t\tmenuProps={{\n\t\t\t\t\t\tisBeakVisible: false,\n\t\t\t\t\t\tdirectionalHint: DirectionalHint.rightTopEdge,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'removeRow',\n\t\t\t\t\t\t\t\ttext: 'Remove',\n\t\t\t\t\t\t\t\tonClick: () => onRowItemRemove?.(rowItems.item, groupKey),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'details',\n\t\t\t\t\t\t\t\ttext: 'Details',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}}\n\t\t\t\t\ttitle=\"More\"\n\t\t\t\t\taria-label=\"More\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"detailsRow\">\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder=\"More info text\"\n\t\t\t\t\tmultiline={true}\n\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\tresizable={false}\n\t\t\t\t\tstyles={{ root: { width: 'calc(100% - 32px)', padding: '5px 0' } }}\n\t\t\t\t\tvalue={moreInfoText}\n\t\t\t\t\tonChange={onMoreInfoTextChange}\n\t\t\t\t\tonBlur={() => onRowItemTextChange(changedItem.current, rowItems.item)}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tplaceholder=\"More info url\"\n\t\t\t\t\tstyles={{ root: { width: 'calc(100% - 32px)', padding: '5px 0' } }}\n\t\t\t\t\tvalue={moreInfoUrl}\n\t\t\t\t\tonChange={onMoreInfoUrlChange}\n\t\t\t\t\tonBlur={() => onRowItemTextChange(changedItem.current, rowItems.item)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { \n\tFontIcon,\n\tModal,\n } from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useRef, useCallback } from 'react'\nimport {\n\tmodifyStateStrings,\n\tmodifyMoreInfoLinks,\n\tsetActivePhase,\n\tupdateQualifier,\n\taddQualifier,\n\tremoveQualifier,\n\tremovePhase,\n\tduplicatePhase,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { formatId } from '../utils/textUtils'\nimport PhaseForm from './PhaseForm'\nimport PhaseQualifierForm from './PhaseQualifierForm'\n\nimport './Locations.scss'\n\nexport interface LocationsPhasesProp {\n\tisRegion: boolean\n\tvalue: any\n\tselectedState: any\n}\n\nexport default observer(function LocationsPhases(props: LocationsPhasesProp) {\n\tconst {\n\t\tglobalFileData,\n\t\tcurrentLanguage,\n\t\trepoFileData,\n\t\tisEditable,\n\t} = getAppStore()\n\tconst { isRegion, value, selectedState } = props\n\tconst [phaseList, setPhaseList] = useState<any[]>([])\n\tconst groupToggleState = useRef<any[]>([])\n\tconst selectedModalFormItem = useRef<any>(null)\n\n\tconst [\n\t\tisDuplaceModalOpen,\n\t\t{ setTrue: openDuplicateModal, setFalse: dismissDuplicateModal },\n\t] = useBoolean(false)\n\n\tconst onDuplicateSubmit = ({name}: {name: string}) => {\n\t\tconst nextPhaseId = formatId(name);\n\t\tconst phases = repoFileData[selectedState.key].vaccination.content.phases;\n\t\tconst nameExists = !!phases.find((item: {id: string}) => item.id === nextPhaseId);\n\n\t\tif(nameExists) {\n\t\t\treturn\n\t\t}\n\n\t\tduplicatePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: selectedModalFormItem.current.key,\n\t\t\tname,\n\t\t\tisRegion,\n\t\t\tregionInfo: value\n\t\t})\n\t}\n\n\tconst onDuplicatePhaseClick = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenDuplicateModal()\n\t\t},\n\t\t[openDuplicateModal]\n\t)\n\n\tuseEffect(() => {\n\t\tif (repoFileData) {\n\t\t\tdismissDuplicateModal()\n\n\t\t\tconst tempPhaseList: any[] = []\n\t\t\tconst currentStateObj: any = repoFileData[selectedState.key]\n\t\t\tlet phaseObj = currentStateObj.vaccination.content.phases\n\t\t\tconst regionObj = isRegion\n\t\t\t\t? repoFileData[selectedState.key].regions[value.key]\n\t\t\t\t: null\n\n\t\t\tif (isRegion && regionObj.vaccination.content.phases) {\n\t\t\t\tphaseObj = regionObj.vaccination.content.phases\n\t\t\t}\n\n\t\t\tphaseObj.forEach((phase: any) => {\n\t\t\t\tlet isCollapsed = true\n\n\t\t\t\tif (isRegion) {\n\t\t\t\t\tisCollapsed = groupToggleState.current.length > 0 ? !groupToggleState.current.includes(phase.id) : true\n\t\t\t\t} else {\n\t\t\t\t\tif (groupToggleState.current.length > 0) {\n\t\t\t\t\t\tisCollapsed = !groupToggleState.current.includes(phase.id)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisCollapsed = value.value.id !== phase.id\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet isActivePhase = false\n\t\t\t\tif (isRegion && regionObj.vaccination.content.activePhase) {\n\t\t\t\t\tisActivePhase = phase.id === regionObj.vaccination.content.activePhase\n\t\t\t\t} else {\n\t\t\t\t\tisActivePhase =\n\t\t\t\t\t\tphase.id === currentStateObj.vaccination.content.activePhase\n\t\t\t\t}\n\n\t\t\t\tconst tempPhaseObj: any = {\n\t\t\t\t\tkey: phase.id,\n\t\t\t\t\tname: phase.label || phase.id,\n\t\t\t\t\tcount: phase.qualifications.length,\n\t\t\t\t\tisCollapsed: isCollapsed,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tname: phase.label || phase.id,\n\t\t\t\t\t\tkeyId: phase.id,\n\t\t\t\t\t\tisActive: isActivePhase,\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\tconst phaseItems: any[] = []\n\n\t\t\t\tphase.qualifications.forEach((qualification: any) => {\n\t\t\t\t\tconst keyId: string = String(qualification.question).toLowerCase()\n\t\t\t\t\tlet label = `*Translation not found* (${keyId})`\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tcurrentStateObj.strings &&\n\t\t\t\t\t\tcurrentStateObj.strings.content[keyId]\n\t\t\t\t\t) {\n\t\t\t\t\t\tlabel =\n\t\t\t\t\t\t\tcurrentStateObj.strings.content[keyId][currentLanguage] || label\n\t\t\t\t\t} else if (globalFileData.customStrings.content[keyId]) {\n\t\t\t\t\t\tlabel =\n\t\t\t\t\t\t\tglobalFileData.customStrings.content[keyId][currentLanguage] ||\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t}\n\n\t\t\t\t\tphaseItems.push({\n\t\t\t\t\t\tkey: phase.id + '-' + keyId,\n\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\tmoreInfoKey: qualification?.moreInfoText\n\t\t\t\t\t\t\t? qualification.moreInfoText.toLowerCase()\n\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\tmoreInfoContent: '',\n\t\t\t\t\t\tmoreInfoUrl: qualification.moreInfoUrl,\n\t\t\t\t\t\tqualifierId: keyId,\n\t\t\t\t\t\ttagKey: keyId.split('/')[1].split('.')[0],\n\t\t\t\t\t\tgroupId: phase.id,\n\t\t\t\t\t\tlocation: value,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\ttempPhaseObj['items'] = phaseItems\n\t\t\t\ttempPhaseList.push(tempPhaseObj)\n\t\t\t})\n\n\t\t\tsetPhaseList(tempPhaseList)\n\t\t}\n\t}, [repoFileData, globalFileData, selectedState, currentLanguage, isRegion, value, dismissDuplicateModal])\n\n\tconst onAddQualifierClick = (phaseId: any) => {\n\t\tconst newItem = {\n\t\t\tkey: `${phaseId}-c19.eligibility.question/new_qualifier`,\n\t\t\ttext: '',\n\t\t\tmoreInfoKey: '',\n\t\t\tmoreInfoUrl: '',\n\t\t\tqualifierId: 'c19.eligibility.question/new_qualifier',\n\t\t\ttagKey: 'new_tagKey',\n\t\t\tgroupId: phaseId,\n\t\t\tlocation: value,\n\t\t}\n\n\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\tif (group.key === phaseId) {\n\t\t\t\t// const checkNewQualIndex = group.items.findIndex(\n\t\t\t\t// \t(i: any) => i.key === newItem.key\n\t\t\t\t// )\n\t\t\t\t// if (checkNewQualIndex === -1) {\n\t\t\t\t\tgroup.items.push(newItem)\n\t\t\t\t//}\n\t\t\t}\n\n\t\t\treturn group\n\t\t})\n\t\tsetPhaseList(tempPhaseList)\n\t}\n\n\tconst onRemoveRowItem = (item: any, groupKey:any) => {\n\t\tif (item.qualifierId !== 'c19.eligibility.question/new_qualifier') {\n\t\t\tremoveQualifier({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: item,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else {\n\t\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\t\tif (group.key === groupKey) {\n\t\t\t\t\tconst newItemIndex = group.items.findIndex( (i:any) => i.qualifierId ===  'c19.eligibility.question/new_qualifier')\n\t\t\t\t\tif(newItemIndex !== -1){\n\t\t\t\t\t\tgroup.items.splice(newItemIndex,1)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn group\n\t\t\t})\n\n\t\t\tsetPhaseList(tempPhaseList)\n\t\t}\n\t}\n\n\tconst onRemovePhaseGroupClick = (phaseId: any) => {\n\t\tremovePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: phaseId,\n\t\t\tregionInfo: isRegion ? value : null,\n\t\t})\n\t}\n\n\tconst onSetActivePhase = (phaseId: string) => {\n\t\tsetActivePhase({\n\t\t\tlocationKey: selectedState.key,\n\t\t\tphaseId: phaseId,\n\t\t\tregionInfo: isRegion ? value : null,\n\t\t})\n\t}\n\n\tconst onToggleCollapse = (toggleGroup: any) => {\n\t\tconst tempPhaseList = phaseList.map((group) => {\n\t\t\tif (group.key === toggleGroup.key) {\n\t\t\t\tgroup.isCollapsed = !group.isCollapsed\n\t\t\t}\n\n\t\t\treturn group\n\t\t})\n\t\tgroupToggleState.current = tempPhaseList.filter( group => !group.isCollapsed ).map(group => group.key)\n\t\tsetPhaseList(tempPhaseList)\n\t}\n\n\tconst onChangeRowItemText = (currentItem: any, initItem: any) => {\n\t\tif (\n\t\t\tinitItem.moreInfoUrl?.toLowerCase() !==\n\t\t\tcurrentItem.moreInfoUrl?.toLowerCase()\n\t\t) {\n\t\t\tmodifyMoreInfoLinks({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else if (initItem.moreInfoContent !== currentItem.moreInfoContent) {\n\t\t\tlet calcInfoKey = currentItem.qualifierId.replace('question', 'moreinfo')\n\t\t\tcalcInfoKey += `.${selectedState.value.info.content.metadata.code_alpha.toLowerCase()}`\n\t\t\tif (isRegion) {\n\t\t\t\tcalcInfoKey += `.${value.name.toLowerCase()}`\n\t\t\t}\n\t\t\tcalcInfoKey += `.${currentItem.groupId}`\n\n\t\t\tmodifyStateStrings({\n\t\t\t\tinfoKey: calcInfoKey,\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t}\n\t}\n\n\tconst onChangeRowItemQualifier = (currentItem: any, initItem: any) => {\n\t\tif (initItem.qualifierId !== 'c19.eligibility.question/new_qualifier') {\n\t\t\tupdateQualifier({\n\t\t\t\toldId: initItem.qualifierId,\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t} else {\n\t\t\taddQualifier({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: currentItem,\n\t\t\t\tregionInfo: isRegion ? value : null,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"phaseGridContainer\">\n\t\t\t{phaseList.length > 0\n\t\t\t\t? phaseList.map((group: any, idx: number) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={`phasegroup-${idx}`}>\n\t\t\t\t\t\t\t\t<div className=\"phaseGroupHeader\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"groupHeaderLabel\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tonToggleCollapse(group)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\t\t\tgroup.isCollapsed ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{group.name ? (\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.name} <small>({group.data.keyId})</small>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t`Phase ${group.data.keyId}`\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"groupHeaderButtons\">\n\t\t\t\t\t\t\t\t\t\t{isEditable ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDuplicatePhaseClick(group)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"DuplicateRow\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\tDuplicate\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"removePhaseGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonRemovePhaseGroupClick(group.data.keyId)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"Blocked2Solid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#d13438' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.data.isActive ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"activeGroup\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleFill\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActive Phase\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"activeGroup\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onSetActivePhase(group.data.keyId)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleRing\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSet as Active\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{group.data.isActive && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"activeGroup\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleFill\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#00b7c3' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActive Phase\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ display: group.isCollapsed ? 'none' : 'block' }}>\n\t\t\t\t\t\t\t\t\t{group.items.length > 0 && (\n\t\t\t\t\t\t\t\t\t\tgroup.items.map((groupItem: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<PhaseQualifierForm\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={groupItem.key+'_'+idx}\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroupKey={group.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\trowItems={{ item: groupItem }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisEditable={isEditable}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisRegion={isRegion}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemRemove={onRemoveRowItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemTextChange={onChangeRowItemText}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonRowItemQualifierChange={onChangeRowItemQualifier}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"phaseBottomGroup\"\n\t\t\t\t\t\t\t\t\t\tstyle={{marginTop: group.items.length > 0 ? 0 : '20px'}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierGroup\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onAddQualifierClick(group.data.keyId)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\tAdd Qualifier\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\tisOpen={isDuplaceModalOpen}\n\t\t\t\t\t\t\t\t\tisModeless={false}\n\t\t\t\t\t\t\t\t\tisDarkOverlay={true}\n\t\t\t\t\t\t\t\t\tisBlocking={false}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<PhaseForm\n\t\t\t\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t\t\t\t\tduplicate={true}\n\t\t\t\t\t\t\t\t\t\tisRegion={isRegion}\n\t\t\t\t\t\t\t\t\t\tregionInfo={value}\n\t\t\t\t\t\t\t\t\t\tonCancel={dismissDuplicateModal}\n\t\t\t\t\t\t\t\t\t\tonSubmit={onDuplicateSubmit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t  })\n\t\t\t\t: null}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tIColumn,\n\tFontIcon,\n\tModal,\n\tSearchBox,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport {\n\tupdateLocationList,\n\taddPhase,\n\tupdatePhase,\n\tupdateLocationData,\n\tdeleteLocation,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\nimport DeleteLocationForm from './DeleteLocationForm'\nimport LocationForm from './LocationForm'\nimport LocationsPhases from './LocationsPhases'\nimport PhaseForm from './PhaseForm'\n\nimport './Locations.scss'\n\nexport interface LocationsRegionsProp {\n\tselectedState: any\n\tonNavigateBack: () => void\n}\n\nexport default observer(function LocationsRegions(props: LocationsRegionsProp) {\n\tconst [filteredRegionsList, setFilteredRegionsList] = useState<any[]>([])\n\tconst stateRegionsFullList = useRef<any[]>([])\n\tconst [selectedPhaseItem, setSelectedPhaseItem] = useState<{\n\t\tisRegion: boolean\n\t\tvalue: any\n\t\tselectedState: any\n\t}>({ isRegion: false, value: null, selectedState: null })\n\tconst [\n\t\tisLocationModalOpen,\n\t\t{ setTrue: openLocationModal, setFalse: dismissLocationModal },\n\t] = useBoolean(false)\n\tconst [\n\t\tisDeleteLocationModalOpen,\n\t\t{ setTrue: openDeleteLocationModal, setFalse: dismissDeleteLocationModal },\n\t] = useBoolean(false)\n\tconst [\n\t\tisPhaseModalOpen,\n\t\t{ setTrue: openPhaseModal, setFalse: dismissPhaseModal },\n\t] = useBoolean(false)\n\tconst selectedModalFormItem = useRef<any>(null)\n\n\tconst state = getAppStore()\n\n\tconst { selectedState, onNavigateBack } = props\n\n\tconst subLocationsColumns = [\n\t\t{\n\t\t\tkey: 'regionCol',\n\t\t\tname: 'Region',\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'activePhaseCol',\n\t\t\tname: 'Active Phase ID',\n\t\t\tfieldName: 'phase',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editLocation',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tconst phaseColumns = [\n\t\t{\n\t\t\tkey: 'idCol',\n\t\t\tname: 'Phase ID',\n\t\t\tfieldName: 'keyId',\n\t\t\tminWidth: 50,\n\t\t\tmaxWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'nameCol',\n\t\t\tname: 'Name',\n\t\t\tfieldName: 'name',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'qualCol',\n\t\t\tname: '# of qualifications',\n\t\t\tfieldName: 'qualifications',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editPhase',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (state.isEditable ? true : loc.key !== 'editCol'))\n\n\tconst [phaseItemList, setPhaseItemList] = useState<any[]>([])\n\n\tuseEffect(() => {\n\t\tconst selectedStateObj = state.repoFileData[selectedState.key]\n\t\tconst regions = selectedStateObj?.regions ?? {}\n\n\t\tif (Object.keys(regions).length > 0) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(regions).forEach(([key, value]) => {\n\t\t\t\tconst valObj = value as any\n\t\t\t\ttempList.push({\n\t\t\t\t\tkey: key,\n\t\t\t\t\tname: toProperCase(valObj.info.content.name),\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tphase: valObj.vaccination.content.activePhase\n\t\t\t\t\t\t? valObj.vaccination.content.activePhase\n\t\t\t\t\t\t: selectedStateObj.vaccination.content.activePhase,\n\t\t\t\t})\n\t\t\t})\n\t\t\tsetFilteredRegionsList(tempList)\n\t\t\tstateRegionsFullList.current = tempList\n\t\t} else {\n\t\t\tstateRegionsFullList.current = []\n\t\t}\n\n\t\tif (selectedStateObj) {\n\t\t\tconst newList = setInitialPhaseItems({\n\t\t\t\tkey: selectedStateObj.info.content.id,\n\t\t\t\tvalue: selectedStateObj,\n\t\t\t})\n\t\t\tsetPhaseItemList(newList)\n\t\t}\n\t}, [state.repoFileData, selectedState, stateRegionsFullList, setPhaseItemList])\n\n\tconst selectedPhase = useCallback(\n\t\t(isRegion: boolean, value: any) => {\n\t\t\tsetSelectedPhaseItem({ isRegion, value, selectedState })\n\t\t},\n\t\t[selectedState]\n\t)\n\n\tconst onLocationFormSubmit = useCallback(\n\t\t(locationData, prevItem) => {\n\t\t\tdismissLocationModal()\n\t\t\tif (!prevItem) {\n\t\t\t\tupdateLocationList(locationData, true, selectedState)\n\t\t\t} else {\n\t\t\t\tupdateLocationData(locationData, true, prevItem, selectedState)\n\t\t\t}\n\t\t},\n\t\t[dismissLocationModal, selectedState]\n\t)\n\n\tconst onDeleteLocationFormSubmit = useCallback(\n\t\t(locationData) => {\n\t\t\tdismissDeleteLocationModal()\n\t\t\tdeleteLocation(locationData, true, selectedState)\n\t\t},\n\t\t[dismissDeleteLocationModal, selectedState]\n\t)\n\n\tconst onLocationFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenLocationModal()\n\t\t},\n\t\t[openLocationModal]\n\t)\n\n\tconst onPhaseFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenPhaseModal()\n\t\t},\n\t\t[openPhaseModal]\n\t)\n\n\tconst onLocationDeleteFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedModalFormItem.current = item ?? null\n\t\t\topenDeleteLocationModal()\n\t\t},\n\t\t[openDeleteLocationModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tif (!column) return null\n\n\t\t\tconst fieldContent = item[column.fieldName as keyof any] as string\n\n\t\t\tif (column.key === 'editCol') {\n\t\t\t\treturn state.isEditable ? (\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{column?.fieldName === 'editLocation' && (\n\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\ticonName=\"Cancel\"\n\t\t\t\t\t\t\t\tclassName=\"deleteIcon\"\n\t\t\t\t\t\t\t\tonClick={() => onLocationDeleteFormOpen(item)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tcolumn?.fieldName === 'editLocation'\n\t\t\t\t\t\t\t\t\t? onLocationFormOpen(item)\n\t\t\t\t\t\t\t\t\t: onPhaseFormOpen(item)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tonLocationFormOpen,\n\t\t\tonLocationDeleteFormOpen,\n\t\t\tonPhaseFormOpen,\n\t\t\tstate.isEditable,\n\t\t]\n\t)\n\n\tconst onRegionFilter = useCallback(\n\t\t(_event: any, text?: string | undefined) => {\n\t\t\tif (text) {\n\t\t\t\tsetFilteredRegionsList(\n\t\t\t\t\tstateRegionsFullList.current.filter(\n\t\t\t\t\t\t(region) => region.name.toLowerCase().indexOf(text) > -1\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tsetFilteredRegionsList(stateRegionsFullList.current)\n\t\t\t}\n\t\t},\n\t\t[stateRegionsFullList]\n\t)\n\n\tconst onPhaseFormSubmit = (phaseData: any) => {\n\t\tdismissPhaseModal()\n\n\t\tif (phaseData.phaseId) {\n\t\t\tupdatePhase({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: phaseData,\n\t\t\t})\n\t\t} else {\n\t\t\taddPhase({\n\t\t\t\tlocationKey: selectedState.key,\n\t\t\t\titem: phaseData,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"bodyContainer\">\n\t\t\t<div className=\"bodyHeader subContent\">\n\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t<div className=\"breadCrumbs\">\n\t\t\t\t\t\t<span className=\"crumbLink\" onClick={onNavigateBack}>\n\t\t\t\t\t\t\t/ Locations{' '}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"crumbLink\"\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetSelectedPhaseItem({\n\t\t\t\t\t\t\t\t\t\t\tisRegion: false,\n\t\t\t\t\t\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\t\t\t\t\t\tselectedState: null,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t/ {selectedState.text + ' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{selectedPhaseItem.isRegion ? (\n\t\t\t\t\t\t\t\t\t<>/ {selectedPhaseItem.value.name}</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>/ Phase Overview</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>/ {selectedState.text}</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mainTitle\">\n\t\t\t\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{selectedPhaseItem.isRegion ? (\n\t\t\t\t\t\t\t\t\t<>{selectedPhaseItem.value.name} Region Phase Overview</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>{selectedState.text} Phase Overview</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>{selectedState.text}</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{selectedPhaseItem.value ? (\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<LocationsPhases\n\t\t\t\t\t\t\tisRegion={selectedPhaseItem.isRegion}\n\t\t\t\t\t\t\tvalue={selectedPhaseItem.value}\n\t\t\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"listTitle\">Phases</div>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onPhaseFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Phase\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{selectedState.value.vaccination.content.phases &&\n\t\t\t\t\t\tselectedState.value.vaccination.content.phases.length > 0 ? (\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\titems={phaseItemList}\n\t\t\t\t\t\t\t\tcolumns={phaseColumns}\n\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\tonItemInvoked={(item) => selectedPhase(false, item)}\n\t\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>No phases available at this time.</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"listTitle\">Sublocation</div>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t{stateRegionsFullList.current.length > 0 ? (\n\t\t\t\t\t\t\t\t<SearchBox\n\t\t\t\t\t\t\t\t\tstyles={{ root: { width: 400 } }}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\t\tonChange={(ev, text) => onRegionFilter(ev, text)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Sublocation\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{filteredRegionsList &&\n\t\t\t\t\t\tfilteredRegionsList.length > 0 &&\n\t\t\t\t\t\tstateRegionsFullList.current.length > 0 ? (\n\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\titems={filteredRegionsList}\n\t\t\t\t\t\t\t\tcolumns={subLocationsColumns}\n\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\tselectionPreservedOnEmptyClick={true}\n\t\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\tonItemInvoked={(item) => selectedPhase(true, item)}\n\t\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>No regions available at this time.</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<Modal\n\t\t\t\tisOpen={isLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<LocationForm\n\t\t\t\t\titem={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissLocationModal}\n\t\t\t\t\tonSubmit={onLocationFormSubmit}\n\t\t\t\t\tisRegion={true}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t\t<Modal\n\t\t\t\tisOpen={isPhaseModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<PhaseForm\n\t\t\t\t\titem={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissPhaseModal}\n\t\t\t\t\tonSubmit={onPhaseFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t\t<Modal\n\t\t\t\tisOpen={isDeleteLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<DeleteLocationForm\n\t\t\t\t\tlocation={selectedModalFormItem.current}\n\t\t\t\t\tonCancel={dismissDeleteLocationModal}\n\t\t\t\t\tonSubmit={onDeleteLocationFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n\nconst setInitialPhaseItems = (selectedState: any): any[] => {\n\tif (!selectedState.value.vaccination.content.phases) {\n\t\treturn []\n\t}\n\treturn selectedState.value.vaccination.content.phases.map(\n\t\t(phase: any, idx: number) => {\n\t\t\tconst activePhase: string =\n\t\t\t\tselectedState.value.vaccination.content.activePhase\n\t\t\treturn {\n\t\t\t\tkey: String(phase.id) + idx,\n\t\t\t\tkeyId: String(phase.id) + (phase.id === activePhase ? ' (active)' : ''),\n\t\t\t\tname:\n\t\t\t\t\ttoProperCase(phase.label ?? phase.id) +\n\t\t\t\t\t(phase.id === activePhase ? ' (active)' : ''),\n\t\t\t\tqualifications: phase.qualifications.length,\n\t\t\t\tvalue: phase,\n\t\t\t\tisNew: false,\n\t\t\t}\n\t\t}\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tFontIcon,\n\tModal,\n\tIColumn,\n\tSearchBox,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport {\n\tupdateLocationList,\n\tupdateLocationData,\n\tdeleteLocation,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport DeleteLocationForm from './DeleteLocationForm'\nimport LocationForm from './LocationForm'\n\nimport './Locations.scss'\n\nexport interface LocationsStatesProp {\n\tonSelectedItem: (item: any) => void\n}\n\nexport default observer(function LocationsStates(props: LocationsStatesProp) {\n\tconst { onSelectedItem } = props\n\n\tconst [\n\t\tisLocationModalOpen,\n\t\t{ setTrue: openLocationModal, setFalse: dismissLocationModal },\n\t] = useBoolean(false)\n\tconst [\n\t\tisDeleteLocationModalOpen,\n\t\t{ setTrue: openDeleteLocationModal, setFalse: dismissDeleteLocationModal },\n\t] = useBoolean(false)\n\tconst [filteredStateList, setFilteredStateList] = useState<any[]>([])\n\tconst stateRepoFullList = useRef<any[]>([])\n\tconst selectedLocationItem = useRef<any>(null)\n\n\tconst state = getAppStore()\n\tconst filterEditable = (col: any) => {\n\t\tif(state.isEditable)\n\t\t\treturn true\n\t\telse \n\t\t\treturn col.key !== 'editCol' && col.key !== 'delete'\n\t}\n\tconst locationColumns = [\n\t\t{\n\t\t\tkey: 'stateCol',\n\t\t\tname: 'State',\n\t\t\tfieldName: 'text',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'regionCol',\n\t\t\tname: 'Sublocations',\n\t\t\tfieldName: 'regions',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editLocation',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter(filterEditable)\n\n\tuseEffect(() => {\n\t\tif (state.repoFileData) {\n\t\t\tconst nextFilteredStateList: any[] = []\n\t\t\tObject.entries(state.repoFileData).forEach(\n\t\t\t\t([key, value]: [string, any]) => {\n\t\t\t\t\tconst stateId = value?.info?.content.id\n\t\t\t\t\tconst stateNames = state?.globalFileData?.cdcStateNames.content\n\n\t\t\t\t\tconst stateLabel =\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`] &&\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][state.currentLanguage] &&\n\t\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][\n\t\t\t\t\t\t\tstate.currentLanguage\n\t\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t\t? stateNames[`cdc/${stateId}/state_name`][state.currentLanguage]\n\t\t\t\t\t\t\t: `*Translation Not Found* (${stateId})`\n\n\t\t\t\t\tnextFilteredStateList.push({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\ttext: stateLabel,\n\t\t\t\t\t\tregions: value?.regions ? Object.keys(value.regions).length : 0,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\t\t\tsetFilteredStateList(nextFilteredStateList)\n\t\t\tstateRepoFullList.current = nextFilteredStateList\n\t\t}\n\t}, [state.repoFileData, state.globalFileData, state.currentLanguage, stateRepoFullList])\n\n\tconst onStateFilter = useCallback(\n\t\t(_event: any, text?: string) => {\n\t\t\tif (text) {\n\t\t\t\tsetFilteredStateList(\n\t\t\t\t\tstateRepoFullList.current.filter(\n\t\t\t\t\t\t(state) => state.text.toLowerCase().indexOf(text) > -1\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tsetFilteredStateList(stateRepoFullList.current)\n\t\t\t}\n\t\t},\n\t\t[stateRepoFullList]\n\t)\n\n\tconst openSelection = useCallback(\n\t\t(item: any) => {\n\t\t\tonSelectedItem(item)\n\t\t},\n\t\t[onSelectedItem]\n\t)\n \n\tconst onLocationFormSubmit = useCallback(\n\t\t(locationData, prevItem) => {\n\t\t\tdismissLocationModal()\n\t\t\tif (!prevItem) {\n\t\t\t\tupdateLocationList(locationData, false)\n\t\t\t} else {\n\t\t\t\tupdateLocationData(locationData, false, prevItem)\n\t\t\t}\n\t\t},\n\t\t[dismissLocationModal]\n\t)\n\n\tconst onDeleteLocationFormSubmit = useCallback(\n\t\t(locationData) => {\n\t\t\tdismissDeleteLocationModal()\n\t\t\tdeleteLocation(locationData)\n\t\t},\n\t\t[dismissDeleteLocationModal]\n\t)\n\n\tconst onLocationFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedLocationItem.current = item ?? null\n\t\t\topenLocationModal()\n\t\t},\n\t\t[openLocationModal]\n\t)\n\n\tconst onLocationDeleteFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tselectedLocationItem.current = item ?? null\n\t\t\topenDeleteLocationModal()\n\t\t},\n\t\t[openDeleteLocationModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tif(!column)\n\t\t\t\treturn null\n\n\t\t\tconst fieldContent = item[column.fieldName as keyof any] as string\n\n\t\t\tif (column.key === 'editCol') {\n\t\t\t\treturn state.isEditable ? (\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\ticonName=\"Cancel\"\n\t\t\t\t\t\t\tclassName=\"deleteIcon\"\n\t\t\t\t\t\t\tonClick={() => onLocationDeleteFormOpen(item)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(item)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onLocationFormOpen, onLocationDeleteFormOpen, state.isEditable]\n\t)\n\n\treturn (\n\t\t<div className=\"bodyContainer\">\n\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t<div className=\"breadCrumbs\">/ Locations</div>\n\t\t\t\t\t<div className=\"mainTitle\">Locations</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"bodyContent\">\n\t\t\t\t{!state.isDataRefreshing ? (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t<SearchBox\n\t\t\t\t\t\t\t\tstyles={{ root: { width: 400 } }}\n\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\tonChange={(ev, text) => onStateFilter(ev, text)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addLocationHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onLocationFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: '#0078d4' }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Location\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={filteredStateList}\n\t\t\t\t\t\t\tcolumns={locationColumns}\n\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\tselectionPreservedOnEmptyClick={true}\n\t\t\t\t\t\t\tariaLabelForSelectionColumn=\"Toggle selection\"\n\t\t\t\t\t\t\tariaLabelForSelectAllCheckbox=\"Toggle selection for all items\"\n\t\t\t\t\t\t\tcheckButtonAriaLabel=\"Row checkbox\"\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\tonItemInvoked={openSelection}\n\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t\tclassName=\"locationDetailsList\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t) : (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<ProgressIndicator description=\"Loading content...\" />\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tisOpen={isLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<LocationForm\n\t\t\t\t\titem={selectedLocationItem.current}\n\t\t\t\t\tonCancel={dismissLocationModal}\n\t\t\t\t\tonSubmit={onLocationFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t\t<Modal\n\t\t\t\tisOpen={isDeleteLocationModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<DeleteLocationForm\n\t\t\t\t\tlocation={selectedLocationItem.current}\n\t\t\t\t\tonCancel={dismissDeleteLocationModal}\n\t\t\t\t\tonSubmit={onDeleteLocationFormSubmit}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { useState, useCallback } from 'react'\nimport LocationsRegions from './LocationsRegions'\nimport LocationsStates from './LocationsStates'\n\nimport './Locations.scss'\n\nexport default observer(function Locations() {\n\tconst [selectedState, setSelectedState] = useState<any>(null)\n\n\tconst onNavigateBack = useCallback(() => {\n\t\tsetSelectedState(null)\n\t}, [])\n\n\treturn (\n\t\t<div className=\"locationPageContainer\">\n\t\t\t{!selectedState ? (\n\t\t\t\t<LocationsStates onSelectedItem={setSelectedState} />\n\t\t\t) : (\n\t\t\t\t<LocationsRegions\n\t\t\t\t\tselectedState={selectedState}\n\t\t\t\t\tonNavigateBack={onNavigateBack}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { DefaultButton } from 'office-ui-fabric-react'\nimport { loginUser } from '../actions/authActions'\n\nimport './Login.scss'\n\nexport default observer(function Login() {\n\treturn (\n\t\t<div className=\"loginPageContainer\">\n\t\t\t<div className=\"loginContainer\">\n\t\t\t\t<h3>Data Composer</h3>\n\t\t\t\t<DefaultButton text=\"Login with Github\" onClick={loginUser} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n\tDefaultButton,\n\tTextField,\n\tDropdown,\n\tIDropdownOption,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useRef, useState } from 'react'\nimport { getGlobalQualifierValidationTexts } from '../selectors/qualifierSelectors'\n\nimport './AddQualifierForm.scss'\n\nexport interface AddQualifierFormProp {\n\titem?: any\n\ttagsOptions: IDropdownOption[]\n\tonSubmit?: (newQualifier: any) => void\n\tonCancel?: () => void\n}\n\nconst setInitialData = (item: any) => {\n\tif (item) {\n\t\treturn {\n\t\t\ttagKey: item.key.split('/')[1].split('.')[0],\n\t\t\tkey: item.key,\n\t\t\tqualifier: item.text,\n\t\t\tisNew: false,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\ttagKey: '',\n\t\t\tkey: '',\n\t\t\tqualifier: '',\n\t\t\tisNew: true,\n\t\t}\n\t}\n}\n\nexport default observer(function AddQualifierForm(props: AddQualifierFormProp) {\n\tconst { onSubmit, onCancel, item, tagsOptions } = props\n\tconst [formData, setFormData] = useState<any>(setInitialData(item))\n\tconst fieldChanges = useRef<any>(formData)\n\tconst globalQualifiersList = useRef<string[]>(\n\t\tgetGlobalQualifierValidationTexts()\n\t)\n\tconst [hasError, setHasError] = useState<boolean>(false)\n\tconst [isAddingTag, setIsAddingTag] = useState<boolean>(false)\n\n\tconst handleTagChange = useCallback(\n\t\t(_ev: any, item?: IDropdownOption) => {\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\ttagKey: item?.key,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst isDuplicate = useCallback(\n\t\t(newQualifier: string) => {\n\t\t\tconst newQualifierText = newQualifier.toLowerCase().replaceAll(' ', '')\n\t\t\tif (globalQualifiersList.current.includes(newQualifierText)) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn 'Qualifier already exist, please revise.'\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[globalQualifiersList, setHasError]\n\t)\n\n\tconst isTagDuplicate = useCallback(\n\t\t(newTag: string) => {\n\t\t\tconst newTagKey = newTag.toLowerCase().replaceAll(' ', '_')\n\t\t\tconst tagKeys = tagsOptions.map((t) => t.key)\n\t\t\tif (tagKeys.includes(newTagKey)) {\n\t\t\t\tsetHasError(true)\n\t\t\t\treturn 'Tag already exist, please revise.'\n\t\t\t} else {\n\t\t\t\tsetHasError(false)\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\t[setHasError, tagsOptions]\n\t)\n\n\tconst disableSubmit = useCallback((): boolean => {\n\t\tif (hasError) return true\n\t\treturn formData.qualifier === ''\n\t}, [formData, hasError])\n\n\tconst createNewTag = useCallback(() => {\n\t\tconst newTagKey = formData.tagKey.replaceAll(' ', '_')\n\t\ttagsOptions.push({ key: newTagKey, text: formData.tagKey })\n\t\ttagsOptions.sort((a, b) => (a.text > b.text ? 1 : -1))\n\n\t\tfieldChanges.current = {\n\t\t\t...fieldChanges.current,\n\t\t\t...{\n\t\t\t\ttagKey: newTagKey,\n\t\t\t},\n\t\t}\n\n\t\tsetIsAddingTag(false)\n\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t}, [formData, tagsOptions, fieldChanges, setIsAddingTag])\n\n\tconst formTitle = item ? 'Edit Qualifier' : 'New Qualifier'\n\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">{formTitle}</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n\t\t\t\t<div className=\"tagRow\">\n\t\t\t\t\t{!isAddingTag ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tselectedKey={formData.tagKey}\n\t\t\t\t\t\t\t\tplaceholder=\"Tag\"\n\t\t\t\t\t\t\t\toptions={tagsOptions}\n\t\t\t\t\t\t\t\tonChange={handleTagChange}\n\t\t\t\t\t\t\t\tdisabled={!formData.isNew}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{formData.isNew && <PrimaryButton\n\t\t\t\t\t\t\t\ttext=\"New tag\"\n\t\t\t\t\t\t\t\tonClick={() => setIsAddingTag(true)}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"tagKey\"\n\t\t\t\t\t\t\t\tplaceholder=\"Type new tag\"\n\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\tvalidateOnLoad={false}\n\t\t\t\t\t\t\t\tonGetErrorMessage={() => isTagDuplicate(formData.tagKey)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PrimaryButton text=\"Ok\" onClick={() => createNewTag()} />\n\t\t\t\t\t\t\t<DefaultButton\n\t\t\t\t\t\t\t\ttext=\"Cancel\"\n\t\t\t\t\t\t\t\tonClick={() => setIsAddingTag(false)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"\"\n\t\t\t\t\tname=\"qualifier\"\n\t\t\t\t\tplaceholder=\"Qualifier text...\"\n\t\t\t\t\tvalue={formData.qualifier}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\tmultiline={true}\n\t\t\t\t\tautoAdjustHeight={false}\n\t\t\t\t\tresizable={false}\n\t\t\t\t\tdisabled={!formData.tagKey || isAddingTag}\n\t\t\t\t\tvalidateOnLoad={false}\n\t\t\t\t\tonGetErrorMessage={() => isDuplicate(formData.qualifier)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext=\"Submit\"\n\t\t\t\t\tdisabled={disableSubmit()}\n\t\t\t\t\tonClick={() => onSubmit?.(formData)}\n\t\t\t\t/>\n\t\t\t\t<DefaultButton text=\"Cancel\" onClick={() => onCancel?.()} />\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { getAppStore } from '../store/store'\n\nexport const isQualifierTextDuplicate = (qualifierText: string): boolean => {\n    const store = getAppStore()\n    const { content } = store.globalFileData.customStrings\n\tconst newQualifier = qualifierText.toLowerCase().replaceAll(' ','')\n\n    const existingQualifierTexts = Object.entries(content)\n        .filter(([key, _value]: [string, any]) => key.startsWith('c19.eligibility.question/'))\n        .map(([_key, value]: [string, any]) => {\n            return value[store.currentLanguage].toLowerCase().replaceAll(' ','')\n        })\n\n    return existingQualifierTexts.includes(newQualifier)\n}\n\nexport const getGlobalQualifierValidationTexts = (): string[] => {\n    const store = getAppStore()\n    const { content } = store.globalFileData.customStrings\n\n    return Object.entries(content)\n        .filter(([key, _value]: [string, any]) => key.startsWith('c19.eligibility.question/'))\n        .map(([_key, value]: [string, any]) => {\n            return value[store.currentLanguage].toLowerCase().replaceAll(' ','')\n        })\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tIGroup,\n\tDetailsList,\n\tFontIcon,\n\tModal,\n\tIDropdownOption,\n\tIColumn,\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { updateGlobalQualifiers } from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { toProperCase } from '../utils/textUtils'\nimport AddQualifierForm from './AddQualiferForm'\n\nimport './QualifierPanel.scss'\n\nexport default observer(function QualifierPanel() {\n\tconst { globalFileData, currentLanguage, isEditable, isDataRefreshing } = getAppStore()\n\tconst [qualifierGroup, setQualifierGroup] = useState<IGroup[]>([])\n\tconst [qualifierGroupItems, setQualifierGroupItems] = useState<any[]>([])\n\tconst [\n\t\tisAddQualifierModalOpen,\n\t\t{ setTrue: openAddQualifierModal, setFalse: dismissAddQualifierModal },\n\t] = useBoolean(false)\n\tconst formItem = useRef<any>(null)\n\n\tuseEffect(() => {\n\t\tif (globalFileData?.customStrings) {\n\t\t\tconst groupKeys: any[] = []\n\t\t\tconst questionItemKeys: any[] = []\n\n\t\t\tconst tempQualifierGroup: IGroup[] = []\n\t\t\tconst tempQualifierGroupItems: any[] = []\n\n\t\t\tconst contentObj = globalFileData.customStrings.content\n\t\t\tconst questionKeys = Object.keys(contentObj)\n\t\t\t\t.filter((k) => k.includes('eligibility.question'))\n\t\t\t\t.sort((a, b) => (a > b ? 1 : -1))\n\n\t\t\tquestionKeys.forEach((key) => {\n\t\t\t\tconst questionGroupKey = key.split('/')[1].split('.')\n\n\t\t\t\tif (!groupKeys.includes(questionGroupKey[0])) {\n\t\t\t\t\tgroupKeys.push(questionGroupKey[0])\n\n\t\t\t\t\ttempQualifierGroup.push({\n\t\t\t\t\t\tkey: questionGroupKey[0],\n\t\t\t\t\t\tname: toProperCase(questionGroupKey[0]),\n\t\t\t\t\t\tstartIndex: tempQualifierGroupItems.length,\n\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\tisCollapsed: true,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst groupIdx = tempQualifierGroup.findIndex(\n\t\t\t\t\t\t(obj) => obj.key === questionGroupKey[0]\n\t\t\t\t\t)\n\t\t\t\t\ttempQualifierGroup[groupIdx].count++\n\t\t\t\t}\n\n\t\t\t\tif (!questionItemKeys.includes(key)) {\n\t\t\t\t\tquestionItemKeys.push(key)\n\n\t\t\t\t\ttempQualifierGroupItems.push({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\ttext: contentObj[key][currentLanguage]\n\t\t\t\t\t\t\t? contentObj[key][currentLanguage]\n\t\t\t\t\t\t\t: `*Translation Not Found* (${currentLanguage})`,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetQualifierGroup(tempQualifierGroup)\n\t\t\tsetQualifierGroupItems(tempQualifierGroupItems)\n\t\t}\n\t}, [globalFileData, currentLanguage, setQualifierGroup, setQualifierGroupItems])\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: 'questionColKey',\n\t\t\tname: 'Question',\n\t\t\tfieldName: 'text',\n\t\t\tminWidth: 100,\n\t\t\tisResizable: false,\n\t\t},\n\t\t{\n\t\t\tkey: 'editCol',\n\t\t\tname: '',\n\t\t\tfieldName: 'editQualifier',\n\t\t\tminWidth: 50,\n\t\t\tisResizable: false,\n\t\t},\n\t].filter((loc) => (isEditable ? true : loc.key !== 'editCol'))\n\n\tconst onAddQualifierFormOpen = useCallback(\n\t\t(item?: any) => {\n\t\t\tformItem.current = item ?? null\n\t\t\topenAddQualifierModal()\n\t\t},\n\t\t[openAddQualifierModal, formItem]\n\t)\n\n\tconst addQualifierSubmit = useCallback(\n\t\t(newQualifier) => {\n\t\t\tupdateGlobalQualifiers(newQualifier)\n\t\t\tsetTimeout(() => dismissAddQualifierModal(), 100)\n\t\t},\n\t\t[dismissAddQualifierModal]\n\t)\n\n\tconst onRenderItemColumn = useCallback(\n\t\t(item?: any, _index?: number, column?: IColumn) => {\n\t\t\tconst fieldContent = item[column?.fieldName as keyof any] as string\n\n\t\t\tif (column?.key === 'editCol') {\n\t\t\t\treturn isEditable ? (\n\t\t\t\t\t<FontIcon\n\t\t\t\t\t\ticonName=\"Edit\"\n\t\t\t\t\t\tclassName=\"editIcon\"\n\t\t\t\t\t\tonClick={() => onAddQualifierFormOpen(item)}\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t} else {\n\t\t\t\treturn <span>{fieldContent}</span>\n\t\t\t}\n\t\t},\n\t\t[onAddQualifierFormOpen, isEditable]\n\t)\n\n\tconst tagsOptions: IDropdownOption[] = qualifierGroup.map((tag) => {\n\t\treturn {\n\t\t\tkey: tag.key,\n\t\t\ttext: tag.name,\n\t\t}\n\t})\n\n\treturn (\n\t\t<div className=\"qualifierPanelContainer\">\n\t\t\t<div className=\"panelHeader\">\n\t\t\t\t<div className=\"panelHeaderTitle\">Qualifiers</div>\n\t\t\t</div>\n\t\t\t<div className=\"panelBody\">\n\t\t\t\t{!isDataRefreshing && (\n\t\t\t\t\t<section>\n\t\t\t\t\t\t{!!globalFileData?.customStrings?.content && (\n\t\t\t\t\t\t\t<div className=\"searchRow\">\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"addQualiferHeaderButton\"\n\t\t\t\t\t\t\t\t\tonClick={() => onAddQualifierFormOpen(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\t\ticonName=\"CircleAdditionSolid\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"addQualifierIcon\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tAdd Qualifier\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\titems={qualifierGroupItems}\n\t\t\t\t\t\t\tgroups={qualifierGroup}\n\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\tgroupProps={{\n\t\t\t\t\t\t\t\tshowEmptyGroups: false,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcompact={true}\n\t\t\t\t\t\t\tisHeaderVisible={false}\n\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\tclassName=\"qualifierGroupItem\"\n\t\t\t\t\t\t\tonRenderItemColumn={onRenderItemColumn}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tisOpen={isAddQualifierModalOpen}\n\t\t\t\tisModeless={false}\n\t\t\t\tisDarkOverlay={true}\n\t\t\t\tisBlocking={false}\n\t\t\t>\n\t\t\t\t<AddQualifierForm\n\t\t\t\t\titem={formItem.current}\n\t\t\t\t\ttagsOptions={tagsOptions}\n\t\t\t\t\tonSubmit={addQualifierSubmit}\n\t\t\t\t\tonCancel={dismissAddQualifierModal}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { isEqual } from 'lodash'\nimport { getAppStore } from '../store/store'\n\nexport const getChanges = () => {\n    const state = getAppStore()\n    const changesList: any[] = []\n    const locationUpdates: any[] = []\n    const globalUpdates: any[] = []\n    const {globalFileData, repoFileData} = state\n\n    if (!isEqual(state.initGlobalFileData.customStrings, globalFileData.customStrings)) {\n        changesList.push({\n            label: `Global strings information updated`,\n            value: globalFileData.customStrings,\n        })\n        globalUpdates.push(globalFileData.customStrings)\n    }\n\n    if (!isEqual(state.initGlobalFileData.cdcStateNames, globalFileData.cdcStateNames)) {\n        changesList.push({\n            label: `State names information updated`,\n            value: globalFileData.cdcStateNames,\n        })\n        globalUpdates.push(globalFileData.cdcStateNames)\n    }\n\n    if (!isEqual(state.initGlobalFileData.cdcStateLinks, globalFileData.cdcStateLinks)) {\n        changesList.push({\n            label: `State links information updated`,\n            value: globalFileData.cdcStateLinks,\n        })\n        globalUpdates.push(globalFileData.cdcStateLinks)\n    }\n    \n\n    Object.keys(state.initRepoFileData).filter((location: string) => {\n        return !state.repoFileData[location]\n    }).forEach((location: string) => {\n        changesList.push({\n            label: `Location removed - ${location}`,\n            value: state.initRepoFileData[location],\n        })\n        locationUpdates.push({\n            key: location,\n            data: {\n                ...state.initRepoFileData[location],\n                delete: true\n            },\n        })\n    })\n    \n    Object.keys(repoFileData).forEach((location: string) => {\n        if (state.initRepoFileData) {\n            if (!state.initRepoFileData[location]) {\n                changesList.push({\n                    label: `New location added - ${location}`,\n                })\n                locationUpdates.push({\n                    key: location,\n                })\n            }else {\n                let addChanges = false\n                if (!isEqual(state.initRepoFileData[location].info, repoFileData[location].info)) {\n                    changesList.push({\n                        label: `Updated information for ${location}`,\n                        value: repoFileData[location],\n                    })\n                    addChanges = true\n                }\n                if (!isEqual(state.initRepoFileData[location].regions, repoFileData[location].regions)) {\n                    changesList.push({\n                        label: `Updated regions for ${location}`,\n                        value: repoFileData[location],\n                    })\n                    addChanges = true\n                }\n                if (!isEqual(state.initRepoFileData[location].vaccination, repoFileData[location].vaccination)) {\n                    changesList.push({\n                        label: `Updated phase information for ${location}`,\n                        value: repoFileData[location],\n                    })\n                    addChanges = true\n                }\n                if (!isEqual(state.initRepoFileData[location].strings,repoFileData[location].strings )) {\n                    changesList.push({\n                        label: `Updated strings information for ${location}`,\n                        value: repoFileData[location],\n                    })\n                    addChanges = true\n                }\n                if (addChanges) {\n                    locationUpdates.push({\n                        key: location,\n                        data: repoFileData[location],\n                    })\n                }\n            }\n        }\n    })\n\n    return {globalUpdates, locationUpdates, changesList}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport {\n\tPrimaryButton,\n\tDetailsList,\n\tDetailsListLayoutMode,\n\tProgressIndicator,\n\tTextField,\n\tMessageBar,\n\tMessageBarType,\n} from 'office-ui-fabric-react'\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { createPR } from '../actions/repoActions'\nimport { getChanges } from '../selectors/changesSelectors'\nimport { getAppStore } from '../store/store'\n\nimport './Review.scss'\n\nexport interface ReviewProp {\n\tshowDashboard: () => void\n}\n\nconst setInitialFormData = (initData: any | undefined) => {\n\tif (!initData)\n\t\treturn {\n\t\t\tprTitle: '',\n\t\t\tprDetails: '',\n\t\t}\n\treturn {\n\t\tprTitle: initData.title ?? '',\n\t\tprDetails: initData.body ?? '',\n\t}\n}\n\nexport default observer(function Review(props: ReviewProp) {\n\tconst { showDashboard } = props\n\tconst changesColumns = [\n\t\t{\n\t\t\tkey: 'labelCol',\n\t\t\tname: 'Pending Changes',\n\t\t\tfieldName: 'label',\n\t\t\tminWidth: 200,\n\t\t\tisResizable: true,\n\t\t},\n\t]\n\n\tconst [changesList, setChangesList] = useState<any[]>([])\n\tconst [locationUpdates, setLocationUpdates] = useState<any[]>([])\n\tconst [globalUpdates, setGlobalUpdates] = useState<any[]>([])\n\tconst [showLoading, setShowLoading] = useState<boolean>(false)\n\tconst [errorMessage, setErrorMessage] = useState<\n\t\t{ message: string } | undefined\n\t>()\n\tconst state = getAppStore()\n\tconst [formData, setFormData] = useState<any>(\n\t\tsetInitialFormData(state.loadedPRData)\n\t)\n\tconst fieldChanges = useRef<any>(formData)\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\tconst { globalUpdates, locationUpdates, changesList } = getChanges()\n\n\t\t\tsetLocationUpdates(locationUpdates)\n\t\t\tsetChangesList(changesList)\n\t\t\tsetGlobalUpdates(globalUpdates)\n\t\t} catch (err) {\n\t\t\tsetErrorMessage(err)\n\t\t}\n\t}, [state.initRepoFileData, state.repoFileData, state.initGlobalFileData, state.globalFileData])\n\n\tconst handleTextChange = useCallback(\n\t\t(ev) => {\n\t\t\tconst value = ev.target.value\n\t\t\tfieldChanges.current = {\n\t\t\t\t...fieldChanges.current,\n\t\t\t\t...{\n\t\t\t\t\t[ev.target.name]: value,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsetFormData({ ...formData, ...fieldChanges.current })\n\t\t},\n\t\t[formData, fieldChanges]\n\t)\n\n\tconst handleSubmit = useCallback(\n\t\t(resp) => {\n\t\t\tif(resp?.error){\n\t\t\t\tsetShowLoading(false)\n\t\t\t} else {\n\t\t\t\tshowDashboard()\n\t\t\t}\n\t\t},\n\t\t[showDashboard],\n\t)\n\n\treturn (\n\t\t<div className=\"reviewPageContainer\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ Review</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">Review</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{errorMessage && (\n\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\tmessageBarType={MessageBarType.error}\n\t\t\t\t\t\t\tdismissButtonAriaLabel=\"Close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p>Unexpected {errorMessage?.toString()}</p>\n\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t)}\n\t\t\t\t\t{!showLoading ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<div className=\"submitContainer\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Title (Optional):\"\n\t\t\t\t\t\t\t\t\tname=\"prTitle\"\n\t\t\t\t\t\t\t\t\tvalue={formData.prTitle}\n\t\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel=\"Details (Optional):\"\n\t\t\t\t\t\t\t\t\tname=\"prDetails\"\n\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\tvalue={formData.prDetails}\n\t\t\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<DetailsList\n\t\t\t\t\t\t\t\t\titems={changesList}\n\t\t\t\t\t\t\t\t\tcolumns={changesColumns}\n\t\t\t\t\t\t\t\t\tsetKey=\"set\"\n\t\t\t\t\t\t\t\t\tlayoutMode={DetailsListLayoutMode.justified}\n\t\t\t\t\t\t\t\t\tcheckboxVisibility={2}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PrimaryButton\n\t\t\t\t\t\t\t\t\ttext=\"Submit changes\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetShowLoading(true)\n\t\t\t\t\t\t\t\t\t\tcreatePR([\n\t\t\t\t\t\t\t\t\t\t\tglobalUpdates,\n\t\t\t\t\t\t\t\t\t\t\tlocationUpdates,\n\t\t\t\t\t\t\t\t\t\t\thandleSubmit,\n\t\t\t\t\t\t\t\t\t\t\tformData,\n\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<section className=\"loadingContainer\">\n\t\t\t\t\t\t\t<ProgressIndicator description=\"Saving changes...\" />\n\t\t\t\t\t\t</section>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDropdown,\n\tTextField,\n\tFontIcon,\n\tMessageBar,\n\tMessageBarType,\n\tProgressIndicator,\n} from '@fluentui/react'\nimport parse from 'csv-parse/lib/sync'\nimport { observer } from 'mobx-react-lite'\nimport { useState, useCallback, useEffect, useRef, createRef } from 'react'\nimport {\n\ttranslateLocationName,\n\ttranslateQualifier,\n\ttranslateMisc,\n\tupdateStrings,\n} from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { convertCSVDataToObj } from '../utils/dataUtils'\nimport {\n\tgetLanguageOptions,\n\ttoProperCase,\n\tgetLanguageDisplayText,\n\tcreateCSVDataString,\n} from '../utils/textUtils'\nimport './Translate.scss'\n\nconst filterDropdownStyles = {\n\tdropdown: { border: 'none' },\n\ttitle: {\n\t\tfontSize: '14px',\n\t\tcolor: '#0078d4 !important',\n\t\tborder: 'none',\n\t\tbackgroundColor: 'transparent',\n\t},\n\tcaretDown: {\n\t\tcolor: '#0078d4 !important',\n\t\tfontSize: '14px',\n\t},\n\tdropdownOptionText: { fontSize: '14px' },\n}\n\nexport default observer(function Translate() {\n\tconst {\n\t\tglobalFileData,\n\t\trepoFileData,\n\t\tcurrentLanguage,\n\t\tisDataRefreshing,\n\t\tpendingChanges,\n\t} = getAppStore()\n\tconst languageOptions = getLanguageOptions()\n\tconst translationFilter = [\n\t\t{\n\t\t\tkey: 'missing',\n\t\t\ttext: 'Needs Translation',\n\t\t},\n\t\t{\n\t\t\tkey: 'all',\n\t\t\ttext: 'Show All',\n\t\t},\n\t]\n\n\tconst miscFilter = [\n\t\t{\n\t\t\tkey: 'all',\n\t\t\ttext: 'All',\n\t\t},\n\t\t{\n\t\t\tkey: 'state',\n\t\t\ttext: 'State-specific',\n\t\t},\n\t\t{\n\t\t\tkey: 'state_link',\n\t\t\ttext: 'State Links',\n\t\t},\n\t\t{\n\t\t\tkey: 'other',\n\t\t\ttext: 'Uncategorized',\n\t\t},\n\t]\n\tconst [showLoading, setShowLoading] = useState<boolean>(false)\n\n\tconst locationFullList = useRef<any[]>([])\n\tconst qualifierFullList = useRef<any[]>([])\n\tconst miscFullList = useRef<any[]>([])\n\tconst stateSpecificOptions = useRef<any[]>([])\n\n\tconst mainLanguage = useRef<string>(currentLanguage)\n\tconst toLanguage = useRef<string>(languageOptions[0].key)\n\n\tconst fileUploadRef = createRef<HTMLInputElement>()\n\tconst [errorMessage, setErrorMessage] = useState<\n\t\t{ message: string } | undefined\n\t>()\n\n\tconst [locationList, setLocationList] = useState<any[]>([])\n\tconst [qualifierList, setQualifierList] = useState<any[]>([])\n\tconst [miscList, setMiscList] = useState<any[]>([])\n\n\tconst [translationFilterState, setTranslationFilterState] = useState<string>(\n\t\ttranslationFilter[0].key\n\t)\n\tconst [miscFilterState, setMiscFilterState] = useState<string>(\n\t\tmiscFilter[0].key\n\t)\n\tconst [\n\t\tmiscStateSpecFilterState,\n\t\tsetMiscStateSpecFilterState,\n\t] = useState<string>('')\n\tconst [isSectionCollapse, setSectionCollapse] = useState<any>({\n\t\tlocations: true,\n\t\tqualifiers: true,\n\t\tmisc: true,\n\t})\n\n\tconst buildTranslationsLists = useCallback(() => {\n\t\tconst tempMiscList: any[] = []\n\n\t\tif (repoFileData) {\n\t\t\tconst tempList: any[] = []\n\t\t\tObject.entries(repoFileData).forEach(([_key, value]: [string, any]) => {\n\t\t\t\tconst stateId = value?.info?.content.id\n\t\t\t\tconst stateNames = globalFileData?.cdcStateNames.content\n\t\t\t\tconst stateLinks = globalFileData?.cdcStateLinks.content\n\n\t\t\t\tconst stateLabel =\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`] &&\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][mainLanguage.current] &&\n\t\t\t\t\tstateNames[`cdc/${stateId}/state_name`][\n\t\t\t\t\t\tmainLanguage.current\n\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t? stateNames[`cdc/${stateId}/state_name`][mainLanguage.current]\n\t\t\t\t\t\t: `*Translation Not Found* (${stateId})`\n\n\t\t\t\tconst stateLinkLabel =\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`] &&\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`][mainLanguage.current] &&\n\t\t\t\t\tstateLinks[`cdc/${stateId}/state_link`][\n\t\t\t\t\t\tmainLanguage.current\n\t\t\t\t\t].trim() !== ''\n\t\t\t\t\t\t? stateLinks[`cdc/${stateId}/state_link`][mainLanguage.current]\n\t\t\t\t\t\t: `*Translation Not Found* (${stateId})`\n\n\t\t\t\tconst translateToValue = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateNames?.[`cdc/${stateId}/state_name`]?.[toLanguage.current]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateNames?.[`cdc/${stateId}/state_name`]?.[toLanguage.current]\n\n\t\t\t\tconst translateToValue_SMS = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateNames?.[`cdc/${stateId}/state_name`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-sms`\n\t\t\t\t\t  ]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateNames?.[`cdc/${stateId}/state_name`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-sms`\n\t\t\t\t\t  ]\n\n\t\t\t\tconst translateToValue_Voice = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateNames?.[`cdc/${stateId}/state_name`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-voice`\n\t\t\t\t\t  ]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateNames?.[`cdc/${stateId}/state_name`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-voice`\n\t\t\t\t\t  ]\n\n\t\t\t\tconst translateLinkToValue = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateLinks?.[`cdc/${stateId}/state_link`]?.[toLanguage.current]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateLinks?.[`cdc/${stateId}/state_link`]?.[toLanguage.current]\n\n\t\t\t\tconst translateLinkToValue_SMS = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateLinks?.[`cdc/${stateId}/state_link`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-sms`\n\t\t\t\t\t  ]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateLinks?.[`cdc/${stateId}/state_link`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-sms`\n\t\t\t\t\t  ]\n\n\t\t\t\tconst translateLinkToValue_Voice = !toLanguage.current\n\t\t\t\t\t? ''\n\t\t\t\t\t: !stateLinks?.[`cdc/${stateId}/state_link`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-voice`\n\t\t\t\t\t  ]\n\t\t\t\t\t? ''\n\t\t\t\t\t: stateLinks?.[`cdc/${stateId}/state_link`]?.[\n\t\t\t\t\t\t\t`${toLanguage.current}-voice`\n\t\t\t\t\t  ]\n\n\t\t\t\ttempList.push({\n\t\t\t\t\tkey: `cdc/${stateId}/state_name`,\n\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\tfrom: stateLabel,\n\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\tto: translateToValue,\n\t\t\t\t\tsms: translateToValue_SMS,\n\t\t\t\t\tvoice: translateToValue_Voice,\n\t\t\t\t\t_to: translateToValue,\n\t\t\t\t\t_sms: translateToValue_SMS,\n\t\t\t\t\t_voice: translateToValue_Voice,\n\t\t\t\t\tparent: 'global',\n\t\t\t\t\tcategory: 'locations',\n\t\t\t\t})\n\n\t\t\t\ttempMiscList.push({\n\t\t\t\t\tkey: `cdc/${stateId}/state_link`,\n\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\tfrom: stateLinkLabel,\n\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\tto: translateLinkToValue,\n\t\t\t\t\tsms: translateLinkToValue_SMS,\n\t\t\t\t\tvoice: translateLinkToValue_Voice,\n\t\t\t\t\t_to: translateLinkToValue,\n\t\t\t\t\t_sms: translateLinkToValue_SMS,\n\t\t\t\t\t_voice: translateLinkToValue_Voice,\n\t\t\t\t\tparent: 'global',\n\t\t\t\t\tcategory: 'state_link',\n\t\t\t\t})\n\t\t\t})\n\t\t\tlocationFullList.current = tempList.sort((a, b) =>\n\t\t\t\ta.from > b.from ? 1 : -1\n\t\t\t)\n\t\t}\n\n\t\tif (globalFileData) {\n\t\t\tconst tempQualifierList: any[] = []\n\t\t\tObject.entries(globalFileData.customStrings.content).forEach(\n\t\t\t\t([key, value]: [string, any]) => {\n\t\t\t\t\tif (key.startsWith('c19.eligibility.question')) {\n\t\t\t\t\t\ttempQualifierList.push({\n\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\tsms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\tvoice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\t_sms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\t_voice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\tparent: 'global',\n\t\t\t\t\t\t\tcategory: 'qualifiers',\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttempMiscList.push({\n\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\tsms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\tvoice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\t_sms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\t_voice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\tparent: 'global',\n\t\t\t\t\t\t\tcategory: 'other',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\tqualifierFullList.current = tempQualifierList.sort((a, b) =>\n\t\t\t\ta.from > b.from ? 1 : -1\n\t\t\t)\n\t\t}\n\n\t\tconst stateStrings: any[] = []\n\t\tif (repoFileData) {\n\t\t\tObject.entries(repoFileData)\n\t\t\t\t.filter(([_key, value]: [string, any]) => value.strings)\n\t\t\t\t.forEach(([aKey, value]: [string, any]) => {\n\t\t\t\t\tObject.entries(value.strings.content).forEach(\n\t\t\t\t\t\t([bKey, value]: [string, any]) => {\n\t\t\t\t\t\t\tstateStrings.push({\n\t\t\t\t\t\t\t\tkey: bKey,\n\t\t\t\t\t\t\t\tfromKey: mainLanguage.current,\n\t\t\t\t\t\t\t\tfrom: value[mainLanguage.current],\n\t\t\t\t\t\t\t\ttoKey: toLanguage.current,\n\t\t\t\t\t\t\t\tto: value[toLanguage.current],\n\t\t\t\t\t\t\t\tsms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\t\tvoice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\t\t_to: value[toLanguage.current],\n\t\t\t\t\t\t\t\t_sms: value[`${toLanguage.current}-sms`],\n\t\t\t\t\t\t\t\t_voice: value[`${toLanguage.current}-voice`],\n\t\t\t\t\t\t\t\tparent: aKey,\n\t\t\t\t\t\t\t\tcategory: 'state',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t}\n\t\tmiscFullList.current = tempMiscList\n\t\t\t.concat(stateStrings)\n\t\t\t.sort((a, b) => (a.key > b.key ? 1 : -1))\n\n\t\tconst tempMiscStateSpecificList: any[] = []\n\t\tconst tempKeys: any[] = []\n\t\tmiscFullList.current.forEach((i) => {\n\t\t\tif (!tempKeys.includes(i.parent) && i.category === 'state') {\n\t\t\t\ttempMiscStateSpecificList.push({\n\t\t\t\t\tkey: i.parent,\n\t\t\t\t\ttext: toProperCase(i.parent),\n\t\t\t\t})\n\n\t\t\t\ttempKeys.push(i.parent)\n\t\t\t}\n\t\t})\n\t\tstateSpecificOptions.current = tempMiscStateSpecificList.sort((a, b) =>\n\t\t\ta.key > b.key ? 1 : -1\n\t\t)\n\t}, [globalFileData, repoFileData])\n\n\tconst onCollapseSection = useCallback(\n\t\t(name: string) => {\n\t\t\tsetSectionCollapse({\n\t\t\t\t...isSectionCollapse,\n\t\t\t\t...{ [name]: !isSectionCollapse[name] },\n\t\t\t})\n\t\t},\n\t\t[setSectionCollapse, isSectionCollapse]\n\t)\n\n\tconst handleLocationTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst change: any = {}\n\t\t\tswitch (ev.target.name) {\n\t\t\t\tcase rowItem.toKey:\n\t\t\t\t\tchange.to = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-sms`:\n\t\t\t\t\tchange.sms = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-voice`:\n\t\t\t\t\tchange.voice = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst idx = locationList.findIndex((i) => i.from === rowItem.from)\n\t\t\tlocationList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\t...change,\n\t\t\t}\n\t\t\tsetLocationList([...locationList])\n\t\t},\n\t\t[locationList, setLocationList]\n\t)\n\n\tconst handleQualifierTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst change: any = {}\n\n\t\t\tswitch (ev.target.name) {\n\t\t\t\tcase rowItem.toKey:\n\t\t\t\t\tchange.to = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-sms`:\n\t\t\t\t\tchange.sms = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-voice`:\n\t\t\t\t\tchange.voice = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst idx = qualifierList.findIndex((i) => i.from === rowItem.from)\n\t\t\tqualifierList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\t...change,\n\t\t\t}\n\t\t\tsetQualifierList([...qualifierList])\n\t\t},\n\t\t[qualifierList, setQualifierList]\n\t)\n\n\tconst handleMiscTextChange = useCallback(\n\t\t(ev, rowItem) => {\n\t\t\tconst change: any = {}\n\n\t\t\tswitch (ev.target.name) {\n\t\t\t\tcase rowItem.toKey:\n\t\t\t\t\tchange.to = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-sms`:\n\t\t\t\t\tchange.sms = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t\tcase `${rowItem.toKey}-voice`:\n\t\t\t\t\tchange.voice = ev.target.value\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst idx = miscList.findIndex((i) => i.from === rowItem.from)\n\t\t\tmiscList[idx] = {\n\t\t\t\t...rowItem,\n\t\t\t\t...change,\n\t\t\t}\n\t\t\tsetMiscList([...miscList])\n\t\t},\n\t\t[miscList, setMiscList]\n\t)\n\n\tconst updateLocationTranslation = useCallback((item) => {\n\t\tlet hasUpdate = false\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = toProperCase(item.to).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.sms && item.sms.toLowerCase() !== item._sms.toLowerCase()) {\n\t\t\titem.sms = toProperCase(item.sms).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.voice && item.voice.toLowerCase() !== item._voice.toLowerCase()) {\n\t\t\titem.voice = toProperCase(item.voice).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (hasUpdate) {\n\t\t\ttranslateLocationName(item)\n\t\t}\n\t}, [])\n\n\tconst updateQualifierTranslation = useCallback((item) => {\n\t\tlet hasUpdate = false\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = String(item.to).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.sms && item.sms.toLowerCase() !== item._sms.toLowerCase()) {\n\t\t\titem.sms = String(item.sms).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.voice && item.voice.toLowerCase() !== item._voice.toLowerCase()) {\n\t\t\titem.voice = String(item.voice).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (hasUpdate) {\n\t\t\ttranslateQualifier(item)\n\t\t}\n\t}, [])\n\n\tconst updateMiscTranslation = useCallback((item) => {\n\t\tlet hasUpdate = false\n\t\tif (item.to && item.to.toLowerCase() !== item._to.toLowerCase()) {\n\t\t\titem.to = String(item.to).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.sms && item.sms.toLowerCase() !== item._sms.toLowerCase()) {\n\t\t\titem.sms = String(item.sms).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (item.voice && item.voice.toLowerCase() !== item._voice.toLowerCase()) {\n\t\t\titem.voice = String(item.voice).trim()\n\t\t\thasUpdate = true\n\t\t}\n\n\t\tif (hasUpdate) {\n\t\t\ttranslateMisc(item)\n\t\t}\n\t}, [])\n\n\tconst onLanguageChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\ttoLanguage.current = option.key\n\t\t\tbuildTranslationsLists()\n\t\t\tif (translationFilterState === 'missing') {\n\t\t\t\tsetLocationList(locationFullList.current.filter((i) => !i._to))\n\t\t\t\tsetQualifierList(qualifierFullList.current.filter((i) => !i._to))\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current.filter((i) => !i._to))\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) => !i._to && i.category === miscFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetLocationList(locationFullList.current)\n\t\t\t\tsetQualifierList(qualifierFullList.current)\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current)\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter((i) => i.category === miscFilterState)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\ttranslationFilterState,\n\t\t\tmiscFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tbuildTranslationsLists,\n\t\t\tsetLocationList,\n\t\t\tsetQualifierList,\n\t\t\tsetMiscList,\n\t\t]\n\t)\n\n\tconst onTranslationFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tif (option.key === 'missing') {\n\t\t\t\tsetLocationList(locationFullList.current.filter((i) => !i._to))\n\t\t\t\tsetQualifierList(qualifierFullList.current.filter((i) => !i._to))\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current.filter((i) => !i._to))\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) => !i._to && i.category === miscFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetLocationList(locationFullList.current)\n\t\t\t\tsetQualifierList(qualifierFullList.current)\n\n\t\t\t\tif (miscFilterState === 'all') {\n\t\t\t\t\tsetMiscList(miscFullList.current)\n\t\t\t\t} else {\n\t\t\t\t\tif (miscFilterState === 'state') {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter(\n\t\t\t\t\t\t\t\t(i) =>\n\t\t\t\t\t\t\t\t\ti.category === miscFilterState &&\n\t\t\t\t\t\t\t\t\ti.parent === miscStateSpecFilterState\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMiscList(\n\t\t\t\t\t\t\tmiscFullList.current.filter((i) => i.category === miscFilterState)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetTranslationFilterState(option.key)\n\t\t},\n\t\t[\n\t\t\tsetMiscList,\n\t\t\tsetLocationList,\n\t\t\tsetQualifierList,\n\t\t\tlocationFullList,\n\t\t\tqualifierFullList,\n\t\t\tmiscFullList,\n\t\t\tmiscFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tsetTranslationFilterState,\n\t\t]\n\t)\n\n\tconst onMiscFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tconst selectedMiscStateOptionKey =\n\t\t\t\tmiscStateSpecFilterState || stateSpecificOptions.current[0].key\n\t\t\tconst filteredList = miscFullList.current.filter((i) => {\n\t\t\t\tif (option.key === 'all') {\n\t\t\t\t\treturn translationFilterState === 'missing' ? !i._to : i\n\t\t\t\t} else {\n\t\t\t\t\tif (translationFilterState === 'missing') {\n\t\t\t\t\t\tif (option.key === 'state') {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t!i._to &&\n\t\t\t\t\t\t\t\ti.category === option.key &&\n\t\t\t\t\t\t\t\ti.parent === selectedMiscStateOptionKey\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn !i._to && i.category === option.key\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (option.key === 'state') {\n\t\t\t\t\t\t\treturn i.category === option.key && selectedMiscStateOptionKey\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn i.category === option.key\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetMiscList(filteredList)\n\t\t\tsetMiscFilterState(option.key)\n\t\t\tsetMiscStateSpecFilterState(selectedMiscStateOptionKey)\n\t\t},\n\t\t[\n\t\t\tmiscFullList,\n\t\t\ttranslationFilterState,\n\t\t\tmiscStateSpecFilterState,\n\t\t\tsetMiscStateSpecFilterState,\n\t\t\tsetMiscList,\n\t\t\tsetMiscFilterState,\n\t\t]\n\t)\n\n\tconst onMiscStateSpecificFilterChange = useCallback(\n\t\t(_ev, option) => {\n\t\t\tsetMiscList(miscFullList.current.filter((i) => i.parent === option.key))\n\t\t\tsetMiscStateSpecFilterState(option.key)\n\t\t},\n\t\t[setMiscList, miscFullList]\n\t)\n\n\tconst onReaderLoadData = (readerEvent: any) => {\n\t\ttry {\n\t\t\tconst content = readerEvent.target.result\n\t\t\tconst contentObj = convertCSVDataToObj(parse(content, { columns: true }))\n\t\t\tif (Object.keys(contentObj).length > 0) {\n\t\t\t\tupdateStrings(contentObj)\n\t\t\t\tsetShowLoading(false)\n\t\t\t} else {\n\t\t\t\tthrow new Error('Invalid File Content.')\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetErrorMessage(err)\n\t\t\tsetShowLoading(false)\n\t\t}\n\t}\n\n\tconst onFileUpload = (e: any) => {\n\t\tsetErrorMessage(undefined)\n\t\tif (e.target.files.length > 0) {\n\t\t\tsetShowLoading(true)\n\t\t\tconst file = e.target.files[0]\n\t\t\tif (file.type === 'text/csv') {\n\t\t\t\tconst reader = new FileReader()\n\t\t\t\treader.onload = onReaderLoadData\n\t\t\t\treader.readAsText(file, 'UTF-8')\n\t\t\t} else {\n\t\t\t\tsetErrorMessage(new Error('Invalid File Type.'))\n\t\t\t\tsetShowLoading(false)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst triggerFileOnClick = () => {\n\t\tfileUploadRef.current?.click()\n\t}\n\n\tconst searchForStrings = (elem: any, resultObj: any) => {\n\t\tif (elem.strings && elem.strings.content) {\n\t\t\tObject.assign(resultObj, elem.strings.content)\n\t\t}\n\t\tif (elem.regions && elem.regions.length > 0) {\n\t\t\telem.regions.forEach((region: any) => {\n\t\t\t\tsearchForStrings(region, resultObj)\n\t\t\t})\n\t\t}\n\t}\n\n\tconst onFileDownload = () => {\n\t\tconst stringsObj = {}\n\t\tObject.assign(\n\t\t\tstringsObj,\n\t\t\tglobalFileData.customStrings.content,\n\t\t\tglobalFileData.cdcStateNames.content,\n\t\t\tglobalFileData.cdcStateLinks.content\n\t\t)\n\t\tObject.keys(repoFileData).forEach((location: string) => {\n\t\t\tsearchForStrings(repoFileData[location], stringsObj)\n\t\t})\n\t\tconst stringData = createCSVDataString(stringsObj)\n\t\tconst csvData = new Blob([stringData], { type: 'text/csv' })\n\t\tconst csvUrl = URL.createObjectURL(csvData)\n\t\twindow.open(csvUrl)\n\t}\n\n\tuseEffect(() => {\n\t\tmainLanguage.current = currentLanguage\n\t\tbuildTranslationsLists()\n\t\tif (!pendingChanges) {\n\t\t\tonTranslationFilterChange(null, { key: translationFilterState })\n\t\t}\n\t}, [currentLanguage, mainLanguage, buildTranslationsLists, pendingChanges, onTranslationFilterChange, translationFilterState])\n\n\treturn (\n\t\t<div className=\"translatePageContainer\">\n\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t<div className=\"breadCrumbs\">/ Translate</div>\n\t\t\t\t\t\t<div className=\"mainTitle\">Translate</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bodyContent\">\n\t\t\t\t\t{errorMessage && (\n\t\t\t\t\t\t<MessageBar\n\t\t\t\t\t\t\tmessageBarType={MessageBarType.error}\n\t\t\t\t\t\t\tdismissButtonAriaLabel=\"Close\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p>Unexpected {errorMessage?.toString()}</p>\n\t\t\t\t\t\t</MessageBar>\n\t\t\t\t\t)}\n\t\t\t\t\t{!(showLoading || isDataRefreshing) ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<div className=\"filterGroup\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"availDropdown\">Translate from:</label>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tid=\"availDropdown\"\n\t\t\t\t\t\t\t\t\t\tselectedKey={toLanguage.current}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Available languages\"\n\t\t\t\t\t\t\t\t\t\toptions={languageOptions}\n\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\tonChange={onLanguageChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"translateDropdown\">Show:</label>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tid=\"translateDropdown\"\n\t\t\t\t\t\t\t\t\t\tselectedKey={translationFilterState}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Needs Translation\"\n\t\t\t\t\t\t\t\t\t\toptions={translationFilter}\n\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\tonChange={onTranslationFilterChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"fileOptions\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tref={fileUploadRef}\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\tonChange={onFileUpload}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<button onClick={onFileDownload}>\n\t\t\t\t\t\t\t\t\t\t<FontIcon iconName=\"Download\" />\n\t\t\t\t\t\t\t\t\t\tDownload Template\n\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t<button onClick={triggerFileOnClick}>\n\t\t\t\t\t\t\t\t\t\t<FontIcon iconName=\"CircleAdditionSolid\" className=\"blue\" />\n\t\t\t\t\t\t\t\t\t\tUpload File\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\t\tonClick={() => onCollapseSection('locations')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\tisSectionCollapse.locations ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>Locations ({locationList.length})</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isSectionCollapse.locations &&\n\t\t\t\t\t\t\t\t(locationList.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"translateListRow\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">General</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">SMS</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">Voice</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{locationList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`locationRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.toKey}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleLocationTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateLocationTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-sms`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.sms}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleLocationTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateLocationTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-voice`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.voice}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleLocationTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateLocationTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\t\tNo missing location translations found for:{' '}\n\t\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\t\tonClick={() => onCollapseSection('qualifiers')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\tisSectionCollapse.qualifiers\n\t\t\t\t\t\t\t\t\t\t\t? 'ChevronRight'\n\t\t\t\t\t\t\t\t\t\t\t: 'ChevronDown'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>Qualifiers ({qualifierList.length})</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isSectionCollapse.qualifiers &&\n\t\t\t\t\t\t\t\t(qualifierList.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"translateListRow qualifier\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">General</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">SMS</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">Voice</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{qualifierList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`qualifierRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t\t} qualifier`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.toKey}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleQualifierTextChange(ev, val)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateQualifierTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-sms`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.sms}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleQualifierTextChange(ev, val)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateQualifierTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-voice`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.voice}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleQualifierTextChange(ev, val)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateQualifierTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\t\tNo missing qualifier translations found for:{' '}\n\t\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"listTitle\"\n\t\t\t\t\t\t\t\tonClick={() => onCollapseSection('misc')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FontIcon\n\t\t\t\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\t\t\t\tisSectionCollapse.misc ? 'ChevronRight' : 'ChevronDown'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"groupToggleIcon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>Miscellaneous ({miscList.length})</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isSectionCollapse.misc &&\n\t\t\t\t\t\t\t\t(miscList.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"miscFilterGroup\">\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={miscFilterState}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Filter Miscellaneous\"\n\t\t\t\t\t\t\t\t\t\t\t\toptions={miscFilter}\n\t\t\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onMiscFilterChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{miscFilterState === 'state' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={miscStateSpecFilterState}\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={stateSpecificOptions.current}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={filterDropdownStyles}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onMiscStateSpecificFilterChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"translateListRow misc\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">General</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">SMS</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"toCol\">Voice</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{miscList.map((val: any, idx: number) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`miscRow-${idx}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`translateListRow${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx % 2 > 0 ? '' : ' altRow'\n\t\t\t\t\t\t\t\t\t\t\t\t\t} misc`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fromCol\">{val.from}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={val.toKey}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.to}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleMiscTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateMiscTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-sms`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.sms}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleMiscTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateMiscTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`${val.toKey}-voice`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={val.voice}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"toCol\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoAdjustHeight={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={Math.ceil(val.from.length / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => handleMiscTextChange(ev, val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => updateMiscTranslation(val)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"emptyTranslateListRow\">\n\t\t\t\t\t\t\t\t\t\tNo missing miscellaneous translations found for:{' '}\n\t\t\t\t\t\t\t\t\t\t{getLanguageDisplayText(\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current,\n\t\t\t\t\t\t\t\t\t\t\ttoLanguage.current\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<section className=\"loadingContainer\">\n\t\t\t\t\t\t\t<ProgressIndicator\n\t\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\t\tisDataRefreshing\n\t\t\t\t\t\t\t\t\t\t? 'Loading content...'\n\t\t\t\t\t\t\t\t\t\t: 'Updating translations...'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { observer } from 'mobx-react-lite'\nimport { useEffect } from 'react'\nimport { clearState } from '../store/localStorage'\n\nconst GH_REPO = process.env.REACT_APP_REPO_NAME\nconst GH_REPO_OWNER = process.env.REACT_APP_REPO_OWNER\n\nexport default observer(function UnAuthorized() {\n\tuseEffect(() => {\n\t\tclearState()\n\t}, [])\n\n\treturn (\n\t\t<div className=\"appBodyLeft\">\n\t\t\t<div className=\"dashboardPageWrapper\">\n\t\t\t\t<div className=\"bodyContainer\">\n\t\t\t\t\t<div className=\"bodyHeader\">\n\t\t\t\t\t\t<div className=\"bodyHeaderTitle\">\n\t\t\t\t\t\t\t<div className=\"mainTitle\">Welcome!</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<section style={{ width: '70%', margin: '0px auto' }}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThank you for your interest in helping to manage the data,\n\t\t\t\t\t\tunfortunately right now access to this tool requires collaborator\n\t\t\t\t\t\tpermissions on{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref={`https://www.github.com/${GH_REPO_OWNER}/${GH_REPO}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tthis repo\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t. Feel free to request access over on GitHub!\n\t\t\t\t\t</p>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tPrimaryButton,\n\tDefaultButton,\n} from '@fluentui/react'\nimport { observer } from 'mobx-react-lite'\nimport { logoutUser } from '../mutators/authMutators'\nimport { getAppStore } from '../store/store'\n\nimport './LocationForm.scss'\n\nexport default observer(function UserAccessExpirationForm(props: any) {\n\tconst { onSubmit } = props\n    const {pendingChanges} = getAppStore()\n\t\n\treturn (\n\t\t<div className=\"modalWrapper\">\n\t\t\t<div className=\"modalHeader\">\n\t\t\t\t<div className=\"title\">Session Expired</div>\n\t\t\t</div>\n\t\t\t<div className=\"modalBody\">\n                <p>\n                    Please log back in with Github to continue working. \n                </p>\n\t\t\t</div>\n\t\t\t<div className=\"modalFooter\">\n\t\t\t\t<PrimaryButton\n\t\t\t\t\ttext=\"Continue Working\"\n\t\t\t\t\tonClick={onSubmit}\n\t\t\t\t/>\n                {!pendingChanges && (\n                    <DefaultButton text=\"Logout\" onClick={logoutUser} />\n                )}\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tDropdown,\n\tIconButton,\n\tPersona,\n\tPersonaSize,\n\tPivot,\n\tPivotItem,\n\tContextualMenu,\n\tMessageBar,\n\tMessageBarButton,\n\tModal,\n\tSpinner\n} from '@fluentui/react'\nimport { useBoolean } from '@uifabric/react-hooks'\nimport { observer } from 'mobx-react-lite'\nimport { useCallback, useState, useEffect, useRef } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { loginUser, reLoginUser } from '../actions/authActions'\nimport { initializeGitData, saveContinue } from '../actions/repoActions'\nimport { logoutUser } from '../mutators/authMutators'\nimport { setCurrentLanguage } from '../mutators/repoMutators'\nimport { getAppStore } from '../store/store'\nimport { getLanguageOptions } from '../utils/textUtils'\nimport Dashboard from './Dashboard'\nimport { Footer } from './Footer'\nimport Locations from './Locations'\nimport Login from './Login'\nimport QualifierPanel from './QualifierPanel'\nimport Review from './Review'\nimport Translate from './Translate'\nimport UnAuthorized from './UnAuthorized'\nimport UserAccessExpirationForm from './UserAccessExpirationForm'\n\nimport './App_reset_styles.scss'\nimport './App.scss'\n\nexport default observer(function App() {\n\tconst state = getAppStore()\n\tconst [isPanelOpen, { setTrue: showPanel, setFalse: hidePanel }] = useBoolean(\n\t\tfalse\n\t)\n\tconst [\n\t\tisPersonaMenuOpen,\n\t\t{ setTrue: showPersonaMenu, setFalse: hidePersonaMenu },\n\t] = useBoolean(false)\n\tconst [branchWasSaved, setBranchWasSaved] = useState(false)\n\tconst [\n\t\tisAccessExpiration,\n\t\t{ setTrue: showAccessExpirationModal, setFalse: hideAccessExpirationModal },\n\t] = useBoolean(false)\n\tconst [selectedKey, setSelectedKey] = useState<string>('Dashboard')\n\tconst personaComponent = useRef(null)\n\n\tuseEffect(() => {\n\t\tif (state.accessToken && !state.globalFileData) \n\t\t\tloginUser()\n\t}, [state.accessToken, state.globalFileData])\n\n\tuseEffect(() => {\n\t\tif(state.userAccessExpired)\n\t\t\tshowAccessExpirationModal()\n\t}, [state.userAccessExpired, showAccessExpirationModal])\n\t\n\tuseEffect(() => {\n\t\tif (state.pendingChanges) {\n\t\t\twindow.onbeforeunload = function () {\n\t\t\t\treturn true\n\t\t\t}\n\t\t} else {\n\t\t\twindow.onbeforeunload = null\n\t\t}\n\t}, [state.pendingChanges])\n\n\tconst togglePanel = useCallback(\n\t\t(item?: any) => {\n\t\t\tif (item.props.headerText === 'Locations') {\n\t\t\t\tshowPanel()\n\t\t\t} else {\n\t\t\t\thidePanel()\n\t\t\t}\n\t\t\tsetSelectedKey(item.props.headerText)\n\t\t},\n\t\t[showPanel, hidePanel, setSelectedKey]\n\t)\n\n\tconst showDashboard = useCallback(() => {\n\t\tsetSelectedKey('Dashboard')\n\t}, [setSelectedKey])\n\n\tconst onAccessExpirationFormSubmit = useCallback(() => {\n\t\tif(state.globalFileData)\n\t\t\treLoginUser()\n\t\telse \n\t\t\tloginUser()\n\n\t\thideAccessExpirationModal()\n\t}, [state.globalFileData, hideAccessExpirationModal])\n\n\tconst renderRepoMessageBar = () => {\n\t\tif (state.loadedPRData && state.prChanges && !state.isDataRefreshing) {\n\t\t\treturn (\n\t\t\t\t<MessageBar\n\t\t\t\t\tmessageBarType={5}\n\t\t\t\t\tisMultiline={true}\n\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t>\n\t\t\t\t\tYou are currently working on:{' '}\n\t\t\t\t\t<strong>\n\t\t\t\t\t\tPR: {state.loadedPRData.number} - {state.loadedPRData.title}\n\t\t\t\t\t</strong>\n\t\t\t\t\t<br />\n\t\t\t\t\tLast updated by:{' '}\n\t\t\t\t\t{state.prChanges?.last_commit?.commit?.committer?.name}\n\t\t\t\t\t<br />\n\t\t\t\t\tLast updated on:{' '}\n\t\t\t\t\t{new Date(state.loadedPRData.updated_at).toLocaleString()}\n\t\t\t\t</MessageBar>\n\t\t\t)\n\t\t}\n\n\t\treturn null\n\t}\n\n\tconst renderSaveContinueMessageBar = () => {\n\t\tif (state.pendingChanges) {\n\t\t\treturn (\n\t\t\t\t<MessageBar\n\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t\tactions={\n\t\t\t\t\t\t!!state.loadedPRData ? undefined : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{!state.isSavingCommits ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<MessageBarButton disabled={state.isDataRefreshing} onClick={initializeGitData}>\n\t\t\t\t\t\t\t\t\t\tDiscard\n\t\t\t\t\t\t\t\t\t</MessageBarButton>\n\t\t\t\t\t\t\t\t\t<MessageBarButton\n\t\t\t\t\t\t\t\t\t\tdisabled={state.isDataRefreshing}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetBranchWasSaved(true)\n\t\t\t\t\t\t\t\t\t\t\tsaveContinue()\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSave and Continue\n\t\t\t\t\t\t\t\t\t</MessageBarButton>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Spinner label=\"Saving changes...\" ariaLive=\"assertive\" labelPosition=\"left\" />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\tYou have pending changes, please click on the review tab to submit\n\t\t\t\t\tthese changes.\n\t\t\t\t</MessageBar>\n\t\t\t)\n\t\t} else if (state.userWorkingBranch) {\n\t\t\treturn (\n\t\t\t\t<MessageBar\n\t\t\t\t\tmessageBarType={4}\n\t\t\t\t\tstyles={{ root: { margin: '10px 5px' } }}\n\t\t\t\t>\n\t\t\t\t\t{branchWasSaved\n\t\t\t\t\t\t? 'Your changes have been saved  to'\n\t\t\t\t\t\t: 'You are now working on branch '}{' '}\n\t\t\t\t\t{state.userWorkingBranch}, <br />\n\t\t\t\t\tplease click on the review tab to submit these changes.\n\t\t\t\t</MessageBar>\n\t\t\t)\n\t\t}\n\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className=\"rootContentWrapper\">\n\t\t\t{state.isAuthenticated ? (\n\t\t\t\t<>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t<div className=\"appPageContainer\">\n\t\t\t\t\t\t\t\t<div className=\"appHeaderWrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"appHeaderContainer\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\ticonProps={{ iconName: 'waffle' }}\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Apps\"\n\t\t\t\t\t\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\t\t\t\t\t\ticon: { fontSize: '24px', color: 'white' },\n\t\t\t\t\t\t\t\t\t\t\t\trootHovered: { backgroundColor: 'transparent' },\n\t\t\t\t\t\t\t\t\t\t\t\trootPressed: { backgroundColor: 'transparent' },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className=\"appHeaderTitle\">Data Composer</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"appHeaderPersona\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultSelectedKey={state.currentLanguage}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e, o) => setCurrentLanguage(o)}\n\t\t\t\t\t\t\t\t\t\t\t\tariaLabel=\"Pick Language\"\n\t\t\t\t\t\t\t\t\t\t\t\toptions={getLanguageOptions()}\n\t\t\t\t\t\t\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tdropdown: { border: 'none' },\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaretDown: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tdropdownOptionText: { fontSize: '14px' },\n\t\t\t\t\t\t\t\t\t\t\t\t\troot: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectors: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t':hover': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,.25);',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tref={personaComponent}\n\t\t\t\t\t\t\t\t\t\t\tonClick={showPersonaMenu}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"appHeaderPersonaDetails\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"appHeaderUsername\">\n\t\t\t\t\t\t\t\t\t\t\t\t{state.userDisplayName}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Persona\n\t\t\t\t\t\t\t\t\t\t\t\ttext={state.userDisplayName}\n\t\t\t\t\t\t\t\t\t\t\t\tsize={PersonaSize.size32}\n\t\t\t\t\t\t\t\t\t\t\t\thidePersonaDetails={true}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<ContextualMenu\n\t\t\t\t\t\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'logoutUserPersonaMenu',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: 'Logout',\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlogoutUser()\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\thidden={!isPersonaMenuOpen}\n\t\t\t\t\t\t\t\t\t\t\ttarget={personaComponent}\n\t\t\t\t\t\t\t\t\t\t\tonItemClick={hidePersonaMenu}\n\t\t\t\t\t\t\t\t\t\t\tonDismiss={hidePersonaMenu}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"appBodyWrapper\">\n\t\t\t\t\t\t\t\t\t{state.isAuthorized ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"appBodyLeft\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Pivot\n\t\t\t\t\t\t\t\t\t\t\t\t\tonLinkClick={togglePanel}\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey={selectedKey}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem headerText=\"Dashboard\" itemKey=\"Dashboard\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderSaveContinueMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderRepoMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dashboard />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem headerText=\"Locations\" itemKey=\"Locations\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderSaveContinueMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderRepoMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Locations />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{state.isEditable && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theaderText=\"Translate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemKey=\"Translate\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderSaveContinueMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderRepoMessageBar()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Translate />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(state.pendingChanges ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.userWorkingBranch) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PivotItem headerText=\"Review\" itemKey=\"Review\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Review showDashboard={showDashboard} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PivotItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Pivot>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{state.isEditable && isPanelOpen && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"appBodyRight\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<QualifierPanel />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<UnAuthorized />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\tisOpen={isAccessExpiration}\n\t\t\t\t\t\t\t\tisModeless={false}\n\t\t\t\t\t\t\t\tisDarkOverlay={true}\n\t\t\t\t\t\t\t\tisBlocking={false}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<UserAccessExpirationForm\n\t\t\t\t\t\t\t\t\tonSubmit={onAccessExpirationFormSubmit}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t\t<div>404 page not found.</div>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t)}\n\t\t\t<Footer />\n\t\t</div>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nimport { AppState } from '../store/schema/AppState'\n\nexport const firebaseApp = firebase.initializeApp({\n\tapiKey: process.env.REACT_APP_FIREBASE_KEY,\n\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n})\n\nexport const loginUserService = async (): Promise<AppState | undefined> => {\n\tlet authResp = undefined\n\n\tconst provider = new firebase.auth.GithubAuthProvider()\n\tprovider.addScope('repo')\n\n\tconst response = await firebaseApp.auth().signInWithPopup(provider)\n\n\tif (response) {\n\t\tconst oauthCreds = response.credential as firebase.auth.OAuthCredential\n\t\tauthResp = {\n\t\t\tisAuthenticated: true,\n\t\t\taccessToken: oauthCreds.accessToken,\n\t\t\temail: response.user?.email,\n\t\t\tuserDisplayName: response.user?.displayName,\n\t\t\tusername: response.additionalUserInfo?.username,\n\t\t} as AppState\n\t}\n\n\treturn authResp\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport parse from 'csv-parse/lib/sync'\nimport { getAppStore } from '../store/store'\nimport { convertCSVDataToObj } from '../utils/dataUtils'\nimport {\n\tb64_to_utf8,\n\tutf8_to_b64,\n\tcreateCSVDataString,\n} from '../utils/textUtils'\n\nconst githubRepoOwner = process.env.REACT_APP_REPO_OWNER\nconst githubRepoName = process.env.REACT_APP_REPO_NAME\n\nconst createPath = (obj: any, pathInput: string, value: any = undefined) => {\n\tlet path = pathInput.split('/')\n\tlet current = obj\n\twhile (path.length > 1) {\n\t\tconst [head, ...tail] = path\n\t\tpath = tail\n\t\tif (current[head] === undefined) {\n\t\t\tcurrent[head] = {}\n\t\t}\n\t\tcurrent = current[head]\n\t}\n\tif (!current[path[0]]) {\n\t\tcurrent[path[0]] = {}\n\t} else {\n\t\tcurrent[path[0]] = { ...current[path[0]], ...value }\n\t}\n\treturn obj\n}\n\nconst gitFetch = async (url: string, options: any = {}) => {\n\tconst {headers, json = true, ..._options} = options\n\tconst {accessToken} = getAppStore()\n\tconst apiUrl = url.startsWith('https://api.github.com/') ? url : `https://api.github.com/repos/${githubRepoOwner}/${githubRepoName}/${url}`\n\n\tconst response = await fetch(apiUrl, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAuthorization: `token ${accessToken}`,\n\t\t\t...headers\n\t\t},\n\t\t..._options\n\t})\n\t\n\tif(response.ok === false) {\n\t\tconst error = Object.assign(\n\t\t\tnew Error(), {\n\t\t\tstatus: response.status,\n\t\t\tok: response.ok\n\t\t})\n\n\t\tconsole.log('error', error);\n\t\tthrow error\n\t}\n\t\n\tif(json)\n\t\treturn await response.json()\n\telse\n\t\treturn response\n}\n\nconst getContent = async (url: string, token: string) => {\n\tconst response = await fetch(`${url}`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAuthorization: `token ${token}`,\n\t\t},\n\t})\n\tconst data = await response.json()\n\n\treturn data\n}\n\nconst createWorkingBranch = async (state: any, branchName: string) => {\n\tif(state.mainBranch)\n\t\treturn await gitFetch(\n\t\t\t`git/refs`,\n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tref: branchName,\n\t\t\t\t\tsha: state.mainBranch.commit.sha,\n\t\t\t\t}),\n\t\t\t}\n\t\t)\n\telse \n\t\treturn undefined\n}\n\nconst commitChanges = async (state: any, branchName: string, globalUpdates: any, locationUpdates: any) => {\n\tlet branchLastCommitSha = ''\n\n\tif (globalUpdates) {\n\t\tfor (const i in globalUpdates) {\n\t\t\tconst updateObj = globalUpdates[i]\n\t\t\tconst fileData = createCSVDataString(updateObj.content)\n\t\t\tconst query = `contents/packages/plans/data/localization/${updateObj.path}`\n\t\t\tconst globalResp = await gitFetch(\n\t\t\t\tquery,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\tmessage: `updated ${updateObj.path}`,\n\t\t\t\t\t\tcontent: utf8_to_b64(fileData),\n\t\t\t\t\t\tsha: updateObj.sha,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\t\t\tbranchLastCommitSha = globalResp?.commit?.sha ?? branchLastCommitSha\n\t\t}\n\t}\n\n\tif (locationUpdates) {\n\t\tlet locationResp: any = {}\n\t\tfor (const i in locationUpdates) {\n\t\t\tconst locationObj = locationUpdates[i].data\n\t\t\tconst infoQuery = `contents/packages/plans/data/policies/${locationObj.info.path}`\n\t\t\tconst method = locationObj.delete ? 'DELETE' : 'PUT'\n\t\t\tconst message = locationObj.delete ? 'deleted' : 'updated'\n\t\t\tconst content = locationObj.delete ? undefined : {\n\t\t\t\tinfo: utf8_to_b64(\n\t\t\t\t\tJSON.stringify(locationObj.info.content, null, '\\t')\n\t\t\t\t),\n\t\t\t\tvaccination: utf8_to_b64(\n\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\tlocationObj.vaccination.content,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'\\t'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tstrings: utf8_to_b64(\n\t\t\t\t\tcreateCSVDataString(locationObj.strings.content)\n\t\t\t\t)\n\t\t\t}\n\t\t\t//Info\n\t\t\tlocationResp = await gitFetch(\n\t\t\t\tinfoQuery,\n\t\t\t\t{\n\t\t\t\t\tmethod,\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\tmessage: `${message} ${locationObj.info.path}`,\n\t\t\t\t\t\tcontent: content?.info,\n\t\t\t\t\t\tsha: locationObj.info.sha,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\n\t\t\t//Vaccination\n\t\t\tconst vacQuery = `contents/packages/plans/data/policies/${locationObj.vaccination.path}`\n\t\t\tlocationResp = await gitFetch(\n\t\t\t\tvacQuery,\n\t\t\t\t{\n\t\t\t\t\tmethod,\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\tmessage: `${message} ${locationObj.vaccination.path}`,\n\t\t\t\t\t\tcontent: content?.vaccination,\n\t\t\t\t\t\tsha: locationObj.vaccination.sha,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\n\t\t\t//Strings\n\t\t\tconst stringQuery = `contents/packages/plans/data/policies/${locationObj.strings.path}`\n\n\t\t\tlocationResp = await gitFetch(\n\t\t\t\tstringQuery,\n\t\t\t\t{\n\t\t\t\t\tmethod,\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\tmessage: `${message} ${locationObj.strings.path}`,\n\t\t\t\t\t\tcontent: content?.strings,\n\t\t\t\t\t\tsha: locationObj.strings.sha,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\n\t\t\t// Regions\n\t\t\tif (locationObj.regions) {\n\t\t\t\tconst regionKeys = Object.keys(locationObj.regions)\n\t\t\t\tfor (const key of regionKeys) {\n\t\t\t\t\tconst regionObj = locationObj.regions[key]\n\t\t\t\t\t//Info\n\t\t\t\t\tconst regInfoQuery = `contents/packages/plans/data/policies/${regionObj.info.path}`\n\n\t\t\t\t\tlocationResp = await gitFetch(\n\t\t\t\t\t\tregInfoQuery,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod,\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\tmessage: `${message} ${regionObj.info.path}`,\n\t\t\t\t\t\t\t\tcontent: locationObj.delete ? undefined : utf8_to_b64(\n\t\t\t\t\t\t\t\t\tJSON.stringify(regionObj.info.content, null, '\\t')\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tsha: regionObj.info.sha,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\t//Vaccination\n\t\t\t\t\tconst regVacQuery = `contents/packages/plans/data/policies/${regionObj.vaccination.path}`\n\n\t\t\t\t\tlocationResp = await gitFetch(\n\t\t\t\t\t\tregVacQuery,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmethod,\n\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\tbranch: branchName,\n\t\t\t\t\t\t\t\tmessage: `${message} ${regionObj.vaccination.path}`,\n\t\t\t\t\t\t\t\tcontent: locationObj.delete ? undefined : utf8_to_b64(\n\t\t\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t\t\tregionObj.vaccination.content,\n\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t'\\t'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tsha: regionObj.vaccination.sha,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbranchLastCommitSha = locationResp?.commit?.sha ?? branchLastCommitSha\n\t}\n\n\treturn branchLastCommitSha\n}\n\nexport const repoServices = async (\n\tcommand: string,\n\textraData: any = undefined\n): Promise<any | undefined> => {\n\ttry {\n\n\t\tconst state = getAppStore()\n\t\tlet branchName = `refs/heads/${state.username}-policy-${Date.now()}`\n\n\t\tswitch (command) {\n\t\t\tcase 'checkAccess':\n\t\t\t\treturn await gitFetch(\n\t\t\t\t\t`collaborators/${state.username}`,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAccept: 'application/vnd.github.v3+json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tjson: false\n\t\t\t\t\t}\n\t\t\t\t)\n\n\t\t\tcase 'getBranches':\n\t\t\t\treturn await gitFetch(`branches`)\n\n\t\t\tcase 'getUserWorkingBranches': \n\t\t\t\tconst userPrs = await repoServices('getUserPullRequests')\n\t\t\t\tconst allBranches = extraData[0]\n\t\t\t\tconst usersBranches = allBranches.filter((branch: any) => branch.name.split('-policy-')[0] === state.username)\n\n\t\t\t\tconst userWorkingBranches = usersBranches.filter((branch: any) => {\n\t\t\t\t\treturn !userPrs.find((pr: any) => pr?.head?.ref === branch.name)\n\t\t\t\t} ).sort((a: any, b: any) => (a.name > b.name ? -1 : 1))\n\n\t\t\t\treturn userWorkingBranches\n\n\t\t\tcase 'getUserPullRequests': \n\t\t\t\tconst prs = await gitFetch(`issues?creator=${state.username}`)\n\t\t\t\tconst populatedPRs: any[] = await Promise.all(\n\t\t\t\t\tprs.map(async (item: any) => gitFetch(`pulls/${item.number}`))\n\t\t\t\t)\n\n\t\t\t\treturn populatedPRs\n\t\t\tcase 'getPullRequests':\n\t\t\t\tconst loadPRResponse = await gitFetch(`pulls/${extraData}`)\n\t\t\t\tconst commitResp = await gitFetch(`pulls/${extraData}/commits`)\n\n\t\t\t\treturn {data: loadPRResponse, commits: commitResp}\n\t\t\tcase 'getIssues':\n\t\t\t\treturn await gitFetch(`issues`)\n\t\t\t\t\n\t\t\tcase 'getRepoFileData':\n\t\t\t\tconst query = !extraData\n\t\t\t\t\t? `contents/packages/plans/data`\n\t\t\t\t\t: `contents/packages/plans/data?ref=${extraData}`\n\n\t\t\t\tconst dataFolderObj = await gitFetch(query)\n\t\t\t\tconst policyFolderGitUrl = dataFolderObj.find(\n\t\t\t\t\t(folder: { name: string }) => folder.name === 'policies'\n\t\t\t\t).git_url\n\t\t\t\tconst loadPolicyFolderResponse = await gitFetch(`${policyFolderGitUrl}?recursive=true`)\n\t\t\t\tconst policyFolderData = loadPolicyFolderResponse\n\t\t\t\tconst stateData: any = {}\n\t\t\t\tpolicyFolderData.tree.forEach(async (element: any) => {\n\t\t\t\t\tif (element.type === 'tree') {\n\t\t\t\t\t\tcreatePath(stateData, element.path)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst lastInstance = element.path.lastIndexOf('/')\n\t\t\t\t\t\tconst filePath = element.path.substring(0, lastInstance)\n\t\t\t\t\t\tconst fileName: string = element.path.substring(lastInstance + 1)\n\t\t\t\t\t\tconst fileType: string = fileName.split('.')[0]\n\t\t\t\t\t\tconst fileObj: any = {}\n\n\t\t\t\t\t\tconst fileData = await getContent(\n\t\t\t\t\t\t\tString(element.url),\n\t\t\t\t\t\t\tString(state.accessToken)\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tswitch (fileName.split('.')[1].toLowerCase()) {\n\t\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\t\tfileObj[fileType] = {\n\t\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\t\tcontent: JSON.parse(b64_to_utf8(fileData.content)),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'md':\n\t\t\t\t\t\t\t\tfileObj['desc_md'] = {\n\t\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\t\tcontent: b64_to_utf8(fileData.content),\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'csv':\n\t\t\t\t\t\t\t\tfileObj['strings'] = {\n\t\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\t\ttype: fileType,\n\t\t\t\t\t\t\t\t\tsha: element.sha,\n\t\t\t\t\t\t\t\t\turl: element.url,\n\t\t\t\t\t\t\t\t\tpath: element.path,\n\t\t\t\t\t\t\t\t\tcontent: convertCSVDataToObj(\n\t\t\t\t\t\t\t\t\t\tparse(b64_to_utf8(fileData.content), { columns: true })\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (fileObj !== {}) {\n\t\t\t\t\t\t\tcreatePath(stateData, filePath, fileObj)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tconst localizationFolderGitUrl = dataFolderObj.find(\n\t\t\t\t\t(folder: { name: string }) => folder.name === 'localization'\n\t\t\t\t).git_url\n\n\t\t\t\tconst localizationResponse = await gitFetch(`${localizationFolderGitUrl}?recursive=true`)\n\n\n\t\t\t\tconst customStrings = localizationResponse.tree.find(\n\t\t\t\t\t(file: { path: string }) => file.path === 'custom-strings.csv'\n\t\t\t\t)\n\t\t\t\tconst cdcStateNames = localizationResponse.tree.find(\n\t\t\t\t\t(file: { path: string }) => file.path === 'cdc-state-names.csv'\n\t\t\t\t)\n\t\t\t\tconst cdcStateLinks = localizationResponse.tree.find(\n\t\t\t\t\t(file: { path: string }) => file.path === 'cdc-state-links.csv'\n\t\t\t\t)\n\n\t\t\t\tlet customStringsData: any = {}\n\t\t\t\tlet cdcStateNamesData: any = {}\n\t\t\t\tlet cdcStateLinksData: any = {}\n\n\t\t\t\tconst customStringsDataParse = await getContent(\n\t\t\t\t\tString(customStrings.url),\n\t\t\t\t\tString(state.accessToken)\n\t\t\t\t)\n\t\t\t\tcustomStringsData = convertCSVDataToObj(\n\t\t\t\t\tparse(b64_to_utf8(customStringsDataParse.content), { columns: true })\n\t\t\t\t)\n\n\t\t\t\tconst cdcStateNamesDataParse = await getContent(\n\t\t\t\t\tString(cdcStateNames.url),\n\t\t\t\t\tString(state.accessToken)\n\t\t\t\t)\n\t\t\t\tcdcStateNamesData = convertCSVDataToObj(\n\t\t\t\t\tparse(b64_to_utf8(cdcStateNamesDataParse.content), { columns: true })\n\t\t\t\t)\n\n\t\t\t\tconst cdcStateLinksDataParse = await getContent(\n\t\t\t\t\tString(cdcStateLinks.url),\n\t\t\t\t\tString(state.accessToken)\n\t\t\t\t)\n\t\t\t\tcdcStateLinksData = convertCSVDataToObj(\n\t\t\t\t\tparse(b64_to_utf8(cdcStateLinksDataParse.content), { columns: true })\n\t\t\t\t)\n\n\t\t\t\tcustomStrings['content'] = customStringsData\n\t\t\t\tcdcStateNames['content'] = cdcStateNamesData\n\t\t\t\tcdcStateLinks['content'] = cdcStateLinksData\n\n\t\t\t\treturn [stateData, customStrings, cdcStateNames, cdcStateLinks]\n\n\t\t\tcase 'createWorkingBranch':\n\t\t\t\tif (state?.mainBranch) {\n\t\t\t\t\treturn await createWorkingBranch(state, branchName)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'commitChanges':\n\t\t\t\tif (extraData) {\n\t\t\t\t\treturn await commitChanges(state, extraData.branchName, extraData.globalUpdates, extraData.locationUpdates)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'createPR':\n\t\t\t\tif (state?.mainBranch) {\n\t\t\t\t\tconst globalUpdates = extraData[0]\n\t\t\t\t\tconst locationUpdates = extraData[1]\n\t\t\t\t\tconst prFormData = extraData[3]\n\t\t\t\t\tif(state.loadedPRData) {\n\t\t\t\t\t\tbranchName = `refs/heads/${state.loadedPRData.head.ref}`\n\t\t\t\t\t} else if (state.userWorkingBranch) {\n\t\t\t\t\t\tbranchName = `refs/heads/${state.userWorkingBranch}`\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait createWorkingBranch(state, branchName)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (state.pendingChanges) {\n\t\t\t\t\t\tawait commitChanges(state, branchName, globalUpdates, locationUpdates)\n\t\t\t\t\t}\n\n\t\t\t\t\tlet prTitle = ''\n\t\t\t\t\tif (!state.loadedPRData) {\n\t\t\t\t\t\tprTitle = !prFormData.prTitle ? 'auto PR creation' : prFormData.prTitle\n\t\t\t\t\t\tconst prResp = await gitFetch(\n\t\t\t\t\t\t\t`pulls`,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\thead: branchName,\n\t\t\t\t\t\t\t\t\tbase: 'main',\n\t\t\t\t\t\t\t\t\ttitle: prTitle,\n\t\t\t\t\t\t\t\t\tbody: prFormData.prDetails\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\n\t\t\t\t\t\tawait gitFetch(\n\t\t\t\t\t\t\t`issues/${prResp.number}/labels`,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\tlabels: ['data-composer-submission', 'requires-data-accuracy-review']\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn prResp\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprTitle = !prFormData.prTitle ? state.loadedPRData.title : prFormData.prTitle\n\t\t\t\t\t\tconst prDetails = !prFormData.prDetails ? state.loadedPRData.body : prFormData.prDetails\n\t\t\t\t\t\tawait gitFetch(\n\t\t\t\t\t\t\t`pulls/${state.loadedPRData.number}`,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\t\t\ttitle: prTitle,\n\t\t\t\t\t\t\t\t\tbody: prDetails\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\treturn state.loadedPRData\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn undefined\n\t} catch(error) {\n\t\treturn error\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { orchestrator } from 'satcheljs'\nimport { loginUser, reLoginUser } from '../actions/authActions'\nimport { initializeGitData } from '../actions/repoActions'\nimport { setUserAuthData, setUserNoAccess, setUserAccessExpired, setUserAccessToken } from '../mutators/authMutators'\nimport { setIsDataRefreshing } from '../mutators/repoMutators'\nimport { loginUserService } from '../services/loginUserService'\nimport { repoServices } from '../services/repoServices'\nimport { getAppStore } from '../store/store'\n\norchestrator(loginUser, async () => {\n\ttry {\n\t\tlet resp: any\n\t\tconst state = getAppStore()\n\n\t\tif (state.accessToken) {\n\t\t\tresp = {\n\t\t\t\taccessToken: state.accessToken,\n\t\t\t\temail: state.email,\n\t\t\t\tisAuthenticated: state.isAuthenticated,\n\t\t\t\tuserDisplayName: state.userDisplayName,\n\t\t\t\tusername: state.username,\n\t\t\t}\n\t\t} else {\n\t\t\tresp = await loginUserService()\n\t\t}\n\n\t\tif (resp) {\n\t\t\tsetUserAuthData(resp)\n\t\t\tconst accessResp = await repoServices('checkAccess')\n\t\t\tif (accessResp.ok) {\n\t\t\t\tinitializeGitData()\n\t\t\t} else {\n\t\t\t\tif(accessResp.status === 401) {\n\t\t\t\t\tsetUserAccessExpired(true)\n\t\t\t\t\tsetUserAccessToken()\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetUserNoAccess()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tconsole.warn('Error logging in', error)\n\t}\n})\n\n\norchestrator(reLoginUser, async () => {\n\ttry {\n\t\tsetIsDataRefreshing(true)\n\t\tconst resp = await loginUserService()\n\t\tsetUserAccessExpired(false)\n\t\t\n\t\tif (resp) {\n\t\t\tsetUserAuthData(resp)\n\t\t\tconst accessResp = await repoServices('checkAccess')\n\t\t\t\n\t\t\tif (!accessResp.ok) {\n\t\t\t\tsetUserNoAccess()\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tconsole.warn('Error logging in', error)\n\t} finally {\n\t\tsetIsDataRefreshing(false)\n\t}\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { orchestrator } from 'satcheljs'\nimport {\n\tcreatePR,\n\tgetRepoFileData,\n\tinitializeGitData,\n\tloadPR,\n\tloadBranch,\n\tsaveContinue,\n} from '../actions/repoActions'\nimport {setUserAccessExpired, setUserAccessToken} from '../mutators/authMutators'\nimport {\n\tsetBranchList,\n\tclearLoadedPRData,\n\tsetInitRepoFileData,\n\tsetRepoFileData,\n\tsetIssuesList,\n\tsetLoadedPRData,\n\tsetPendingChanges,\n\tsetUserWorkingBranch,\n\tsetUserWorkingBranches,\n\tsetIsDataRefreshing,\n\tsetIsDataStale,\n\tsetSavingCommitsFlag,\n} from '../mutators/repoMutators'\nimport { getChanges } from '../selectors/changesSelectors'\nimport { repoServices } from '../services/repoServices'\nimport { getAppStore } from '../store/store'\n\nconst handleError = (error: any, callback?: () => void) => {\n\tswitch(error.status) {\n\t\tcase 401: \n\t\t\tsetUserAccessExpired(true)\n\t\t\tsetUserAccessToken()\n\t\tbreak\n\t\tcase 'DATA_IS_STALE': \n\t\tcase 422:\n\t\t\tsetIsDataStale(true)\n\t\tbreak\n\t}\n\n\tsetSavingCommitsFlag(false)\n\tcallback?.()\n}\n\norchestrator(createPR, async (message) => {\n\tconst { fileData } = message\n\n\tlet resp = await repoServices('createPR', fileData)\n\tif(resp.ok === false) {\n\t\thandleError(resp, () => fileData[2]({error: true}))\n\t} else {\n\t\tconst store = getAppStore()\n\t\tconst nextWorkingBranches = store.userWorkingBranches.filter(\n\t\t\t(b) => b.name !== store.userWorkingBranch\n\t\t)\n\n\t\tresp = await repoServices('getBranches')\n\t\tsetBranchList(resp)\n\n\t\tresp = await repoServices('getUserWorkingBranches', [resp])\n\t\tsetUserWorkingBranches(nextWorkingBranches)\n\t\tsetUserWorkingBranch(undefined)\n\n\t\tresp = await repoServices('getRepoFileData')\n\t\tsetInitRepoFileData(resp)\n\n\t\tresp = await repoServices('getIssues')\n\t\tsetIssuesList(resp, fileData[2]())\n\n\t\tclearLoadedPRData()\n\t}\n})\n\norchestrator(getRepoFileData, async () => {\n\tconst resp = await repoServices('getRepoFileData')\n\tsetInitRepoFileData(resp)\n})\n\norchestrator(initializeGitData, async () => {\n\tsetIsDataRefreshing(true)\n\tsetUserWorkingBranch(undefined)\n\tclearLoadedPRData()\n\tsetIsDataStale(false)\n\n\tlet resp = await repoServices('getBranches')\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t\treturn\n\t}\n\t\n\n\tsetBranchList(resp)\n\n\tconst userWorkingBranches = await repoServices('getUserWorkingBranches', [\n\t\tresp,\n\t])\n\t\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t\treturn\n\t}\n\t\n\tsetUserWorkingBranches(userWorkingBranches)\n\n\tresp = await repoServices('getRepoFileData')\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t\treturn\n\t}\n\t\n\tsetInitRepoFileData(resp)\n\n\tresp = await repoServices('getIssues')\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t\treturn\n\t}\n\t\n\tsetIssuesList(resp)\n\n\tsetIsDataRefreshing(false)\n})\n\norchestrator(loadBranch, async (message) => {\n\tconst { branch } = message\n\tsetIsDataRefreshing(true)\n\n\tconst resp = await repoServices(\n\t\t'getRepoFileData',\n\t\t`refs/heads/${branch.name}`\n\t)\n\tif(resp.ok === false) {\n\t\thandleError(resp.status === 404 ? {...resp, status: 'DATA_IS_STALE'} : resp)\n\t}\n\telse {\n\t\tsetUserWorkingBranch(branch.name)\n\t\tsetRepoFileData(resp)\n\t\tclearLoadedPRData()\n\t}\n\n\tsetIsDataRefreshing(false)\n})\n\norchestrator(loadPR, async (message) => {\n\tconst { prNumber } = message\n\tsetIsDataRefreshing(true)\n\tif (prNumber) {\n\t\tconst prResp = await repoServices('getPullRequests', prNumber)\n\t\tif(prResp.ok === false) {\n\t\t\thandleError(prResp)\n\t\t\treturn\n\t\t} \n\t\n\t\tsetLoadedPRData(prResp)\n\n\t\tconst resp = await repoServices('getRepoFileData', prResp.data.head.ref)\n\t\tif(resp.ok === false)\n\t\tsetRepoFileData(resp)\n\n\t\tsetUserWorkingBranch(undefined)\n\t}\n\tsetIsDataRefreshing(false)\n})\n\norchestrator(saveContinue, async () => {\n\tsetSavingCommitsFlag(true)\n\tconst store = getAppStore()\n\tconst changes = getChanges()\n\tlet branch = store.userWorkingBranch\n\tlet resp;\n\n\tif (!branch) {\n\t\tresp = await repoServices('createWorkingBranch')\n\t\tif(resp.ok === false) {\n\t\t\thandleError(resp)\n\t\t\treturn\n\t\t}\n\n\t\tbranch = resp.ref.split('refs/heads/').join('')\n\t\tsetUserWorkingBranch(branch)\n\t}\n\n\tresp = await repoServices('commitChanges', {\n\t\t...changes,\n\t\tbranchName: `refs/heads/${branch}`,\n\t})\n\tif(resp.ok === false) {\n\t\thandleError(resp)\n\t} else {\n\t\tresp = await repoServices('getRepoFileData', resp)\n\t\tif(resp.ok === false) {\n\t\t\thandleError(resp)\n\t\t} else {\n\t\t\tsetRepoFileData(resp)\n\t\t\tsetPendingChanges(false)\n\t\t}\n\t}\n\n\tsetSavingCommitsFlag(false)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { initializeIcons } from '@fluentui/react/lib/Icons'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './components/App'\nimport './orchestrators/authOrchestrators'\nimport './orchestrators/repoOrchestrators'\n\nfunction render() {\n\ttry {\n\t\tconst basePath = process.env.REACT_APP_BASE_PATH\n\t\tinitializeIcons()\n\t\tReactDOM.render(\n\t\t\t<React.StrictMode>\n\t\t\t\t<Router basename={basePath}>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</React.StrictMode>,\n\t\t\tdocument.getElementById('root')\n\t\t)\n\t} catch (err) {\n\t\tconsole.error('error rendering app', err)\n\t}\n}\n\nrender()\n"],"sourceRoot":""}